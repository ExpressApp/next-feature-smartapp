(this["webpackJsonp@smartapp/feature-smartapp"]=this["webpackJsonp@smartapp/feature-smartapp"]||[]).push([[0],{120:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(45),i=a.n(s),l=a(7),o=a(42),r=a(6),d=(a(120),a(0));function j(){return Object(d.jsx)("div",{className:"main-loader",id:"main-loader",children:Object(d.jsxs)("div",{className:"main-loader__spinner",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})}a(122),a(61);var u=a(22);const b=Object(u.a)([e=>e.bot.features],(e=>e)),O=Object(u.a)([e=>e.bot.response],(e=>e)),m=Object(u.a)([e=>e.bot.staticFile],(e=>e));var h=a(20),p=a(11);let _=function(e){return e.SMARTAPP_RPC="smartapp_rpc",e.NOTIFICATION="notification",e}({}),E=function(e){return e.ECHO="echo",e.UPDATE_APP_COUNTER="update_app_counter",e.SEND_NOTIFICATION="send_notification",e.ECHO_FILE="echo_file",e.ECHO_FILES="echo_files",e.ECHO_STATIC_FILE="echo_static_file",e.SEARCH_USERS="search_users",e}({}),f=function(e){return e.ADD_CONTACT="add_contact",e.CREATE_PERSONAL_CHAT="create_personal_chat",e.SEND_MESSAGE="send_message",e.GET_CONTACT="get_contact",e.OPEN_SMARTAPP="open_smart_app",e.OPEN_CLIENT_SETTINGS="open_client_settings",e.GET_CHATS="get_chats",e.SEARCH_CORPORATE_PHONEBOOK="search_corporate_phonebook",e.OPEN_GROUP_CHAT="open_group_chat",e.SEND_BOT_COMMAND="send_bot_command",e.OPEN_CONTACT_CARD="open_contact_card",e}({}),v=function(e){return e.BACK_PRESSED="back_pressed",e.ROUTING_CHANGED="routing_changed",e.CLEAN_CACHE="clean_cache",e.MOVE_TO_ROOT="move_to_root",e}({}),N=function(e){return e.ADD_CONTACT="Add Contact",e.CREATE_PERSONAL_CHAT="Create Personal Chat",e.SEND_MESSAGE="Send Message to Group Chat or User",e.GET_CONTACT="Get Contact",e.OPEN_SMARTAPP="Open SmartApp",e.OPEN_CLIENT_SETTINGS="Open Client Settings",e.GET_CHATS="Get Chats",e.SEARCH_CORPORATE_PHONEBOOK="Search Corporate Phonebook",e.OPEN_GROUP_CHAT="Open Group Chat",e.SEND_BOT_COMMAND="Send Bot Command",e.OPEN_CONTACT_CARD="Open Contact Card",e}({}),x=function(e){return e.UPLOAD_FILE="upload_file",e.UPLOAD_FILES="upload_files",e}({}),S=function(e){return e.TEXT="text",e.COUNT="count",e.DELAY="delay",e.FILE="file",e.FILES="files",e.HUIDS="huids",e.PHONE="phone",e.NAME="name",e.HUID="huid",e.SMARTAPP_ID="appId",e.MESSAGE="message",e.GROUP_CHAT_ID="groupChatId",e.USER_HUID="userHuid",e.FILTER="filter",e.BODY="body",e.DATA="data",e}({}),T=function(e){return e.TEXT="Text",e.COUNT="Count",e.DELAY="Delay",e.FILE="File",e.FILES="Files",e.HUIDS="Huids",e.PHONE="Phone",e.NAME="Name",e.HUID="Huid",e.SMARTAPP_ID="Smartapp ID",e.MESSAGE="Message",e.GROUP_CHAT_ID="Group chat id",e.USER_HUID="User huid",e.FILTER="Filter",e.BODY="Body",e.DATA="Data",e}({}),C=function(e){return e.INPUT_TEXT="INPUT_TEXT",e.INPUT_NUMBER="INPUT_NUMBER",e.FILE_PICKER="FILE_PICKER",e.ARRAY_UUID="ARRAY_UUID",e.UUID="UUID",e}({});a(123);const y={method:"notification",name:"Express Notification"},g={name:"App Meta",method:"open_smart_meta_app",field:"openSmartAppMeta"},A={name:"Open File",method:"open_file"},I={name:"Request Location",method:"request_location"},R={name:"Scan QR",method:"scan_qr"},P={name:"Open Web Page",method:"open-web-page"},U={name:"Request self profile",method:"request-self-profile"},w={name:"Close SmartApp",method:"close-smartapp"},D={name:"File proxy",method:"file-proxy"},H={name:"Connection status",method:"connection-status"},F={name:"Message meta from menu action",method:"menu-item-message-meta"},L={method:"menu",params:{text:"menu"}},k={name:"Create deeplink",method:"create-deeplink"},M={INPUT_TEXT:"text",INPUT_NUMBER:"number",FILE_PICKER:"file",ARRAY_UUID:"text",UUID:"text"},G=[{method:f.ADD_CONTACT,name:N.ADD_CONTACT,icon:"perm_contact_calendar",uiElements:[{id:S.PHONE,label:T.PHONE,type:C.INPUT_TEXT},{id:S.NAME,label:T.NAME,type:C.INPUT_TEXT}]},{method:f.GET_CONTACT,name:N.GET_CONTACT,icon:"perm_contact_calendar",uiElements:[{id:S.PHONE,label:T.PHONE,type:C.INPUT_TEXT}]},{method:f.OPEN_CONTACT_CARD,name:N.OPEN_CONTACT_CARD,icon:"perm_contact_calendar",uiElements:[{id:S.USER_HUID,label:T.USER_HUID,type:C.UUID}]},{method:f.SEARCH_CORPORATE_PHONEBOOK,name:N.SEARCH_CORPORATE_PHONEBOOK,icon:"contacts",uiElements:[{id:S.FILTER,label:T.FILTER,type:C.INPUT_TEXT}]},{method:f.CREATE_PERSONAL_CHAT,name:N.CREATE_PERSONAL_CHAT,icon:"chat_bubble_outline",uiElements:[{id:S.HUID,label:T.HUID,type:C.UUID}]},{method:f.OPEN_GROUP_CHAT,name:N.OPEN_GROUP_CHAT,icon:"mark_chat_unread",uiElements:[{id:S.GROUP_CHAT_ID,label:T.GROUP_CHAT_ID,type:C.UUID}]},{method:f.OPEN_SMARTAPP,name:N.OPEN_SMARTAPP,icon:"open_in_browser",uiElements:[{id:S.SMARTAPP_ID,label:T.SMARTAPP_ID,type:C.INPUT_TEXT}]},{method:f.SEND_MESSAGE,name:N.SEND_MESSAGE,icon:"send",uiElements:[{id:S.MESSAGE,label:T.MESSAGE,type:C.INPUT_TEXT},{id:S.GROUP_CHAT_ID,label:T.GROUP_CHAT_ID,type:C.UUID},{id:S.USER_HUID,label:T.USER_HUID,type:C.UUID}]},{method:f.SEND_BOT_COMMAND,name:N.SEND_BOT_COMMAND,icon:"send",uiElements:[{id:S.USER_HUID,label:T.USER_HUID,type:C.UUID},{id:S.BODY,label:T.BODY,type:C.INPUT_TEXT},{id:S.DATA,label:T.DATA,type:C.INPUT_TEXT}]},{method:f.OPEN_CLIENT_SETTINGS,name:N.OPEN_CLIENT_SETTINGS,icon:"settings",uiElements:[]},{method:f.GET_CHATS,name:N.GET_CHATS,icon:"chat_bubble_outline",uiElements:[{id:S.FILTER,label:T.FILTER,type:C.INPUT_TEXT}]}],B={name:"Echo static file",method:E.ECHO_STATIC_FILE,uiElements:[{id:S.FILE,type:C.FILE_PICKER,label:T.FILE}]},V={name:"Echo with guaranteed delivery",method:E.ECHO,path:"guaranteed-delivery",uiElements:[{id:S.TEXT,type:C.INPUT_TEXT,label:T.TEXT}]};var X=a(78);a(82),a(81),a(79);const J=e=>null===e||void 0===e?void 0:e.reduce(((e,t)=>(e[t.id]=void 0,e)),{});var q=a(162);const z="LOAD_FEATURES",K="LOAD_FEATURES_SUCCESS",Y="RESET_RESPONSE",W="SEND_FEATURE_BOT_EVENT",Q="SEND_FEATURE_BOT_EVENT_SUCCESS",Z="SET_STATIC_FILE",$=Object(q.a)(z,(()=>{})),ee=Object(q.a)(K,(e=>e)),te=Object(q.a)(Y,(()=>{})),ae=Object(q.a)(W,(e=>e)),ce=Object(q.a)(Q,(e=>e)),ne=Object(q.a)(Z,(e=>e)),se=Object(q.a)("ECHO_STATIC_FILE",(e=>e));var ie;function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},le.apply(this,arguments)}function oe(e,t){let{title:a,titleId:n,...s}=e;return c.createElement("svg",le({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},s),a?c.createElement("title",{id:n},a):null,ie||(ie=c.createElement("path",{fillRule:"evenodd",d:"M13 11V4h-2v7H4v2h7v7h2v-7h7v-2h-7z"})))}const re=c.forwardRef(oe);var de;a.p;function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},je.apply(this,arguments)}function ue(e,t){let{title:a,titleId:n,...s}=e;return c.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},s),a?c.createElement("title",{id:n},a):null,de||(de=c.createElement("path",{fill:"currentColor",d:"M13 11V3h-2v8H3v2h8v8h2v-8h8v-2h-8z",transform:"rotate(45 12 12)"})))}const be=c.forwardRef(ue);var Oe;a.p;function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},me.apply(this,arguments)}function he(e,t){let{title:a,titleId:n,...s}=e;return c.createElement("svg",me({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 26",ref:t,"aria-labelledby":n},s),a?c.createElement("title",{id:n},a):null,Oe||(Oe=c.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-1)"},c.createElement("path",{fill:"#595959",d:"M5 0C3.73 0 2.44 1.225 2.5 2.407V22.63c-.06 1.784 1.23 3.007 2.5 2.89h15c1.71.117 3-1.106 3-2.89V6.26L16 0H5zm0 24.556c-.298-.117-1.298-.59-1.5-1.445V2.41C3.702 2.148 4.702 1.2 5 .963h10.5v3.852c.01 1.467.903 2.315 2 1.926H22v15.89c-.262.864-.76 1.81-2 1.928H5z"}),c.createElement("rect",{width:18.5,height:9.148,x:1,y:12.519,fill:"#5C5C5C",rx:2}),c.createElement("text",{fill:"#FFF",fontSize:5.5,fontWeight:600},c.createElement("tspan",{x:4.302,y:19},"\n        FILE\n      ")))))}const pe=c.forwardRef(he);a.p;var _e,Ee=a(69),fe=a.n(Ee);function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},ve.apply(this,arguments)}function Ne(e,t){let{title:a,titleId:n,...s}=e;return c.createElement("svg",ve({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},s),a?c.createElement("title",{id:n},a):null,_e||(_e=c.createElement("path",{fill:"currentColor",d:"M10.667.667h-8c-.734 0-1.334.6-1.334 1.333v9.333h1.334V2h8V.667zm2 2.666H5.333C4.6 3.333 4 3.933 4 4.667V14c0 .733.6 1.333 1.333 1.333h7.334c.733 0 1.333-.6 1.333-1.333V4.667c0-.734-.6-1.334-1.333-1.334zm0 10.667H5.333V4.667h7.334V14z"})))}const xe=c.forwardRef(Ne);a.p;var Se=a(70),Te=a.n(Se);a(125),a(126);function Ce(e){const t=Object(c.useRef)(null),a=null===e||void 0===e?void 0:e.botResponse;return Object(c.useEffect)((()=>{const e=new Te.a(t.current,{mode:"view",enableTransform:!0});a&&e.set(a);const c=document.createElement("button");c.className="copy-to-clipboard",c.innerHTML=fe.a.renderToStaticMarkup(Object(d.jsx)(xe,{height:"22",width:"22"})),c.addEventListener("click",(()=>(e=>{const t=document.createElement("textarea");t.innerHTML=JSON.stringify(e,null,"  "),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(a))),c.setAttribute("title","Copy To Clipboard");const n=document.querySelector(".jsoneditor-menu"),s=document.querySelector(".jsoneditor-menu .jsoneditor-search");return n.insertBefore(c,s),()=>e.destroy()}),[a]),Object(d.jsx)("div",{className:"json-viewer",ref:t})}var ye=a(13),ge=a.n(ye);const Ae="UPLOAD_FILE",Ie="UPLOAD_FILE_SUCCESS",Re="UPLOAD_FILES",Pe="UPLOAD_FILES_SUCCESS",Ue="REMOVE_FILE_SUCCESS",we="RESET_ATTACHMENTS",De="SEND_EXPRESS_EVENT",He="SEND_MESSAGE_EXPRESS_EVENT",Fe="SEND_EXPRESS_EVENT_SUCCESS",Le="SET_NOTIFICATION_SUCCESS",ke="RESET_EXPRESS_NOTIFICATION_SUCCESS",Me="RESET_EXPRESS_RESPONSE",Ge="SEND_EXPRESS_READY_EVENT",Be="SET_META",Ve="ECHO_STATIC_FILE",Xe="REQUEST_LOCATION",Je="SET_LOCATION",qe="REQUEST_SELF_PROFILE",ze="SET_SELF_PROFILE",Ke="CLOSE_SMART_APP",Ye="GET_CONNECTION_STATUS",We="SET_CONNECTION_STATUS",Qe="SUBSCRIBE_CONNECTION_STATUS",Ze="UNSUBSCRIBE_CONNECTION_STATUS",$e="CONNECTION_STATUS_CHANGED",et="CREATE_DEEPLINK",tt="SET_DEEPLINK_URL",at=Object(q.a)(Ae),ct=Object(q.a)(Ie,(e=>e)),nt=Object(q.a)(Re,(function(){return{type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}})),st=Object(q.a)(Pe,(e=>e)),it=(Object(q.a)("REMOVE_FILE",(e=>e)),Object(q.a)(Ue,(e=>e))),lt=Object(q.a)(we),ot=Object(q.a)(De,(e=>e)),rt=Object(q.a)(He,(e=>e)),dt=Object(q.a)(Fe,(e=>e)),jt=Object(q.a)(Le,(e=>e)),ut=Object(q.a)(ke),bt=Object(q.a)(Be,(e=>e)),Ot=Object(q.a)(Me),mt=Object(q.a)(Ge),ht=Object(q.a)(Je,(e=>e)),pt=Object(q.a)(Xe),_t=(Object(q.a)(Ve),Object(q.a)(qe)),Et=Object(q.a)(ze,(e=>e)),ft=Object(q.a)(Ke),vt=Object(q.a)(Ye),Nt=Object(q.a)(We,(e=>e)),xt=Object(q.a)(Qe),St=Object(q.a)(Ze),Tt=Object(q.a)($e,(e=>e)),Ct=Object(q.a)(et,((e,t)=>({appId:e,meta:t}))),yt=Object(q.a)(tt,(e=>e)),gt=Object(u.a)([e=>e.client.attachments],(e=>e)),At=Object(u.a)([e=>e.client.response],(e=>e)),It=Object(u.a)([e=>e.client.meta],(e=>e)),Rt=Object(u.a)([e=>e.client.location],(e=>e)),Pt=Object(u.a)([e=>e.client.notifications],(e=>e)),Ut=Object(u.a)([e=>e.client.selfProfile],(e=>e));var wt,Dt=a(50);function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},Ht.apply(this,arguments)}function Ft(e,t){let{title:a,titleId:n,...s}=e;return c.createElement("svg",Ht({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},s),a?c.createElement("title",{id:n},a):null,wt||(wt=c.createElement("path",{d:"M7.828 11l5.586-5.586L12 4l-8 8 8 8 1.414-1.414L7.828 13H20v-2z"})))}const Lt=c.forwardRef(Ft);a.p,a(127);function kt(e){let{name:t}=e;return Object(d.jsxs)("div",{className:"feature-page__header",children:[Object(d.jsx)(h.b,{className:"btn--arrow-left",to:"/",id:"back-nav-link",children:Object(d.jsx)(Lt,{className:"icon--arrow-left",height:24,width:24})}),Object(d.jsx)("div",{className:"feature-page__info",children:Object(d.jsxs)("span",{className:"feature-page__title",children:[t," method"]})})]})}function Mt(e){let{name:t,method:a,uiElements:n=[]}=e;const s=Object(l.d)(),i=Object(l.e)(O),o=Object(l.e)(At),j=Object(l.e)(gt),[u,b]=Object(c.useState)([]),[m,h]=Object(c.useState)(""),[p,_]=Object(c.useState)(!1),v=a===E.SEARCH_USERS,N=[E.ECHO_FILE,E.ECHO_FILES].includes(a),x=E.SEARCH_USERS===a,y=Object.values(f).includes(a),g=()=>{const e=u[u.length-1],{id:t}=e,a={...e,id:t.includes(S.HUIDS)?"".concat(t).concat(u.length):t};b((e=>[...e,a]))},A=()=>{if(j){s(ae({method:a,params:{},files:j}))}},I=async e=>{switch(a){case f.SEND_MESSAGE:(e=>{if(!R(e).length)return;const{userHuid:t,groupChatId:a,message:c}=e;s(rt({userHuid:t,groupChatId:a,messageBody:c,messageMeta:{}}))})(e);break;case f.OPEN_CLIENT_SETTINGS:Object(r.f)();break;case f.GET_CHATS:await(async e=>{const t=await Object(r.d)({filter:null===e||void 0===e?void 0:e.filter});s(dt(t))})(e);break;case f.OPEN_GROUP_CHAT:await(async e=>{R(e).length&&await Object(r.h)({groupChatId:null===e||void 0===e?void 0:e.groupChatId})})(e);break;case f.SEARCH_CORPORATE_PHONEBOOK:await(async e=>{const t=await Object(r.l)({filter:null===e||void 0===e?void 0:e.filter});s(dt(t))})(e);break;case f.SEND_BOT_COMMAND:await(async e=>{const t=await Object(r.m)({userHuid:null===e||void 0===e?void 0:e.userHuid,data:null!==e&&void 0!==e&&e.data?{command:null===e||void 0===e?void 0:e.data}:null,body:null===e||void 0===e?void 0:e.body});s(dt(t))})(e);break;case f.OPEN_CONTACT_CARD:await(async e=>{const t=await Object(r.g)({userHuid:null===e||void 0===e?void 0:e.userHuid});t&&s(dt(t))})(e);break;default:(e=>{if(!R(e).length)return;s(ot({method:a,params:e}))})(e)}},R=Object(c.useMemo)((()=>e=>Object.values(e).filter((e=>e))),[]),P=e=>{const c=R(e);if(!c.length)return;if(t===V.name)return void(e=>{if(!R(e).length)return;const t={method:E.ECHO,params:e,guaranteed_delivery_required:!0};s(ae(t))})(e);s(ae({method:a,params:x?{huids:c}:e}))},U=()=>{a===E.ECHO_FILE?s(at()):a===E.ECHO_FILES&&s(nt())},w=()=>_(!p),D=Object(X.a)({initialValues:J(u),onSubmit:e=>{y?I(e):P(e)}}),H=()=>a!==f.GET_CHATS&&(N?!(null!==j&&void 0!==j&&j.length):!Object.values(D.values).filter((e=>e)).length);Object(c.useEffect)((()=>{const e=n.map(((e,t)=>({...e,id:e.id.includes(S.HUIDS)?"".concat(e.id).concat(t):e.id})));return b(e),()=>{s(te()),s(lt()),s(Ot())}}),[n,s]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:t}),N?Object(d.jsxs)("div",{className:"feature-page__form",children:[Object(d.jsx)("span",{className:"feature-page__title",children:a===E.ECHO_FILE?T.FILE:T.FILES}),Object(d.jsx)("button",{className:"btn--attach",onClick:U,children:a===E.ECHO_FILE?"Attach file":"Attach files"}),!(null===j||void 0===j||!j.length)&&Object(d.jsx)("div",{className:"attachments",children:j.map(((e,t)=>Object(d.jsxs)("span",{className:"attachments__item",children:[Object(d.jsx)("span",{children:e.fileName}),Object(d.jsx)(be,{id:"remove-file-".concat(t+1),width:20,height:20,className:"btn--remove-attachment",onClick:()=>{return t=e.fileId,s(it(t)),void(1===(null===j||void 0===j?void 0:j.length)&&s(ce(null)));var t}})]},e.fileId)))}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:ge()({"btn--submit":!0,"btn--submit-disabled":H()}),onClick:A,disabled:H(),type:"button",id:"files-submit",children:"Submit"})})]}):(()=>{const e=e=>{let{id:t,type:a}=e;const c=D.values[t];return(x||a===C.UUID)&&c?(s=D.values[t],!/[0-9a-fA-F-]{36}/.test(s)):t===S.PHONE?(n=D.values[t],!/(^8|7|\+7)((\d{10})|(\s\(\d{3}\)\s\d{3}\s\d{2}\s\d{2}))/.test(n)):void 0;var n,s};return!(null===u||void 0===u||!u.length)&&Object(d.jsxs)("form",{className:"feature-page__form",onSubmit:D.handleSubmit,children:[u.map(((t,a)=>{let{id:c,type:n,label:s}=t;const i=M[n],l=!x||0===a;return Object(d.jsxs)("div",{children:[l&&Object(d.jsx)("span",{className:"feature-page__title",children:s}),Object(d.jsx)("input",{className:ge()({input:!0,"input--error":e({id:c,type:n})}),onChange:D.handleChange,value:D.values[c]||"",type:i,multiple:c===S.FILES,id:c,min:0}),i===M.INPUT_TEXT&&D.values[c]&&Object(d.jsx)(be,{className:"btn--clear-input",onClick:()=>{D.setFieldValue(c,""),m&&h("")},height:20,width:20,id:"".concat(c,".field-clear")})]},c)})),Object(d.jsxs)("div",{className:"form-buttons",children:[Object(d.jsx)("button",{className:ge()({"btn--submit":!0,"btn--submit-disabled":H()}),disabled:H(),type:"submit",id:"submit",children:"Submit"}),v&&Object(d.jsx)(re,{title:"Add new input",className:"btn--plus",onClick:g,height:24,width:24})]})]})})()]}),i&&(()=>{var e,t,c,n;const s=null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.result;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"response-markdown",children:Object(d.jsx)(Dt.a,{children:a===E.ECHO?"text: "+(null===s||void 0===s||null===(t=s.replaceAll)||void 0===t?void 0:t.call(s,"\n","\n\r"))||!1:null===s||void 0===s||null===(c=s.replaceAll)||void 0===c?void 0:c.call(s,"\n","\n\r")})}),a===E.ECHO_FILES&&Object(d.jsxs)("div",{className:"response-files",children:["Files:",null===i||void 0===i||null===(n=i.files)||void 0===n?void 0:n.map((()=>Object(d.jsx)(pe,{className:"response-files__file",height:20,width:20})))]}),i&&Object(d.jsx)(Ce,{isJSONViewer:p,botResponse:i,toggleIsJSONViewer:w})]})})(),o&&Object(d.jsx)("div",{className:"response-express",id:"response",children:JSON.stringify(null===o||void 0===o?void 0:o.payload,null,2)})]})}a(133);const Gt=Object(u.a)([e=>e.ui.topLoader],(e=>e)),Bt=Object(u.a)([e=>e.ui.mainLoader],(e=>e)),Vt=Object(u.a)([e=>e.ui.redirectPath],(e=>e));function Xt(){const e=Object(l.e)(Gt),[t,a]=Object(c.useState)(!1),[n,s]=Object(c.useState)(!1),[i,o]=Object(c.useState)(!1),r=Object(c.useRef)(null),j=Object(c.useRef)(null);return Object(c.useEffect)((()=>{e&&!t&&a(!0),!e&&t&&(a(!1),s(!0),r.current=setTimeout((()=>{o(!0),j.current=setTimeout((()=>{s(!1),o(!1)}),100)}),200))}),[e,t]),Object(c.useEffect)((()=>()=>{r.current&&clearTimeout(r.current),j.current&&clearTimeout(j.current)}),[]),Object(d.jsx)("div",{className:ge()({"top-loader":!0,"top-loader--enabled":t&&!i}),children:Object(d.jsx)("div",{className:ge()({"top-loader__bar":!0,"top-loader__bar--start":t,"top-loader__bar--stop":n,"top-loader__bar--finish":i})})})}var Jt;function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},qt.apply(this,arguments)}function zt(e,t){let{title:a,titleId:n,...s}=e;return c.createElement("svg",qt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",ref:t,"aria-labelledby":n},s),a?c.createElement("title",{id:n},a):null,Jt||(Jt=c.createElement("g",{fill:"currentColor",fillRule:"nonzero"},c.createElement("path",{d:"M1.379 7.017v2.775h-.55A.816.816 0 0 1 0 8.989V7.427c0-.443.371-.803.829-.803h.566c-.01.13-.016.261-.016.393zm9.792-.393c.458 0 .829.36.829.803V8.99a.816.816 0 0 1-.829.803h-.55V7.017c0-.132-.006-.263-.016-.393h.566zM10.047 9.873v-2.82c0-.132-.006-.263-.018-.393C9.857 4.651 8.377 3.043 6.5 2.8h-.997c-1.88.244-3.36 1.853-3.532 3.863-.01.129-.017.26-.017.392v4.754h8.094V9.873zm-5.998-.66c-.608 0-1.101-.522-1.101-1.167 0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167zm2.96-1.167c0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167s-1.101-.522-1.101-1.167z"}))))}const Kt=c.forwardRef(zt);a.p,a(134);function Yt(){const e=Object(l.d)(),t=Object(l.e)(Pt);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:y.name}),Object(d.jsx)("div",{className:"feature-page__notifications",children:t.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"notifications__clear-button",onClick:()=>{e(ut())},title:"Clear notifications",children:"Clear"}),t.map(((e,t)=>Object(d.jsx)("div",{className:"notifications__item",children:JSON.stringify(null===e||void 0===e?void 0:e.data,null,2)},t)))]}):Object(d.jsx)("div",{className:"feature-page__notifications-placeholder",children:"New notifications will appear here..."})})]})})}const Wt="SET_TOP_LOADER",Qt="SET_MAIN_LOADER",Zt="SET_REDIRECT_PATH",$t=Object(q.a)(Wt,(e=>e)),ea=Object(q.a)(Qt,(e=>e)),ta=Object(q.a)(Zt,(e=>e));function aa(e){let{name:t}=e;const a=Object(l.d)(),n=Object(l.e)(It);return Object(c.useEffect)((()=>()=>{a(ta("")),a(bt(null))}),[a]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:t}),n&&Object(d.jsxs)("div",{className:"response-json",children:["Metadata",Object(d.jsx)(Ce,{height:24,botResponse:n.payload})]})]})})}var ca=a(19);const na=Object(ca.b)();var sa=a(80);a(135);function ia(e){let{onScanSuccess:t,onScanFailure:a}=e;const n=Object(c.useRef)({fps:10,qrbox:250,disableFlip:!0});return Object(c.useEffect)((()=>(new sa.a("reader",n.current,!1).render(t,a),()=>{})),[]),Object(d.jsx)("div",{id:"reader"})}function la(){const[e,t]=Object(c.useState)(null),[a,n]=Object(c.useState)(null),[s,i]=Object(c.useState)(null);return Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:R.name}),Object(d.jsx)(ia,{onScanSuccess:(e,a)=>{t(e),n(a),i(null),console.log("Code matched: ".concat(e),a)},onScanFailure:e=>{i(e),console.warn("Code scan error: ".concat(e))}}),e&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Decoded text:"}),Object(d.jsx)("div",{children:e})]}),a&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Decoded result:"}),Object(d.jsx)("div",{children:JSON.stringify(a)})]}),s&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Error:"}),Object(d.jsx)("div",{children:s})]})]})}function oa(){const[e,t]=Object(c.useState)("");return Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:A.name}),Object(d.jsx)("input",{className:ge()({input:!0}),onChange:e=>t(e.target.value),value:e,type:"text"}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:ge()({"btn--submit":!0,"btn--submit-disabled":!e}),disabled:!e,type:"submit",onClick:()=>{e&&(console.error({inputValue:JSON.parse(e)}),null===r.a||void 0===r.a||r.a.sendClientEvent({method:A.method,params:JSON.parse(e)}))},id:"submit",children:"Submit"})})]})}a(136);function ra(){const[e,t]=Object(c.useState)("https://www.tutorialrepublic.com/");return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:P.name}),Object(d.jsxs)("div",{className:"open-web-page",children:[Object(d.jsx)("input",{className:"open-web-page__input",type:"url",defaultValue:e,onChange:e=>{const{value:a}=e.target;a&&t(a)}}),Object(d.jsx)("a",{className:"open-web-page__link",href:e,children:e})]})]})})}a(137);var da=function(){const e=Object(l.d)(),t=Object(l.e)(Rt),[a,n]=Object(c.useState)(!0);return Object(c.useLayoutEffect)((()=>{e(ht(null))}),[e]),Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:I.name}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:"btn--submit",onClick:()=>{e(pt())},type:"button",id:"submit",children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c"})}),Object(d.jsx)("div",{className:"request-location__json-viewer",children:t&&Object(d.jsx)(Ce,{isJSONViewer:a,botResponse:t,toggleIsJSONViewer:()=>n(!a)})})]})};a(138);function ja(e){let{isJSONViewer:t,toggleIsJSONViewer:a,botResponse:c}=e;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"response-markdown-form",children:[Object(d.jsx)("input",{checked:t,className:"form-toggler__input",id:"form-toggler",type:"checkbox",onChange:a}),Object(d.jsx)("span",{className:"form-toggler",onClick:a,children:"Show JSON Viewer"})]}),t&&Object(d.jsx)("div",{className:"response-json",children:Object(d.jsx)(Ce,{height:24,json:c})})]})}function ua(){var e,t,a,n,s;const i=Object(l.d)(),o=Object(l.e)(m),r=Object(l.e)(gt),j=Object(l.e)(O),[u,b]=Object(c.useState)(!1);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:B.name}),Object(d.jsx)("div",{className:"feature-page__echo-static-file",children:Object(d.jsxs)("div",{className:"feature-page__form",children:[Object(d.jsx)("button",{className:"btn--attach",onClick:()=>i(at()),children:"Attach files"}),Object(d.jsx)("p",{children:null===r||void 0===r||null===(e=r[0])||void 0===e?void 0:e.fileName}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:ge()({"btn--submit":!0,"btn--submit-disabled":!(null!==r&&void 0!==r&&r.length)}),onClick:async()=>{null!==r&&void 0!==r&&r.length&&i(se(r[0]))},disabled:!(null!==r&&void 0!==r&&r.length),type:"button",id:"submit",children:"Submit"})})]})})]}),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"response-markdown",children:Object(d.jsx)(Dt.a,{children:null===j||void 0===j||null===(t=j.payload)||void 0===t||null===(a=t.result)||void 0===a||null===(n=a.replaceAll)||void 0===n?void 0:n.call(a,"\n","\n\r")})}),o&&Object(d.jsx)(ja,{isJSONViewer:u,botResponse:o,toggleIsJSONViewer:()=>b(!u)})]}),Object(d.jsx)("img",{src:null===o||void 0===o||null===(s=o.payload)||void 0===s?void 0:s.result,alt:""})]})}a(139);var ba=a(75);function Oa(){return Object(d.jsxs)("div",{className:"version",children:["SmartApp v",ba.a]})}a(140);var ma=function(){const e=Object(l.d)(),t=Object(l.e)(Ut),[a,n]=Object(c.useState)(!0);return Object(c.useLayoutEffect)((()=>{e(Et(null))}),[e]),Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:U.name}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:"btn--submit",onClick:()=>{e(_t())},type:"button",id:"submit",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(d.jsx)("div",{className:"request-self-profile__json-viewer",children:t&&Object(d.jsx)(Ce,{isJSONViewer:a,botResponse:t,toggleIsJSONViewer:()=>n(!a)})})]})};a(141);var ha=function(){const e=Object(l.d)();return Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:w.name}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:"btn--submit",onClick:()=>{e(ft())},type:"button",id:"submit",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c SmartApp"})})]})};var pa=function(){const[e,t]=Object(c.useState)("https://cts3dev.ccsteam.ru/api/v1/smartapp_proxy/zgubb4kz4xvqgcwi/upload/iblock/523/cf32v2zoh1rxzriy9xt3iqqtbg4dl254.mp4"),[a,n]=Object(c.useState)(e);return Object(d.jsxs)("div",{className:"feature-page file-proxy",children:[Object(d.jsx)(kt,{name:D.name}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"\u0424\u043e\u0440\u043c\u0430\u0442"}),Object(d.jsx)("br",{}),Object(d.jsxs)("sup",{children:["https://",Object(d.jsx)("u",{children:"cts"}),"/api/v1/smartapp_proxy/",Object(d.jsx)("u",{children:"host_id"}),"/",Object(d.jsx)("u",{children:"path_to_video"})]})]}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("input",{className:ge()({input:!0}),onChange:e=>t(e.target.value),value:e,type:"text",id:"url"})}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:ge()({"btn--submit":!0}),type:"submit",onClick:()=>n(e),id:"submit",children:"Play"})}),Object(d.jsx)("video",{src:a,autoPlay:!0,controls:!0,width:"100%",style:{margin:"40px 0 0 0"}})]})};a(142);function _a(e){let{connectionStatus:t}=e;switch(t){case null:return Object(d.jsxs)("div",{className:"connection-status",children:[Object(d.jsx)("span",{className:"material-icons",children:"question_mark"}),"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d"]});case"connected":return Object(d.jsxs)("div",{className:"connection-status connection-status--connected",children:[Object(d.jsx)("span",{className:"material-icons",children:"wifi"}),"\u0421\u0432\u044f\u0437\u044c \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0435\u0441\u0442\u044c"]});case"disconnected":return Object(d.jsxs)("div",{className:"connection-status connection-status--disconnected",children:[Object(d.jsx)("span",{className:"material-icons",children:"wifi_off"}),"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"]});default:return Object(d.jsxs)("div",{className:"connection-status",children:[Object(d.jsx)("span",{className:"material-icons",children:"question_mark"}),"\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"]})}}var Ea=function(){const e=Object(l.d)(),t=Object(l.e)((e=>e.client.connectionStatus)),a=Object(l.e)((e=>e.client.subscribedConnectionStatus));return Object(d.jsxs)("div",{className:"feature-page file-proxy",children:[Object(d.jsx)(kt,{name:H.name}),Object(d.jsx)("h4",{children:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"}),Object(d.jsx)("div",{className:"form-buttons",id:"get-status-txt",children:Object(d.jsx)(_a,{connectionStatus:t})}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:ge()({"btn--submit":!0}),type:"submit",onClick:()=>e(vt()),id:"get-status-btn",children:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),Object(d.jsx)("br",{}),Object(d.jsx)("h4",{children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"}),Object(d.jsx)("div",{className:"form-buttons",id:"subscription-status-txt",children:Object(d.jsx)(_a,{connectionStatus:a})}),Object(d.jsxs)("div",{className:"form-buttons",children:[Object(d.jsx)("button",{className:ge()({"btn--submit":!0}),type:"submit",onClick:()=>e(xt()),id:"subscribe-btn",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}),Object(d.jsx)("button",{className:ge()({"btn--submit":!0}),type:"submit",onClick:()=>e(St()),id:"unsubscribe-btn",children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})]})};const fa=[{key:"route",value:"/send-email"},{key:"email",value:"test@mail.ru"}];var va=function(){const e=Object(l.d)(),[t,a]=Object(c.useState)("email-smartapp"),[n,s]=Object(c.useState)(JSON.stringify(fa,null,2)),i=Object(l.e)((e=>e.client.deeplinkUrl));return Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:k.name}),Object(d.jsx)("span",{className:"feature-page__title",children:"App ID"}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("input",{className:"input",onChange:e=>a(e.target.value),value:t,type:"text",id:"app-id-text"})}),Object(d.jsx)("span",{className:"feature-page__title",children:"Meta"}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("textarea",{className:"input",onChange:e=>s(e.target.value),id:"meta-text",rows:10,value:n})}),i&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"feature-page__title",children:"Deeplink"}),Object(d.jsx)("input",{className:"input",disabled:!0,value:i})]}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:ge()({"btn--submit":!0}),type:"submit",onClick:()=>e(Ct(t,JSON.parse(n))),id:"submit",children:"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"})})]})};function Na(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(kt,{name:"On receive"}),Object(d.jsxs)("div",{className:"response-express",id:"status-text",children:["Received ",Object(d.jsx)("b",{children:"move_to_root"})," event"]})]})})}function xa(){const e=Object(l.d)(),t=Object(l.e)(b),a=Object(l.e)(Vt),{platform:n}=Object(r.q)(),s=()=>{"web"!==n?Object(r.f)():alert("Feature is unavailable on web client")};return Object(c.useEffect)((()=>{a&&na.push(a),t||e($())}),[e,a,t]),Object(d.jsxs)("div",{className:"feature-smartapp",children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)("span",{className:"header__content",children:[Object(d.jsx)(Kt,{className:"header__icon",height:20,width:20}),Object(d.jsx)("span",{className:"header__text",id:"toolbar-title",children:"Feature Smartapp"})]})}),Object(d.jsx)(Xt,{}),Object(d.jsx)("section",{className:"feature-smartapp__menu",children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(p.c,{children:[(null===t||void 0===t?void 0:t.length)&&t.map((e=>e.name===B.name?Object(d.jsx)(p.a,{path:"/".concat(E.ECHO_STATIC_FILE),children:Object(d.jsx)(ua,{})},"".concat(E.ECHO_STATIC_FILE,"-route")):Object(d.jsx)(p.a,{path:"/".concat(e.method),children:Object(d.jsx)(Mt,{...e})},"".concat(e.method,"-route")))),Object(d.jsx)(p.a,{path:"/".concat(V.path),children:Object(d.jsx)(Mt,{name:V.name,method:V.method,uiElements:V.uiElements})},"".concat(V.path,"-route")),G.map((e=>Object(d.jsx)(p.a,{path:"/".concat(e.method),children:Object(d.jsx)(Mt,{...e})},"".concat(e.method,"-route")))),Object(d.jsx)(p.a,{path:"/".concat(g.method),children:Object(d.jsx)(aa,{name:g.name})},"".concat(g.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(y.method),children:Object(d.jsx)(Yt,{})},"".concat(y.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(R.method),children:Object(d.jsx)(la,{})},"".concat(R.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(A.method),children:Object(d.jsx)(oa,{})},"".concat(A.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(P.method),children:Object(d.jsx)(ra,{})},"".concat(P.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(I.method),children:Object(d.jsx)(da,{})},"".concat(I.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(U.method),children:Object(d.jsx)(ma,{})},"".concat(U.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(w.method),children:Object(d.jsx)(ha,{})},"".concat(w.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(D.method),children:Object(d.jsx)(pa,{})},"".concat(D.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(H.method),children:Object(d.jsx)(Ea,{})},"".concat(H.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(F.method),children:Object(d.jsx)(aa,{name:F.name})},"".concat(F.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(k.method),children:Object(d.jsx)(va,{})},"".concat(k.method,"-route")),Object(d.jsx)(p.a,{path:"/move-to-root-notifier",children:Object(d.jsx)(Na,{})},"move-to-root-notifier-route"),Object(d.jsxs)(p.a,{path:"/",children:[(null===t||void 0===t?void 0:t.length)&&Object(d.jsx)("span",{className:"feature-smartapp__menu-title",children:"Bot methods"}),(null===t||void 0===t?void 0:t.length)&&(null===t||void 0===t?void 0:t.map((e=>Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(e.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"send"}),e.name]},"".concat(e.method,"-link"))))),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(V.path),children:[Object(d.jsx)("span",{className:"material-icons",children:"delivery_dining"}),V.name]},"".concat(V.path,"-link")),Object(d.jsx)("span",{className:"feature-smartapp__menu-title",children:"Client methods"}),G.map((e=>e.method===f.OPEN_CLIENT_SETTINGS?Object(d.jsxs)("a",{href:"#/",className:"feature-smartapp__menu-item",onClick:s,children:[Object(d.jsx)("span",{className:"material-icons",children:e.icon}),e.name]},"".concat(e.method,"-route")):Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(e.method),children:[Object(d.jsx)("span",{className:"material-icons",children:e.icon}),e.name]},"".concat(e.method,"-link")))),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(y.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"notifications_none"}),y.name]},"".concat(y.method,"-link")),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(R.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"qr_code"}),R.name]},"".concat(R.method,"-link")),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(P.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"open_in_new"}),P.name]},"".concat(P.method,"-link")),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(I.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"my_location"}),I.name]},"".concat(I.method,"-link")),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(U.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"face"}),U.name]},"".concat(U.method,"-link")),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(w.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"close"}),w.name]},"".concat(w.method,"-link")),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(D.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"drive_file_move"}),D.name]},"".concat(D.method,"-link")),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(H.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"wifi_off"}),H.name]},"".concat(H.method,"-link")),Object(d.jsxs)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(k.method),children:[Object(d.jsx)("span",{className:"material-icons",children:"link"}),k.name]},"".concat(k.method,"-link"))]})]})})}),Object(d.jsx)(Oa,{})]})}a(143);function Sa(e){let{result:t,status:a}=e;return Object(d.jsxs)("div",{className:"notifier",children:[Object(d.jsx)("span",{className:"notifier__text",children:t}),Object(d.jsxs)("span",{className:"notifier__text",children:["Status: ",a]})]})}function Ta(){const e=Object(l.d)(),t=Object(l.e)(Bt),[a,n]=Object(c.useState)(!0),[s,i]=Object(c.useState)(null);return Object(c.useEffect)((()=>{a&&(n(!1),e(mt())),null===r.a||void 0===r.a||r.a.onReceive((t=>{let{type:a,payload:c}=t;if("object"===typeof c)switch(a){case _.SMARTAPP_RPC:i(c),setTimeout((()=>i(null)),3e3);break;case _.NOTIFICATION:e(jt(c))}}))}),[e,a]),Object(d.jsxs)(d.Fragment,{children:[t&&Object(d.jsx)(j,{}),Object(d.jsx)(xa,{}),s&&Object(d.jsx)(Sa,{...s})]})}var Ca=a(33),ya=a(62),ga=a(76),Aa=a(38),Ia=a(161);const Ra={[Wt]:(e,t)=>{let{payload:a}=t;return{...e,topLoader:a}},[Qt]:(e,t)=>{let{payload:a}=t;return{...e,mainLoader:a}},[Zt]:(e,t)=>{let{payload:a}=t;return{...e,redirectPath:a}}},Pa=Object(Ia.a)(Ra,{topLoader:!1,mainLoader:!1,redirectPath:""}),Ua={[K]:(e,t)=>{let{payload:a}=t;return{...e,features:a}},[Q]:(e,t)=>{let{payload:a}=t;return{...e,response:a}},[Y]:e=>({...e,response:null}),[Z]:(e,t)=>{let{payload:a}=t;return{...e,staticFile:a}}},wa=Object(Ia.a)(Ua,{features:null,response:null,notifications:null,staticFile:null}),Da={[Ie]:(e,t)=>{let{payload:a}=t;return{...e,attachments:[a]}},[Pe]:(e,t)=>{let{payload:a}=t;return{...e,attachments:[...a]}},[Ue]:(e,t)=>{let{payload:a}=t;return{...e,attachments:e.attachments.filter((e=>e.fileId!==a))}},[we]:e=>({...e,attachments:null}),[Le]:(e,t)=>{let{payload:a}=t;return{...e,notifications:[a,...e.notifications]}},[ke]:e=>({...e,notifications:[]}),[Fe]:(e,t)=>({...e,response:t}),[Me]:e=>({...e,response:null}),[Be]:(e,t)=>{let{payload:a}=t;return{...e,meta:a}},[Je]:(e,t)=>{let{payload:a}=t;return{...e,location:a}},[ze]:(e,t)=>{let{payload:a}=t;return{...e,selfProfile:a}},[We]:(e,t)=>{let{payload:a}=t;return{...e,connectionStatus:a}},[$e]:(e,t)=>{let{payload:a}=t;return{...e,subscribedConnectionStatus:a}},[tt]:(e,t)=>{let{payload:a}=t;return{...e,deeplinkUrl:a}}},Ha=Object(Ia.a)(Da,{attachments:null,response:null,meta:null,notifications:[],location:null,selfProfile:null,connectionStatus:null,subscribedConnectionStatus:null,deeplinkUrl:null}),Fa=Object(Ca.combineReducers)({ui:Pa,bot:wa,client:Ha,router:Object(o.b)(na)});var La=a(4);function*ka(){try{yield Object(La.d)(ea(!0));const e=yield r.a.sendBotEvent(L);e&&(yield Object(La.d)(ee(e.payload.result)))}catch(e){console.error("loadFeaturesSaga error",e)}finally{yield Object(La.d)(ea(!1))}}function*Ma(e){try{yield Object(La.d)(ea(!0));const t=yield null===r.a||void 0===r.a?void 0:r.a.sendBotEvent(e.payload);yield Object(La.d)(ce(t))}catch(t){console.error("sendFeatureBotEventSaga error",t)}finally{yield Object(La.d)(ea(!1))}}function*Ga(e){try{yield Object(La.d)(ea(!0));const t=yield null===r.a||void 0===r.a?void 0:r.a.sendBotEvent({method:E.ECHO_STATIC_FILE,params:{},files:[e.payload]});console.error(t),yield Object(La.d)(ne(t))}catch(t){console.error("echoStaticFileSaga error",t)}finally{yield Object(La.d)(ea(!1))}}var Ba=a(51);let Va=null;function*Xa(){try{var e;const t=yield null===r.a||void 0===r.a?void 0:r.a.sendClientEvent({method:x.UPLOAD_FILE,params:{type:""}});if(null===(e=t.payload)||void 0===e||!e.record)return;const a={...t.payload.record};yield Object(La.d)(ct(a))}catch(t){console.error("uploadFileSaga error: ".concat(t))}}function Ja(e){let{payload:{type:t}}=e;return function*(){try{const e=yield null===r.a||void 0===r.a?void 0:r.a.sendClientEvent({method:x.UPLOAD_FILES,params:{type:t}});if(!e.payload.records.length)return;const a=e.payload.records;yield Object(La.d)(st(a))}catch(e){console.error("uploadFilesSaga error: ".concat(e))}}()}function*qa(){try{yield Object(La.d)($t(!0));const e=yield Object(r.j)();e&&(yield Object(La.d)(ht(e)))}catch(e){console.error("uploadFileSaga error: ".concat(e))}finally{yield Object(La.d)($t(!1))}}function*za(){try{yield Object(La.d)($t(!0));const e=yield Object(r.k)();e&&(yield Object(La.d)(Et(e)))}catch(e){console.error("requestSelfProfileSaga error: ".concat(e))}finally{yield Object(La.d)($t(!1))}}function*Ka(e){try{yield Object(La.d)($t(!0));const t=yield null===r.a||void 0===r.a?void 0:r.a.sendClientEvent(e.payload);yield Object(La.d)(dt(t))}catch(t){console.error("sendExpressEventSaga error",t)}finally{yield Object(La.d)($t(!1))}}function*Ya(e){try{yield Object(La.d)($t(!0));const t=yield Object(r.n)(e.payload);yield Object(La.d)(dt(t))}catch(t){console.error("sendMessageExpressEventSaga error",t)}finally{yield Object(La.d)($t(!1))}}function*Wa(){try{var e,t;const c=yield Object(r.i)(3e3),n=null===c||void 0===c||null===(e=c.payload)||void 0===e?void 0:e[g.field],s=null===c||void 0===c||null===(t=c.payload)||void 0===t?void 0:t.initialData;var a;if(n||null!==s&&void 0!==s&&s.initiator)return null===r.a||void 0===r.a||null===(a=r.a.log)||void 0===a||a.call(r.a,{response:c}),yield Object(La.d)(ta("/".concat(g.method))),void(yield Object(La.d)(bt(c)));ta("/")}catch(c){console.error("sendExpressReadyEventSaga",c)}}function*Qa(){try{yield Object(r.b)()}catch(e){console.error("closeSmartAppSaga error: ".concat(e))}}function*Za(){try{const e=yield Object(r.e)();console.log(e),yield Object(La.d)(Nt(e.payload.connectionStatus))}catch(e){console.error("getConnectionStatusSaga error: ".concat(e))}}function $a(){return Object(Aa.b)((e=>{const t=t=>{console.log("Subscription event",JSON.stringify(t)),e(t.payload.connectionStatus)};return Object(r.o)(Ba.SubscriptionEventType.CONNECTION_STATUS,t).then((()=>{console.log("Subscribed "+Ba.SubscriptionEventType.CONNECTION_STATUS)})),()=>Object(r.p)(Ba.SubscriptionEventType.CONNECTION_STATUS,t)}))}function*ec(){try{for(Va=yield Object(La.b)($a);;){const e=yield Object(La.e)(Va);yield Object(La.d)(Tt(e))}}catch(e){console.error("subscribeConnectionStatusSaga error: ".concat(e))}}function tc(){Va&&(Va.close(),Va=null)}function ac(e){let{payload:{appId:t,meta:a}}=e;return function*(){try{var e;const c=yield Object(r.c)(t,a);yield Object(La.d)(yt(null===(e=c.payload.data)||void 0===e?void 0:e.deeplink))}catch(c){console.error("createDeeplinkSaga error: ".concat(c))}}()}function cc(){return Object(Aa.b)((e=>(null===r.a||void 0===r.a||r.a.onReceive((t=>e(t))),()=>{})))}function*nc(){const e=yield Object(La.b)(cc);for(;;){switch((yield Object(La.e)(e)).type){case v.CLEAN_CACHE:yield Object(La.b)(sc);break;case v.MOVE_TO_ROOT:window.location.hash="/move-to-root-notifier"}}}function*sc(){const e=(yield navigator.serviceWorker.getRegistrations()).map((e=>e.unregister())),t=(yield caches.keys()).map((e=>caches.delete(e)));yield Promise.all([...e,...t]),localStorage.clear()}function*ic(){yield Object(La.a)([nc()])}function*lc(){yield Object(La.a)([Object(La.f)(z,ka),Object(La.f)(W,Ma),Object(La.f)(Ve,Ga),Object(La.f)(De,Ka),Object(La.f)(He,Ya),Object(La.f)(Ge,Wa),Object(La.f)(Ae,Xa),Object(La.f)(Re,Ja),Object(La.f)(Xe,qa),Object(La.f)(qe,za),Object(La.f)(Ke,Qa),Object(La.f)(Ye,Za),Object(La.f)(Qe,ec),Object(La.f)(Ze,tc),Object(La.f)(et,ac)])}var oc=function*(){yield Object(La.a)([Object(La.c)(lc),Object(La.c)(ic)])};a(149);i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(l.a,{store:function(){const e=Object(Aa.a)(),t=Object(ya.a)(na),a=Object(Ca.createStore)(Fa,void 0,Object(ga.composeWithDevTools)(Object(Ca.applyMiddleware)(e,t)));return e.run(oc).toPromise().catch((e=>console.error("Saga error",e))),a}(),children:Object(d.jsx)(o.a,{history:na,children:Object(d.jsx)(Ta,{})})})}),document.getElementById("root"))},75:function(e){e.exports=JSON.parse('{"a":"1.1.16"}')}},[[150,1,2]]]);
//# sourceMappingURL=main.0d05188a.chunk.js.map