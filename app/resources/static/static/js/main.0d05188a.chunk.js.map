{"version":3,"sources":["components/ui/main-loader/MainLoader.tsx","redux/selectors/bot.ts","types/index.ts","constants.ts","helpers/index.ts","redux/actions/bot.ts","assets/plus.svg","assets/clear-input.svg","assets/file.svg","assets/copy.svg","components/ui/json-editor/JsonViewer.tsx","redux/actions/client.ts","redux/selectors/client.ts","assets/arrow-left.svg","components/ui/feature-page-header/FeaturePageHeader.tsx","containers/feature-page/FeaturePage.tsx","redux/selectors/ui.ts","components/ui/top-loader/TopLoader.tsx","assets/botx-icon.svg","components/express-notifications/ExpressNotifications.tsx","redux/actions/ui.ts","components/meta-page/MetaPage.tsx","redux/history.ts","components/scan-qr/ScanQR.tsx","components/scan-qr-page/ScanQRPage.tsx","components/open-file/OpenFile.tsx","components/open-web-page/OpenWebPage.tsx","components/request-location/RequestLocation.tsx","components/ui/json-viewer/JsonViewer.tsx","components/echo-static-file/EchoStaticFile.tsx","components/ui/version/Version.tsx","components/request-self-profile/RequestSelfProfile.tsx","components/close-smart-app/CloseSmartApp.tsx","components/file-proxy/FileProxy.tsx","components/connection-status/ConnectionIcon.tsx","components/connection-status/ConnectionStatus.tsx","components/create-deeplink/CreateDeeplink.tsx","components/move-to-root-notifier/MoveToRootNotifier.tsx","containers/feature-smartapp/FeatureSmartapp.tsx","components/notifier/Notifier.tsx","components/Main.tsx","redux/reducers/ui.ts","redux/reducers/bot.ts","redux/reducers/client.ts","redux/reducers/index.ts","redux/sagas/ui.ts","redux/sagas/bot.ts","redux/sagas/client.ts","redux/sagas/eventBus.ts","redux/sagas/index.ts","index.tsx","redux/configureStore.ts"],"names":["MainLoader","_jsx","className","id","children","_jsxs","getFeaturesMenu","createSelector","state","bot","features","getFeatureBotResponse","response","getStaticFile","staticFile","EventType","BotFeatureMethod","ExpressFeatureMethod","Methods","ExpressFeatureName","ClientEventMethod","InputId","InputLabel","InputType","EXPRESS_NOTIFICATION_FEATURE","method","name","OPEN_SMART_APP_META_FEATURE","field","OPEN_FILE_FEATURE","REQUEST_LOCATION","SCAN_QR_FEATURE","OPEN_WEB_PAGE_FEATURE","REQUEST_SELF_PROFILE_FEATURE","CLOSE_SMART_APP_FEATURE","FILE_PROXY","CONNECTION_STATUS","MENU_ITEM_MESSAGE_META","MENU_EVENT","params","text","CREATE_DEEPLINK","INPUT_TYPE","INPUT_TEXT","INPUT_NUMBER","FILE_PICKER","ARRAY_UUID","UUID","EXPRESS_FEATURES","ADD_CONTACT","icon","uiElements","PHONE","label","type","NAME","GET_CONTACT","OPEN_CONTACT_CARD","USER_HUID","SEARCH_CORPORATE_PHONEBOOK","FILTER","CREATE_PERSONAL_CHAT","HUID","OPEN_GROUP_CHAT","GROUP_CHAT_ID","OPEN_SMARTAPP","SMARTAPP_ID","SEND_MESSAGE","MESSAGE","SEND_BOT_COMMAND","BODY","DATA","OPEN_CLIENT_SETTINGS","GET_CHATS","ECHO_STATIC_FILE_FEATURE","ECHO_STATIC_FILE","FILE","GUARANTEED_DELIVERY_FEATURE","ECHO","path","TEXT","getFormInitialValues","reduce","acc","item","undefined","LOAD_FEATURES","LOAD_FEATURES_SUCCESS","RESET_RESPONSE","SEND_FEATURE_BOT_EVENT","SEND_FEATURE_BOT_EVENT_SUCCESS","SET_STATIC_FILE","loadFeatures","createAction","loadFeaturesSuccess","resetFeatures","sendFeatureBotEvent","botEvent","sendFeatureBotEventSuccess","setStaticFile","echoStaticFile","file","_path","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgPlus","_ref","svgRef","title","titleId","props","xmlns","viewBox","fill","ref","fillRule","d","ForwardRef","SvgClearInput","transform","_g","SvgFile","width","height","x","y","rx","fontSize","fontWeight","SvgCopy","JsonViewer","container","useRef","botResponse","useEffect","editor","JSONEditor","current","mode","enableTransform","set","button","document","createElement","innerHTML","ReactDOMServer","renderToStaticMarkup","CopyIcon","addEventListener","obj","JSON","stringify","body","appendChild","select","execCommand","removeChild","copyToClipboardJson","setAttribute","menu","querySelector","search","insertBefore","destroy","UPLOAD_FILE","UPLOAD_FILE_SUCCESS","UPLOAD_FILES","UPLOAD_FILES_SUCCESS","REMOVE_FILE_SUCCESS","RESET_ATTACHMENTS","SEND_EXPRESS_EVENT","SEND_MESSAGE_EXPRESS_EVENT","SEND_EXPRESS_EVENT_SUCCESS","SET_EXPRESS_NOTIFICATION_SUCCESS","RESET_EXPRESS_NOTIFICATION_SUCCESS","RESET_EXPRESS_RESPONSE","SEND_EXPRESS_READY_EVENT","SET_META","SET_LOCATION","REQUEST_SELF_PROFILE","SET_SELF_PROFILE","CLOSE_SMART_APP","GET_CONNECTION_STATUS","SET_CONNECTION_STATUS","SUBSCRIBE_CONNECTION_STATUS","UNSUBSCRIBE_CONNECTION_STATUS","CONNECTION_STATUS_CHANGED","SET_DEEPLINK_URL","uploadFile","uploadFileSuccess","uploadFiles","uploadFilesSuccess","files","removeFileSuccess","resetAttachments","sendExpressEvent","expressEvent","sendMessageExpressEvent","payload","sendExpressEventSuccess","setExpressNotificationSuccess","notification","resetExpressNotificationSuccess","setMeta","meta","resetExpressResponse","sendReadyEvent","setLocation","location","requestLocation","requestSelfProfile","setSelfProfile","selfProfile","closeSmartApp","getConnectionStatus","setConnectionStatus","connectionStatus","subscribeConnectionStatus","unsubscribeConnectionStatus","connectionStatusChanged","createDeeplink","appId","setDeeplinkUrl","deeplinkUrl","getAttachments","client","attachments","getExpressResponse","getMeta","getLocation","getExpressNotifications","notifications","getSelfProfile","SvgArrowLeft","FeaturePageHeader","Link","to","ArrowLeft","FeaturePage","dispatch","useDispatch","useSelector","expressResponse","inputs","setInputs","useState","inputError","setInputError","isJSONViewer","setIsJSONViewer","isAllowNewInputs","SEARCH_USERS","isFilesMethod","ECHO_FILE","ECHO_FILES","includes","isUsersMethod","isExpressMethod","values","handleClickPlus","last","next","HUIDS","concat","handleFilesSubmit","handleFormSubmitForExpressMethod","async","formValues","filterFormValues","userHuid","groupChatId","message","messageBody","messageMeta","handleSendMessage","openClientSettings","chats","getChats","filter","handleGetChats","openGroupChat","handleOpenGroupChat","phonebook","searchCorporatePhonebook","handleSearchCorporatePhoneBook","result","sendBotCommand","data","command","handleSendBotCommand","openContactCard","handleOpenContactCard","handleDefault","useMemo","value","handleFormSubmitForBotMethod","event","guaranteed_delivery_required","handleEchoWithGuaranteedDelivery","huids","handleUploadFilesClick","toggleIsJSONViewer","formik","useFormik","initialValues","onSubmit","getIsSubmitButtonDisabled","map","input","index","_Fragment","FILES","onClick","attachment","idx","fileName","RemoveIcon","handleRemoveFile","fileId","classnames","disabled","renderTextMethodComponent","getIsInputError","_ref2","isNotEmpty","uuid","test","phone","handleSubmit","_ref3","inputType","isShowLabel","onChange","handleChange","multiple","min","setFieldValue","PlusIcon","renderBotResponse","_botResponse$payload","_response$replaceAll","_response$replaceAll3","_botResponse$files","ReactMarkdown","replaceAll","FileIcon","getTopLoader","ui","topLoader","getMainLoader","mainLoader","getRedirectPath","redirectPath","TopLoader","start","setStart","stop","setStop","finish","setFinish","stopTimeout","finishTimeout","setTimeout","clearTimeout","SvgBotxIcon","ExpressNotifications","expressNotifications","handleClear","SET_TOP_LOADER","SET_MAIN_LOADER","SET_REDIRECT_PATH","setTopLoader","setMainLoader","setRedirectPath","MetaPage","JsonViewerEditor","history","createHashHistory","ScanQR","onScanSuccess","onScanFailure","config","fps","qrbox","disableFlip","Html5QrcodeScanner","render","ScanQRPage","decodedText","setDecodedText","decodedResult","setDecodedResult","error","setError","handleOnScanSuccess","console","log","err","warn","OpenFile","inputValue","setInputValue","e","handleClick","parse","bridge","sendClientEvent","OpenWebPage","link","setLink","defaultValue","href","RequestLocation","useLayoutEffect","checked","json","EchoStaticFile","_attachments$","_botResponse$payload$","_botResponse$payload$2","_staticFile$payload","src","alt","Version","version","RequestSelfProfile","CloseSmartApp","FileProxy","url","setUrl","videoUrl","setVideoUrl","classNames","autoPlay","controls","style","margin","ConnectionIcon","ConnectionStatus","subscribedConnectionStatus","handleGetConnectionStatus","handleSubscribeConnectionStatus","handleUnsubscribeConnectionStatus","initMeta","CreateDeeplink","setAppId","metaJson","setMetaJson","rows","MoveToRootNotifier","FeatureSmartapp","botFeatures","platform","useQuery","handleOpenClientSettings","alert","push","BotxIcon","HashRouter","Switch","Route","Notifier","status","Main","isMainLoader","load","setLoad","notifier","setNotifier","onReceive","SMARTAPP_RPC","NOTIFICATION","reducers","handleActions","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","rootReducer","combineReducers","router","connectRouter","loadFeaturesSaga","put","sendBotEvent","sendFeatureBotEventSaga","action","echoStaticFileSaga","connectionStatusChannel","uploadFileSaga","_response$payload","record","uploadFilesSaga","records","requestLocationSaga","requestSelfProfileSaga","sendExpressEventSaga","sendMessageExpressEventSaga","sendMessage","sendExpressReadyEventSaga","_response$payload2","_response$payload3","ready","initialData","_bridge$log","initiator","closeSmartAppSaga","getConnectionStatusSaga","addConnectionEventListener","eventChannel","emitter","connectionStatusCallback","subscribeClientEvents","SubscriptionEventType","then","unsubscribeClientEvents","subscribeConnectionStatusSaga","take","unsubscribeConnectionStatusSaga","close","createDeeplinkSaga","_response$payload$dat","deeplink","emit","watchClientEvents","channel","CLEAN_CACHE","handleCleanCache","MOVE_TO_ROOT","window","hash","unregisterPromises","navigator","serviceWorker","getRegistrations","registration","unregister","cacheDeletionPromises","caches","keys","cache","delete","Promise","all","localStorage","clear","rootEventsBusSaga","rootFeatureSmartAppSaga","takeEvery","rootSaga","fork","ReactDOM","React","StrictMode","Provider","store","sagaMiddleware","createSagaMiddleware","routerMiddleware","createRouterMiddleware","createStore","composeWithDevTools","applyMiddleware","run","toPromise","catch","configureStore","ConnectedRouter","getElementById"],"mappings":"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","file":"static/js/main.0d05188a.chunk.js","sourcesContent":["import React from 'react'\nimport './MainLoader.scss'\n\nexport default function MainLoader() {\n  return (\n    <div className='main-loader' id='main-loader'>\n      <div className='main-loader__spinner'>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getFeaturesMenu = createSelector(\n  [(state: AppState) => state.bot.features],\n  features => features,\n)\n\nexport const getFeatureBotResponse = createSelector(\n  [(state: AppState) => state.bot.response],\n  response => response,\n)\n\nexport const getStaticFile = createSelector(\n  [(state: AppState) => state.bot.staticFile],\n  staticFile => staticFile,\n)\n","import { RouterState } from 'connected-react-router'\n\nexport enum EventType {\n  SMARTAPP_RPC = 'smartapp_rpc',\n  NOTIFICATION = 'notification',\n}\n\nexport enum BotFeatureMethod {\n  ECHO = 'echo',\n  UPDATE_APP_COUNTER = 'update_app_counter',\n  SEND_NOTIFICATION = 'send_notification',\n  ECHO_FILE = 'echo_file',\n  ECHO_FILES = 'echo_files',\n  ECHO_STATIC_FILE = 'echo_static_file',\n  SEARCH_USERS = 'search_users',\n}\n\nexport enum ExpressFeatureMethod {\n  ADD_CONTACT = 'add_contact',\n  CREATE_PERSONAL_CHAT = 'create_personal_chat',\n  SEND_MESSAGE = 'send_message',\n  GET_CONTACT = 'get_contact',\n  OPEN_SMARTAPP = 'open_smart_app',\n  OPEN_CLIENT_SETTINGS = 'open_client_settings',\n  GET_CHATS = 'get_chats',\n  SEARCH_CORPORATE_PHONEBOOK = 'search_corporate_phonebook',\n  OPEN_GROUP_CHAT = 'open_group_chat',\n  SEND_BOT_COMMAND = 'send_bot_command',\n  OPEN_CONTACT_CARD = 'open_contact_card',\n}\n\nexport enum Methods {\n  BACK_PRESSED = 'back_pressed',\n  ROUTING_CHANGED = 'routing_changed',\n  CLEAN_CACHE = 'clean_cache',\n  MOVE_TO_ROOT = 'move_to_root',\n}\n\nexport enum Path {\n  ROOT = 'root',\n  NESTED = 'nested',\n}\n\nexport enum ExpressFeatureName {\n  ADD_CONTACT = 'Add Contact',\n  CREATE_PERSONAL_CHAT = 'Create Personal Chat',\n  SEND_MESSAGE = 'Send Message to Group Chat or User',\n  GET_CONTACT = 'Get Contact',\n  OPEN_SMARTAPP = 'Open SmartApp',\n  OPEN_CLIENT_SETTINGS = 'Open Client Settings',\n  GET_CHATS = 'Get Chats',\n  SEARCH_CORPORATE_PHONEBOOK = 'Search Corporate Phonebook',\n  OPEN_GROUP_CHAT = 'Open Group Chat',\n  SEND_BOT_COMMAND = 'Send Bot Command',\n  OPEN_CONTACT_CARD = 'Open Contact Card',\n}\n\nexport enum ClientEventMethod {\n  UPLOAD_FILE = 'upload_file',\n  UPLOAD_FILES = 'upload_files',\n}\n\nexport type GeneratorFunction = Generator<any, any, any>\n\nexport interface AppEvent {\n  ref?: string | null,\n  type: string,\n  payload: any,\n  files: any[] | null,\n}\n\nexport interface BotEvent {\n  method: BotFeatureMethod | 'menu'\n  params: any\n  files?: File[]\n  timeout?: number\n}\n\nexport interface ExpressEvent {\n  method: ExpressFeatureMethod\n  params: any\n}\n\nexport interface SendMessageActionPayload {\n  userHuid: string | null\n  groupChatId: string | null\n  messageBody: string\n  messageMeta?: {}\n}\n\nexport enum InputId {\n  TEXT = 'text',\n  COUNT = 'count',\n  DELAY = 'delay',\n  FILE = 'file',\n  FILES = 'files',\n  HUIDS = 'huids',\n  PHONE = 'phone',\n  NAME = 'name',\n  HUID = 'huid',\n  SMARTAPP_ID = 'appId',\n  MESSAGE = 'message',\n  GROUP_CHAT_ID = 'groupChatId',\n  USER_HUID = 'userHuid',\n  FILTER = 'filter',\n  BODY = 'body',\n  DATA = 'data',\n}\n\nexport enum InputLabel {\n  TEXT = 'Text',\n  COUNT = 'Count',\n  DELAY = 'Delay',\n  FILE = 'File',\n  FILES = 'Files',\n  HUIDS = 'Huids',\n  PHONE = 'Phone',\n  NAME = 'Name',\n  HUID = 'Huid',\n  SMARTAPP_ID = 'Smartapp ID',\n  MESSAGE = 'Message',\n  GROUP_CHAT_ID = 'Group chat id',\n  USER_HUID = 'User huid',\n  FILTER = 'Filter',\n  BODY = 'Body',\n  DATA = 'Data',\n}\n\nexport enum InputType {\n  INPUT_TEXT = 'INPUT_TEXT',\n  INPUT_NUMBER = 'INPUT_NUMBER',\n  FILE_PICKER = 'FILE_PICKER',\n  ARRAY_UUID = 'ARRAY_UUID',\n  UUID = 'UUID',\n}\n\nexport interface Input {\n  id: InputId | string\n  label: InputLabel\n  type: InputType\n}\n\nexport interface BotFeature {\n  method: BotFeatureMethod\n  name: string\n  uiElements: Input[]\n  icon?: string\n}\n\nexport type ExpressFeature = BotFeature | {\n  method: ExpressFeatureMethod\n  name: ExpressFeatureName\n  uiElements: Input[]\n  icon?: string\n}\n\nexport type BotFeatures = BotFeature[] | null\n\nexport interface BotMethodResponse {\n  type: EventType.SMARTAPP_RPC | string\n  files: File[]\n  payload: {\n    result: string\n    status: 'ok' | 'error'\n  }\n}\n\nexport type BotFeaturesResponse = BotMethodResponse & {\n  payload: {\n    result: BotFeature[]\n  }\n}\n\nexport interface ExpressMethodResponse {\n  ref?: string\n  payload: any\n}\n\nexport interface ExpressNotification {\n  ref: null\n  type: 'notification'\n  data: object\n}\n\nexport interface File {\n  type?: string\n  file?: string\n  fileMimeType?: string\n  fileName?: string\n  filePreview?: string\n  filePreviewHeight?: number\n  filePreviewWidth?: number\n  fileSize: number\n  fileHash?: string\n  fileEncryptionAlgo?: string\n  chunkSize?: number\n  fileId?: any\n  key?: object\n}\n\nexport interface Location {\n  latitude: string | null\n  longitude: string | null\n  timestamp: string | null\n}\n\nexport interface SelfProfile {\n  userHuid: string,\n  name: string,\n  avatar: string | null,\n  avatarPreview: string | null,\n  company: string | null,\n  department: string | null,\n  office: string | null,\n  manager: string | null,\n  managerHuid: string | null,\n  email: string | null,\n  phone: string | null,\n  description: string | null,\n  otherPhone: string | null,\n  ip_phone: string | null,\n  otherIpPhone: string | null,\n}\n\n\nexport interface UIState {\n  topLoader: boolean\n  mainLoader: boolean\n  redirectPath: string\n}\n\nexport interface BotState {\n  features: BotFeatures\n  response: BotMethodResponse | null\n  notifications: BotMethodResponse[] | null\n  staticFile: object\n}\n\nexport interface ClientState {\n  attachments: File[] | null\n  response: ExpressMethodResponse | null\n  meta: ExpressMethodResponse | null\n  notifications: ExpressNotification[] | null\n  location: Location | null\n  selfProfile: SelfProfile | null\n  connectionStatus: string | null\n  subscribedConnectionStatus: string | null\n  deeplinkUrl: string | null\n}\n\nexport interface AppState {\n  ui: UIState\n  bot: BotState\n  client: ClientState\n  router: RouterState\n}\n","import {\n  BotFeature,\n  BotFeatureMethod,\n  ExpressFeature,\n  ExpressFeatureMethod,\n  ExpressFeatureName,\n  InputId,\n  InputLabel,\n  InputType,\n} from './types'\n\nexport const EXPRESS_NOTIFICATION_FEATURE = {\n  method: 'notification',\n  name: 'Express Notification',\n}\n\nexport const OPEN_SMART_APP_META_FEATURE = {\n  name: 'App Meta',\n  method: 'open_smart_meta_app',\n  field: 'openSmartAppMeta',\n}\n\nexport const OPEN_FILE_FEATURE = {\n  name: 'Open File',\n  method: 'open_file',\n}\n\nexport const REQUEST_LOCATION = {\n  name: 'Request Location',\n  method: 'request_location',\n}\n\nexport const SCAN_QR_FEATURE = {\n  name: 'Scan QR',\n  method: 'scan_qr',\n}\n\nexport const OPEN_WEB_PAGE_FEATURE = {\n  name: 'Open Web Page',\n  method: 'open-web-page',\n}\n\nexport const REQUEST_SELF_PROFILE_FEATURE = {\n  name: 'Request self profile',\n  method: 'request-self-profile',\n}\n\nexport const CLOSE_SMART_APP_FEATURE = {\n  name: 'Close SmartApp',\n  method: 'close-smartapp',\n}\n\nexport const FILE_PROXY = {\n  name: 'File proxy',\n  method: 'file-proxy',\n}\n\nexport const CONNECTION_STATUS = {\n  name: 'Connection status',\n  method: 'connection-status',\n}\n\nexport const MENU_ITEM_MESSAGE_META = {\n  name: 'Message meta from menu action',\n  method: 'menu-item-message-meta',\n}\n\nexport const MENU_EVENT: any = {\n  method: 'menu',\n  params: {\n    text: 'menu',\n  },\n}\n\nexport const CREATE_DEEPLINK = {\n  name: 'Create deeplink',\n  method: 'create-deeplink',\n}\n\n\nexport const INPUT_TYPE: Record<InputType, string> = {\n  INPUT_TEXT: 'text',\n  INPUT_NUMBER: 'number',\n  FILE_PICKER: 'file',\n  ARRAY_UUID: 'text',\n  UUID: 'text',\n}\n\nexport const EXPRESS_FEATURES: ExpressFeature[] = [\n  {\n    method: ExpressFeatureMethod.ADD_CONTACT,\n    name: ExpressFeatureName.ADD_CONTACT,\n    icon: \"perm_contact_calendar\",\n    uiElements: [\n      {\n        id: InputId.PHONE,\n        label: InputLabel.PHONE,\n        type: InputType.INPUT_TEXT,\n      },\n      {\n        id: InputId.NAME,\n        label: InputLabel.NAME,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.GET_CONTACT,\n    name: ExpressFeatureName.GET_CONTACT,\n    icon: \"perm_contact_calendar\",\n    uiElements: [\n      {\n        id: InputId.PHONE,\n        label: InputLabel.PHONE,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_CONTACT_CARD,\n    name: ExpressFeatureName.OPEN_CONTACT_CARD,\n    icon: \"perm_contact_calendar\",\n    uiElements: [\n      {\n        id: InputId.USER_HUID,\n        label: InputLabel.USER_HUID,\n        type: InputType.UUID,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.SEARCH_CORPORATE_PHONEBOOK,\n    name: ExpressFeatureName.SEARCH_CORPORATE_PHONEBOOK,\n    icon: \"contacts\",\n    uiElements: [\n      {\n        id: InputId.FILTER,\n        label: InputLabel.FILTER,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.CREATE_PERSONAL_CHAT,\n    name: ExpressFeatureName.CREATE_PERSONAL_CHAT,\n    icon: \"chat_bubble_outline\",\n    uiElements: [\n      {\n        id: InputId.HUID,\n        label: InputLabel.HUID,\n        type: InputType.UUID,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_GROUP_CHAT,\n    name: ExpressFeatureName.OPEN_GROUP_CHAT,\n    icon: \"mark_chat_unread\",\n    uiElements: [\n      {\n        id: InputId.GROUP_CHAT_ID,\n        label: InputLabel.GROUP_CHAT_ID,\n        type: InputType.UUID,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_SMARTAPP,\n    name: ExpressFeatureName.OPEN_SMARTAPP,\n    icon: \"open_in_browser\",\n    uiElements: [\n      {\n        id: InputId.SMARTAPP_ID,\n        label: InputLabel.SMARTAPP_ID,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.SEND_MESSAGE,\n    name: ExpressFeatureName.SEND_MESSAGE,\n    icon: \"send\",\n    uiElements: [\n      {\n        id: InputId.MESSAGE,\n        label: InputLabel.MESSAGE,\n        type: InputType.INPUT_TEXT,\n      },\n      {\n        id: InputId.GROUP_CHAT_ID,\n        label: InputLabel.GROUP_CHAT_ID,\n        type: InputType.UUID,\n      },\n      {\n        id: InputId.USER_HUID,\n        label: InputLabel.USER_HUID,\n        type: InputType.UUID,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.SEND_BOT_COMMAND,\n    name: ExpressFeatureName.SEND_BOT_COMMAND,\n    icon: \"send\",\n    uiElements: [\n      {\n        id: InputId.USER_HUID,\n        label: InputLabel.USER_HUID,\n        type: InputType.UUID,\n      },\n      {\n        id: InputId.BODY,\n        label: InputLabel.BODY,\n        type: InputType.INPUT_TEXT,\n      },\n      {\n        id: InputId.DATA,\n        label: InputLabel.DATA,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_CLIENT_SETTINGS,\n    name: ExpressFeatureName.OPEN_CLIENT_SETTINGS,\n    icon: \"settings\",\n    uiElements: [],\n  },\n  {\n    method: ExpressFeatureMethod.GET_CHATS,\n    name: ExpressFeatureName.GET_CHATS,\n    icon: \"chat_bubble_outline\",\n    uiElements: [\n      {\n        id: InputId.FILTER,\n        label: InputLabel.FILTER,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n]\n\nexport const ECHO_STATIC_FILE_FEATURE: BotFeature = {\n  name: 'Echo static file',\n  method: BotFeatureMethod.ECHO_STATIC_FILE,\n  uiElements: [{\n    id: InputId.FILE,\n    type: InputType.FILE_PICKER,\n    label: InputLabel.FILE,\n  }]\n}\n\nexport const GUARANTEED_DELIVERY_FEATURE: BotFeature & { path: string } = {\n  name: 'Echo with guaranteed delivery',\n  method: BotFeatureMethod.ECHO,\n  path: 'guaranteed-delivery',\n  uiElements: [{\n    id: InputId.TEXT,\n    type: InputType.INPUT_TEXT,\n    label: InputLabel.TEXT,\n  }]\n}\n","import { Input } from '../types'\nimport parseISO from 'date-fns/parseISO'\nimport ru from 'date-fns/locale/ru'\nimport format from 'date-fns/format'\n\nexport interface FormValues {\n  [key: string]: string | undefined\n}\n\nexport const getFormInitialValues: (uiElements: Input[]) => FormValues = uiElements => {\n  return uiElements?.reduce((acc: FormValues, item) => {\n    acc[item.id] = undefined\n    return acc\n  }, {})\n}\n\nexport const dateFormat = (timestamp: string) => {\n  if (timestamp) {\n    let toISODate = parseISO(timestamp)\n    return format(toISODate, 'EEEE d LLLL y - H:mm', {\n      locale: ru,\n    })\n  }\n}\n","import { createAction } from 'redux-actions'\nimport { BotEvent, BotFeatures, BotMethodResponse, ExpressMethodResponse, File } from '../../types'\n\nexport const LOAD_FEATURES = 'LOAD_FEATURES'\nexport const LOAD_FEATURES_SUCCESS = 'LOAD_FEATURES_SUCCESS'\nexport const RESET_RESPONSE = 'RESET_RESPONSE'\nexport const SEND_FEATURE_BOT_EVENT = 'SEND_FEATURE_BOT_EVENT'\nexport const SEND_FEATURE_BOT_EVENT_SUCCESS = 'SEND_FEATURE_BOT_EVENT_SUCCESS'\nexport const SET_STATIC_FILE = 'SET_STATIC_FILE'\nexport const ECHO_STATIC_FILE = 'ECHO_STATIC_FILE'\n\nexport const loadFeatures = createAction(LOAD_FEATURES, () => {\n})\nexport const loadFeaturesSuccess = createAction(LOAD_FEATURES_SUCCESS, (features: BotFeatures) => features)\nexport const resetFeatures = createAction(RESET_RESPONSE, () => {\n})\nexport const sendFeatureBotEvent = createAction(SEND_FEATURE_BOT_EVENT, (botEvent: BotEvent) => botEvent)\nexport const sendFeatureBotEventSuccess = createAction(\n  SEND_FEATURE_BOT_EVENT_SUCCESS,\n  (response: BotMethodResponse | ExpressMethodResponse | null) => response,\n)\nexport const setStaticFile = createAction(SET_STATIC_FILE, (staticFile: any) => staticFile)\nexport const echoStaticFile = createAction(ECHO_STATIC_FILE, (file: File) => file)\n\nexport type loadFeaturesSuccessActionType = ReturnType<typeof loadFeaturesSuccess>\nexport type sendFeatureBotEventSuccessActionType = ReturnType<typeof sendFeatureBotEventSuccess>\nexport type setStaticFileActionType = ReturnType<typeof setStaticFile>\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgPlus(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M13 11V4h-2v7H4v2h7v7h2v-7h7v-2h-7z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.97a40cd5.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgClearInput(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 11V3h-2v8H3v2h8v8h2v-8h8v-2h-8z\",\n    transform: \"rotate(45 12 12)\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgClearInput);\nexport default __webpack_public_path__ + \"static/media/clear-input.6a69fb5e.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgFile(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 22 26\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    transform: \"translate(-1)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#595959\",\n    d: \"M5 0C3.73 0 2.44 1.225 2.5 2.407V22.63c-.06 1.784 1.23 3.007 2.5 2.89h15c1.71.117 3-1.106 3-2.89V6.26L16 0H5zm0 24.556c-.298-.117-1.298-.59-1.5-1.445V2.41C3.702 2.148 4.702 1.2 5 .963h10.5v3.852c.01 1.467.903 2.315 2 1.926H22v15.89c-.262.864-.76 1.81-2 1.928H5z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 18.5,\n    height: 9.148,\n    x: 1,\n    y: 12.519,\n    fill: \"#5C5C5C\",\n    rx: 2\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    fill: \"#FFF\",\n    fontSize: 5.5,\n    fontWeight: 600\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 4.302,\n    y: 19\n  }, \"\\n        FILE\\n      \")))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgFile);\nexport default __webpack_public_path__ + \"static/media/file.1a445bcf.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCopy(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M10.667.667h-8c-.734 0-1.334.6-1.334 1.333v9.333h1.334V2h8V.667zm2 2.666H5.333C4.6 3.333 4 3.933 4 4.667V14c0 .733.6 1.333 1.333 1.333h7.334c.733 0 1.333-.6 1.333-1.333V4.667c0-.734-.6-1.334-1.333-1.334zm0 10.667H5.333V4.667h7.334V14z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCopy);\nexport default __webpack_public_path__ + \"static/media/copy.55b37fcd.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useRef } from 'react'\nimport ReactDOMServer from 'react-dom/server'\nimport { ReactComponent as CopyIcon } from '../../../assets/copy.svg'\nimport JSONEditor from 'jsoneditor'\nimport 'jsoneditor/dist/jsoneditor.min.css'\nimport './JsonViewer.scss'\n\nexport default function JsonViewer(props) {\n  const container = useRef(null)\n  const botResponse = props?.botResponse\n\n  const copyToClipboardJson = obj => {\n    const container = document.createElement('textarea')\n\n    container.innerHTML = JSON.stringify(obj, null, '  ')\n    document.body.appendChild(container)\n\n    container.select()\n    document.execCommand('copy')\n    document.body.removeChild(container)\n  }\n\n  useEffect(() => {\n    const editor = new JSONEditor(container.current, { mode: 'view', enableTransform: true })\n\n    if (botResponse) editor.set(botResponse)\n\n    const button = document.createElement('button')\n    button.className = 'copy-to-clipboard'\n    button.innerHTML = ReactDOMServer.renderToStaticMarkup(<CopyIcon height='22' width='22' />)\n    button.addEventListener('click', () => copyToClipboardJson(botResponse))\n    button.setAttribute('title', 'Copy To Clipboard')\n\n    const menu = document.querySelector('.jsoneditor-menu')\n    const search = document.querySelector('.jsoneditor-menu .jsoneditor-search')\n\n    menu.insertBefore(button, search)\n\n    return () => editor.destroy()\n  }, [botResponse])\n\n  return <div className='json-viewer' ref={container} />\n}\n","import { createAction } from 'redux-actions'\nimport {\n  ExpressEvent,\n  ExpressMethodResponse,\n  ExpressNotification,\n  File,\n  Location,\n  SelfProfile,\n  SendMessageActionPayload,\n} from '../../types'\n\nexport const UPLOAD_FILE = 'UPLOAD_FILE'\nexport const UPLOAD_FILE_SUCCESS = 'UPLOAD_FILE_SUCCESS'\nexport const UPLOAD_FILES = 'UPLOAD_FILES'\nexport const UPLOAD_FILES_SUCCESS = 'UPLOAD_FILES_SUCCESS'\nexport const REMOVE_FILE = 'REMOVE_FILE'\nexport const REMOVE_FILE_SUCCESS = 'REMOVE_FILE_SUCCESS'\nexport const RESET_ATTACHMENTS = 'RESET_ATTACHMENTS'\nexport const SEND_EXPRESS_EVENT = 'SEND_EXPRESS_EVENT'\nexport const SEND_MESSAGE_EXPRESS_EVENT = 'SEND_MESSAGE_EXPRESS_EVENT'\nexport const SEND_EXPRESS_EVENT_SUCCESS = 'SEND_EXPRESS_EVENT_SUCCESS'\nexport const SET_EXPRESS_NOTIFICATION_SUCCESS = 'SET_NOTIFICATION_SUCCESS'\nexport const RESET_EXPRESS_NOTIFICATION_SUCCESS = 'RESET_EXPRESS_NOTIFICATION_SUCCESS'\nexport const RESET_EXPRESS_RESPONSE = 'RESET_EXPRESS_RESPONSE'\nexport const SEND_EXPRESS_READY_EVENT = 'SEND_EXPRESS_READY_EVENT'\nexport const SET_META = 'SET_META'\nexport const ECHO_STATIC_FILE = 'ECHO_STATIC_FILE'\nexport const REQUEST_LOCATION = 'REQUEST_LOCATION'\nexport const SET_LOCATION = 'SET_LOCATION'\nexport const REQUEST_SELF_PROFILE = 'REQUEST_SELF_PROFILE'\nexport const SET_SELF_PROFILE = 'SET_SELF_PROFILE'\nexport const CLOSE_SMART_APP = 'CLOSE_SMART_APP'\nexport const GET_CONNECTION_STATUS = 'GET_CONNECTION_STATUS'\nexport const SET_CONNECTION_STATUS = 'SET_CONNECTION_STATUS'\nexport const SUBSCRIBE_CONNECTION_STATUS = 'SUBSCRIBE_CONNECTION_STATUS'\nexport const UNSUBSCRIBE_CONNECTION_STATUS = 'UNSUBSCRIBE_CONNECTION_STATUS'\nexport const CONNECTION_STATUS_CHANGED = 'CONNECTION_STATUS_CHANGED'\nexport const CREATE_DEEPLINK = 'CREATE_DEEPLINK'\nexport const SET_DEEPLINK_URL = 'SET_DEEPLINK_URL'\n\nexport const uploadFile = createAction(UPLOAD_FILE)\nexport const uploadFileSuccess = createAction(UPLOAD_FILE_SUCCESS, (file: File) => file)\nexport const uploadFiles = createAction(UPLOAD_FILES, (type: string = '') => ({ type }))\nexport const uploadFilesSuccess = createAction(UPLOAD_FILES_SUCCESS, (files: File[]) => files)\nexport const removeFile = createAction(REMOVE_FILE, (id: number) => id)\nexport const removeFileSuccess = createAction(REMOVE_FILE_SUCCESS, (id: number) => id)\nexport const resetAttachments = createAction(RESET_ATTACHMENTS)\nexport const sendExpressEvent = createAction(SEND_EXPRESS_EVENT, (expressEvent: ExpressEvent) => expressEvent)\nexport const sendMessageExpressEvent = createAction(\n  SEND_MESSAGE_EXPRESS_EVENT,\n  (payload: SendMessageActionPayload) => payload\n)\nexport const sendExpressEventSuccess = createAction(\n  SEND_EXPRESS_EVENT_SUCCESS,\n  (response: ExpressMethodResponse | null) => response\n)\nexport const setExpressNotificationSuccess = createAction(\n  SET_EXPRESS_NOTIFICATION_SUCCESS,\n  (notification: ExpressNotification | null) => notification\n)\nexport const resetExpressNotificationSuccess = createAction(RESET_EXPRESS_NOTIFICATION_SUCCESS)\nexport const setMeta = createAction(SET_META, (meta: ExpressMethodResponse | null) => meta)\nexport const resetExpressResponse = createAction(RESET_EXPRESS_RESPONSE)\nexport const sendReadyEvent = createAction(SEND_EXPRESS_READY_EVENT)\nexport const setLocation = createAction(SET_LOCATION, (location: Location) => location)\nexport const requestLocation = createAction(REQUEST_LOCATION)\nexport const echoStaticFile = createAction(ECHO_STATIC_FILE)\nexport const requestSelfProfile = createAction(REQUEST_SELF_PROFILE)\nexport const setSelfProfile = createAction(SET_SELF_PROFILE, (selfProfile: SelfProfile) => selfProfile)\nexport const closeSmartApp = createAction(CLOSE_SMART_APP)\nexport const getConnectionStatus = createAction(GET_CONNECTION_STATUS)\nexport const setConnectionStatus = createAction(SET_CONNECTION_STATUS, (connectionStatus: string) => connectionStatus)\nexport const subscribeConnectionStatus = createAction(SUBSCRIBE_CONNECTION_STATUS)\nexport const unsubscribeConnectionStatus = createAction(UNSUBSCRIBE_CONNECTION_STATUS)\nexport const connectionStatusChanged = createAction(\n  CONNECTION_STATUS_CHANGED,\n  (connectionStatus: string) => connectionStatus\n)\nexport const createDeeplink = createAction(\n  CREATE_DEEPLINK,\n  (appId: string, meta: Array<{ key: string; value: null | boolean | string | number }>) => ({\n    appId,\n    meta,\n  })\n)\nexport const setDeeplinkUrl = createAction(SET_DEEPLINK_URL, (deeplinkUrl: string) => deeplinkUrl)\n\nexport type uploadFileActionType = ReturnType<typeof uploadFile>\nexport type uploadFileSuccessActionType = ReturnType<typeof uploadFileSuccess>\nexport type uploadFilesActionType = ReturnType<typeof uploadFiles>\nexport type uploadFilesSuccessActionType = ReturnType<typeof uploadFilesSuccess>\nexport type removeFileActionType = ReturnType<typeof removeFile>\nexport type removeFileSuccessActionType = ReturnType<typeof removeFileSuccess>\nexport type sendExpressEventActionType = ReturnType<typeof sendExpressEvent>\nexport type sendMessageExpressEventActionType = ReturnType<typeof sendMessageExpressEvent>\nexport type sendExpressEventSuccessActionType = ReturnType<typeof sendExpressEventSuccess>\nexport type setExpressNotificationSuccessActionType = ReturnType<typeof setExpressNotificationSuccess>\nexport type setMetaActionType = ReturnType<typeof setMeta>\nexport type setLocationActionType = ReturnType<typeof setLocation>\nexport type setSelfProfileType = ReturnType<typeof setSelfProfile>\nexport type setConnectionStatusType = ReturnType<typeof setConnectionStatus>\nexport type connectionStatusChangedType = ReturnType<typeof connectionStatusChanged>\nexport type setDeeplinkUrlType = ReturnType<typeof setDeeplinkUrl>\nexport type createDeeplinkActionType = ReturnType<typeof createDeeplink>\n","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getAttachments = createSelector([(state: AppState) => state.client.attachments], features => features)\n\nexport const getExpressResponse = createSelector([(state: AppState) => state.client.response], response => response)\n\nexport const getMeta = createSelector([(state: AppState) => state.client.meta], meta => meta)\n\nexport const getLocation = createSelector(\n  [(state: AppState) => state.client.location],\n\tlocation => location\n)\n\nexport const getExpressNotifications = createSelector(\n  [(state: AppState) => state.client.notifications],\n\tnotifications => notifications\n)\n\nexport const getSelfProfile = createSelector(\n  [(state: AppState) => state.client.selfProfile],\n\tselfProfile => selfProfile\n)\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgArrowLeft(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.828 11l5.586-5.586L12 4l-8 8 8 8 1.414-1.414L7.828 13H20v-2z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeft);\nexport default __webpack_public_path__ + \"static/media/arrow-left.fa74ab51.svg\";\nexport { ForwardRef as ReactComponent };","import { Link } from 'react-router-dom'\nimport { ReactComponent as ArrowLeft } from '../../../assets/arrow-left.svg'\nimport './FeaturePageHeader.scss'\n\nexport default function FeaturePageHeader({ name }) {\n  return (\n    <div className='feature-page__header'>\n      <Link className='btn--arrow-left' to='/' id='back-nav-link'>\n        <ArrowLeft className='icon--arrow-left' height={24} width={24} />\n      </Link>\n      <div className='feature-page__info'>\n        <span className='feature-page__title'>{name} method</span>\n      </div>\n    </div>\n  )\n}\n","import {\n  BotFeature,\n  BotFeatureMethod,\n  ExpressFeature,\n  ExpressFeatureMethod,\n  Input,\n  InputId,\n  InputLabel,\n  InputType,\n} from '../../types'\nimport './FeaturePage.scss'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { GUARANTEED_DELIVERY_FEATURE, INPUT_TYPE } from '../../constants'\nimport { useFormik } from 'formik'\nimport { FormValues, getFormInitialValues } from '../../helpers'\nimport { getFeatureBotResponse } from '../../redux/selectors/bot'\nimport { resetFeatures, sendFeatureBotEvent, sendFeatureBotEventSuccess } from '../../redux/actions/bot'\nimport { useEffect, useMemo, useState } from 'react'\nimport { ReactComponent as PlusIcon } from '../../assets/plus.svg'\nimport { ReactComponent as RemoveIcon } from '../../assets/clear-input.svg'\nimport { ReactComponent as FileIcon } from '../../assets/file.svg'\nimport JsonViewer from '../../components/ui/json-editor/JsonViewer'\nimport classnames from 'classnames'\nimport {\n  removeFileSuccess,\n  resetAttachments,\n  resetExpressResponse,\n  sendExpressEvent,\n  sendExpressEventSuccess,\n  sendMessageExpressEvent,\n  uploadFile,\n  uploadFiles,\n} from '../../redux/actions/client'\nimport { getAttachments, getExpressResponse } from '../../redux/selectors/client'\nimport { ReactMarkdown } from 'react-markdown/lib/react-markdown'\nimport FeaturePageHeader from '../../components/ui/feature-page-header/FeaturePageHeader'\nimport {\n  getChats,\n  openClientSettings,\n  openContactCard,\n  openGroupChat,\n  searchCorporatePhonebook,\n  sendBotCommand,\n} from '@unlimited/smartapp-sdk'\n\nexport default function FeaturePage({ name, method, uiElements = [] }: BotFeature | ExpressFeature) {\n  const dispatch = useDispatch()\n  const botResponse = useSelector(getFeatureBotResponse)\n  const expressResponse = useSelector(getExpressResponse)\n  const attachments = useSelector(getAttachments)\n\n  const [inputs, setInputs] = useState<Input[]>([])\n  const [inputError, setInputError] = useState('')\n  const [isJSONViewer, setIsJSONViewer] = useState(false)\n\n  const isAllowNewInputs = method === BotFeatureMethod.SEARCH_USERS\n  const isFilesMethod = [BotFeatureMethod.ECHO_FILE, BotFeatureMethod.ECHO_FILES].includes(method as BotFeatureMethod)\n  const isUsersMethod = BotFeatureMethod.SEARCH_USERS === method\n  const isExpressMethod = Object.values(ExpressFeatureMethod).includes(method as ExpressFeatureMethod)\n\n  const handleClickPlus = () => {\n    const last = inputs[inputs.length - 1]\n    const { id } = last\n    const next: Input = {\n      ...last,\n      id: id.includes(InputId.HUIDS) ? `${id}${inputs.length}` : id,\n    }\n\n    setInputs(inputs => [...inputs, next])\n  }\n\n  const handleFilesSubmit = () => {\n    if (attachments) {\n      const botFeatureMethod = method as BotFeatureMethod\n\n      dispatch(\n        sendFeatureBotEvent({\n          method: botFeatureMethod,\n          params: {},\n          files: attachments,\n        }),\n      )\n    }\n  }\n\n  const handleOpenGroupChat = async (formValues: FormValues) => {\n    if (!filterFormValues(formValues).length) return\n\n    await openGroupChat({ groupChatId: formValues?.groupChatId })\n  }\n\n  const handleGetChats = async (formValues: FormValues) => {\n    const chats = await getChats({ filter: formValues?.filter })\n    dispatch(sendExpressEventSuccess(chats))\n  }\n\n  const handleSendBotCommand = async (formValues: FormValues) => {\n    const result = await sendBotCommand(\n      {\n        userHuid: formValues?.userHuid,\n        data: formValues?.data ? {\n          command: formValues?.data,\n        } : null,\n        body: formValues?.body,\n      },\n    )\n    dispatch(sendExpressEventSuccess(result))\n  }\n\n  const handleSearchCorporatePhoneBook = async (formValues: FormValues) => {\n    const phonebook = await searchCorporatePhonebook({ filter: formValues?.filter })\n    dispatch(sendExpressEventSuccess(phonebook))\n  }\n\n  const handleOpenContactCard = async (formValues: FormValues) => {\n    const response = await openContactCard({ userHuid: formValues?.userHuid })\n    if (response) dispatch(sendExpressEventSuccess(response))\n  }\n\n  const handleSendMessage = (formValues: FormValues) => {\n    if (!filterFormValues(formValues).length) return\n\n    const { userHuid, groupChatId, message } = formValues\n    dispatch(\n      sendMessageExpressEvent({\n        userHuid,\n        groupChatId,\n        messageBody: message,\n        messageMeta: {},\n      }),\n    )\n  }\n\n  const handleEchoWithGuaranteedDelivery = (formValues: FormValues) => {\n    if (!filterFormValues(formValues).length) return\n\n    const event = {\n      method: BotFeatureMethod.ECHO,\n      params: formValues,\n      guaranteed_delivery_required: true\n    }\n\n    dispatch(sendFeatureBotEvent(event))\n  }\n\n  const handleDefault = (formValues: FormValues) => {\n    if (!filterFormValues(formValues).length) return\n\n    const event = {\n      method: method as ExpressFeatureMethod,\n      params: formValues,\n    }\n\n    dispatch(sendExpressEvent(event))\n  }\n\n  const handleFormSubmitForExpressMethod = async (formValues: FormValues) => {\n    switch (method) {\n      case ExpressFeatureMethod.SEND_MESSAGE:\n        handleSendMessage(formValues)\n        break\n      case ExpressFeatureMethod.OPEN_CLIENT_SETTINGS:\n        openClientSettings()\n        break\n      case ExpressFeatureMethod.GET_CHATS:\n        await handleGetChats(formValues)\n        break\n      case ExpressFeatureMethod.OPEN_GROUP_CHAT: {\n        await handleOpenGroupChat(formValues)\n        break\n      }\n      case ExpressFeatureMethod.SEARCH_CORPORATE_PHONEBOOK: {\n        await handleSearchCorporatePhoneBook(formValues)\n        break\n      }\n      case ExpressFeatureMethod.SEND_BOT_COMMAND: {\n        await handleSendBotCommand(formValues)\n        break\n      }\n      case ExpressFeatureMethod.OPEN_CONTACT_CARD: {\n        await handleOpenContactCard(formValues)\n        break\n      }\n      default:\n        handleDefault(formValues)\n    }\n  }\n\n  const filterFormValues = useMemo(() => (\n    formValues: FormValues) => Object.values(formValues).filter(value => value),\n    [],\n  )\n\n  const handleFormSubmitForBotMethod = (formValues: FormValues) => {\n    const values = filterFormValues(formValues)\n    if (!values.length) return\n\n    if (name === GUARANTEED_DELIVERY_FEATURE.name) {\n      handleEchoWithGuaranteedDelivery(formValues)\n      return\n    }\n\n    const event = {\n      method: method as BotFeatureMethod,\n      params: isUsersMethod ? { huids: values } : formValues,\n    }\n\n    dispatch(sendFeatureBotEvent(event))\n  }\n\n  const handleFormSubmit = (formValues: FormValues) => {\n    if (isExpressMethod) {\n      handleFormSubmitForExpressMethod(formValues)\n    } else {\n      handleFormSubmitForBotMethod(formValues)\n    }\n  }\n\n  const handleUploadFilesClick = () => {\n    if (method === BotFeatureMethod.ECHO_FILE) {\n      dispatch(uploadFile())\n    } else if (method === BotFeatureMethod.ECHO_FILES) {\n      dispatch(uploadFiles())\n    }\n  }\n\n  const handleRemoveFile = (fileId: number) => {\n    dispatch(removeFileSuccess(fileId))\n\n    if (attachments?.length === 1) dispatch(sendFeatureBotEventSuccess(null))\n  }\n\n  const toggleIsJSONViewer = () => setIsJSONViewer(!isJSONViewer)\n\n  const formik = useFormik({\n    initialValues: getFormInitialValues(inputs),\n    onSubmit: handleFormSubmit,\n  })\n\n  const getIsSubmitButtonDisabled = () => {\n    if (method === ExpressFeatureMethod.GET_CHATS) return false\n    return isFilesMethod ? !attachments?.length : !Object.values(formik.values).filter(value => value).length\n  }\n\n  useEffect(() => {\n    const inputs: Input[] = uiElements.map((input, index) => ({\n      ...input,\n      id: input.id.includes(InputId.HUIDS) ? `${input.id}${index}` : input.id,\n    }))\n\n    setInputs(inputs)\n    return () => {\n      dispatch(resetFeatures())\n      dispatch(resetAttachments())\n      dispatch(resetExpressResponse())\n    }\n  }, [uiElements, dispatch])\n\n  const renderFilesMethodComponent = () => (\n    <div className='feature-page__form'>\n      <span className='feature-page__title'>\n        {method === BotFeatureMethod.ECHO_FILE ? InputLabel.FILE : InputLabel.FILES}\n      </span>\n      <button className='btn--attach' onClick={handleUploadFilesClick}>\n        {method === BotFeatureMethod.ECHO_FILE ? 'Attach file' : 'Attach files'}\n      </button>\n      {!!attachments?.length && (\n        <div className='attachments'>\n          {attachments.map((attachment, idx) => (\n            <span className='attachments__item' key={attachment.fileId}>\n              <span>{attachment.fileName}</span>\n              <RemoveIcon\n                id={`remove-file-${idx+1}`}\n                width={20}\n                height={20}\n                className='btn--remove-attachment'\n                onClick={() => handleRemoveFile(attachment.fileId)}\n              />\n            </span>\n          ))}\n        </div>\n      )}\n      <div className='form-buttons'>\n        <button\n          className={classnames({\n            'btn--submit': true,\n            'btn--submit-disabled': getIsSubmitButtonDisabled(),\n          })}\n          onClick={handleFilesSubmit}\n          disabled={getIsSubmitButtonDisabled()}\n          type='button'\n          id='files-submit'\n        >\n          Submit\n        </button>\n      </div>\n    </div>\n  )\n\n  const renderTextMethodComponent = () => {\n    const getIsInputError = ({ id, type }) => {\n      const isUuid = (uuid: string) => /[0-9a-fA-F-]{36}/.test(uuid)\n\n      const isPhone = (phone: string) =>\n        /(^8|7|\\+7)((\\d{10})|(\\s\\(\\d{3}\\)\\s\\d{3}\\s\\d{2}\\s\\d{2}))/.test(phone)\n\n      const isNotEmpty = formik.values[id]\n\n      if ((isUsersMethod || type === InputType.UUID) && isNotEmpty) {\n        return !isUuid(formik.values[id])\n      } else if (id === InputId.PHONE) {\n        return !isPhone(formik.values[id])\n      }\n    }\n\n    return (\n      !!inputs?.length && (\n        <form className='feature-page__form' onSubmit={formik.handleSubmit}>\n          {inputs.map(({ id, type, label }, index) => {\n            const inputType = INPUT_TYPE[type]\n\n            const isShowLabel = isUsersMethod ? index === 0 : true\n\n            return (\n              <div key={id}>\n                {isShowLabel && <span className='feature-page__title'>{label}</span>}\n                <input\n                  className={classnames({\n                    input: true,\n                    'input--error': getIsInputError({ id, type }),\n                  })}\n                  onChange={formik.handleChange}\n                  value={formik.values[id] || ''}\n                  type={inputType}\n                  multiple={id === InputId.FILES}\n                  id={id}\n                  min={0}\n                />\n                {inputType === INPUT_TYPE.INPUT_TEXT && formik.values[id] && (\n                  <RemoveIcon\n                    className='btn--clear-input'\n                    onClick={() => {\n                      formik.setFieldValue(id, '')\n                      inputError && setInputError('')\n                    }}\n                    height={20}\n                    width={20}\n                    id={`${id}.field-clear`}\n                  />\n                )}\n              </div>\n            )\n          })}\n          <div className='form-buttons'>\n            <button\n              className={classnames({\n                'btn--submit': true,\n                'btn--submit-disabled': getIsSubmitButtonDisabled(),\n              })}\n              disabled={getIsSubmitButtonDisabled()}\n              type='submit'\n              id='submit'\n            >\n              Submit\n            </button>\n            {isAllowNewInputs && (\n              <PlusIcon\n                title='Add new input'\n                className='btn--plus'\n                onClick={handleClickPlus}\n                height={24}\n                width={24}\n              />\n            )}\n          </div>\n        </form>\n      )\n    )\n  }\n\n  const renderBotResponse = () => {\n    const response = botResponse?.payload?.result as any\n\n    return (\n      <>\n        <div className='response-markdown'>\n          <ReactMarkdown>\n            {method === BotFeatureMethod.ECHO ?\n              ('text: ' + response?.replaceAll?.('\\n', '\\n\\r')) ||\n              (response?.replaceAll?.('\\n', '\\n\\r')) + '\\n\\r' +\n              (response?.textLength &&\n                'text length: ' + response?.textLength) :\n              (response?.replaceAll?.('\\n', '\\n\\r'))\n            }\n          </ReactMarkdown>\n        </div>\n        {method === BotFeatureMethod.ECHO_FILES && (\n          <div className='response-files'>\n            Files:\n            {botResponse?.files?.map(() => (\n              <FileIcon className='response-files__file' height={20} width={20} />\n            ))}\n          </div>\n        )}\n        {botResponse && (\n          <JsonViewer\n            isJSONViewer={isJSONViewer}\n            botResponse={botResponse}\n            toggleIsJSONViewer={toggleIsJSONViewer}\n          />\n        )}\n      </>\n    )\n  }\n\n  const renderExpressResponse = () => {\n    return expressResponse && (\n      <div className='response-express' id='response'>\n        {JSON.stringify(expressResponse?.payload, null, 2)}\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"feature-page\">\n        <FeaturePageHeader name={name} />\n        {isFilesMethod ? renderFilesMethodComponent() : renderTextMethodComponent()}\n      </div>\n      {botResponse && renderBotResponse()}\n      {renderExpressResponse()}\n    </>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getTopLoader = createSelector(\n  [(state: AppState) => state.ui.topLoader],\n  topLoader => topLoader\n)\n\nexport const getMainLoader = createSelector(\n  [(state: AppState) => state.ui.mainLoader],\n  mainLoader => mainLoader\n)\n\nexport const getRedirectPath = createSelector(\n  [(state: AppState) => state.ui.redirectPath],\n  redirectPath => redirectPath\n)\n","import React, { useEffect, useState, useRef } from 'react'\nimport classnames from 'classnames'\nimport { useSelector } from 'react-redux'\nimport './TopLoader.scss'\nimport { getTopLoader } from '../../../redux/selectors/ui'\n\nexport default function TopLoader() {\n  const topLoader = useSelector(getTopLoader)\n\n  const [start, setStart] = useState(false)\n  const [stop, setStop] = useState(false)\n  const [finish, setFinish] = useState(false)\n\n  const stopTimeout = useRef<NodeJS.Timeout | null>(null)\n  const finishTimeout = useRef<NodeJS.Timeout | null>(null)\n\n  useEffect(() => {\n    if (topLoader && !start) {\n      setStart(true)\n    }\n\n    if (!topLoader && start) {\n      setStart(false)\n      setStop(true)\n\n      stopTimeout.current = setTimeout(() => {\n        setFinish(true)\n\n        finishTimeout.current = setTimeout(() => {\n          setStop(false)\n          setFinish(false)\n        }, 100)\n      }, 200)\n    }\n  }, [topLoader, start])\n\n  useEffect(() => {\n    return () => {\n      if (stopTimeout.current) clearTimeout(stopTimeout.current)\n      if (finishTimeout.current) clearTimeout(finishTimeout.current)\n    }\n  }, [])\n\n  return (\n    <div className={classnames({ 'top-loader': true, 'top-loader--enabled': start && !finish })}>\n      <div\n        className={classnames({\n          'top-loader__bar': true,\n          'top-loader__bar--start': start,\n          'top-loader__bar--stop': stop,\n          'top-loader__bar--finish': finish,\n        })}\n      />\n    </div>\n  )\n}\n","var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgBotxIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 12 12\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.379 7.017v2.775h-.55A.816.816 0 0 1 0 8.989V7.427c0-.443.371-.803.829-.803h.566c-.01.13-.016.261-.016.393zm9.792-.393c.458 0 .829.36.829.803V8.99a.816.816 0 0 1-.829.803h-.55V7.017c0-.132-.006-.263-.016-.393h.566zM10.047 9.873v-2.82c0-.132-.006-.263-.018-.393C9.857 4.651 8.377 3.043 6.5 2.8h-.997c-1.88.244-3.36 1.853-3.532 3.863-.01.129-.017.26-.017.392v4.754h8.094V9.873zm-5.998-.66c-.608 0-1.101-.522-1.101-1.167 0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167zm2.96-1.167c0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167s-1.101-.522-1.101-1.167z\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBotxIcon);\nexport default __webpack_public_path__ + \"static/media/botx-icon.cf9274ad.svg\";\nexport { ForwardRef as ReactComponent };","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { EXPRESS_NOTIFICATION_FEATURE } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getExpressNotifications } from '../../redux/selectors/client'\nimport './ExpressNotifications.scss'\nimport { resetExpressNotificationSuccess } from '../../redux/actions/client'\n\nexport default function ExpressNotifications() {\n  const dispatch = useDispatch()\n  const expressNotifications = useSelector(getExpressNotifications)\n  const handleClear = () => {\n    dispatch(resetExpressNotificationSuccess())\n  }\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={EXPRESS_NOTIFICATION_FEATURE.name} />\n        <div className='feature-page__notifications'>\n          {!!expressNotifications.length ? (\n            <>\n              <div\n                className='notifications__clear-button'\n                onClick={handleClear}\n                title='Clear notifications'\n              >\n                Clear\n              </div>\n              {expressNotifications.map((item, i) => (\n                <div className='notifications__item' key={i}>\n                  {JSON.stringify(item?.data, null, 2)}\n                </div>\n              ))}\n            </>\n          ) : (\n            <div className='feature-page__notifications-placeholder'>\n              New notifications will appear here...\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n","import { createAction } from 'redux-actions'\n\nexport const SET_TOP_LOADER = 'SET_TOP_LOADER'\nexport const SET_MAIN_LOADER = 'SET_MAIN_LOADER'\nexport const SET_REDIRECT_PATH = 'SET_REDIRECT_PATH'\n\nexport const setTopLoader = createAction(SET_TOP_LOADER, (topLoader: boolean) => topLoader)\nexport const setMainLoader = createAction(SET_MAIN_LOADER, (mainLoader: boolean) => mainLoader)\nexport const setRedirectPath = createAction(SET_REDIRECT_PATH, (redirectPath: string) => redirectPath)\n\nexport type setTopLoaderActionType = ReturnType<typeof setTopLoader>\nexport type setMainLoaderActionType = ReturnType<typeof setMainLoader>\nexport type setRedirectPathActionType = ReturnType<typeof setRedirectPath>\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nimport { setRedirectPath } from '../../redux/actions/ui'\nimport { getMeta } from '../../redux/selectors/client'\nimport { setMeta } from '../../redux/actions/client'\nimport JsonViewerEditor from '../ui/json-editor/JsonViewer'\n\nexport default function MetaPage({ name }) {\n  const dispatch = useDispatch()\n  const meta = useSelector(getMeta)\n\n  useEffect(() => {\n    return () => {\n      dispatch(setRedirectPath(''))\n      dispatch(setMeta(null))\n    }\n  }, [dispatch])\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={name} />\n        {meta && (\n          <div className='response-json'>\n            Metadata\n            <JsonViewerEditor height={24} botResponse={meta.payload} />\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n","import { createHashHistory } from 'history'\n\n// Create history singleton\nexport const history = createHashHistory()\n","import { useEffect, useRef } from 'react'\nimport { Html5QrcodeScanner } from 'html5-qrcode'\nimport './ScanQR.scss'\n\nexport default function ScanQR({\n  onScanSuccess,\n  onScanFailure,\n}: {\n  onScanSuccess: (text: string, result: any) => void\n  onScanFailure: (error: string) => void\n}) {\n  const config = useRef<any>({\n    fps: 10,\n    qrbox: 250,\n    disableFlip: true,\n  })\n\n  useEffect(() => {\n    const html5QrcodeScanner = new Html5QrcodeScanner('reader', config.current, false)\n    html5QrcodeScanner.render(onScanSuccess, onScanFailure)\n\n    return () => {}\n    // eslint-disable-next-line\n  }, [])\n\n  return <div id=\"reader\" />\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { SCAN_QR_FEATURE } from '../../constants'\nimport ScanQR from '../scan-qr/ScanQR'\nimport { useState } from 'react'\n\nexport function ScanQRPage() {\n  const [decodedText, setDecodedText] = useState(null)\n  const [decodedResult, setDecodedResult] = useState(null)\n  const [error, setError] = useState(null)\n\n  const handleOnScanSuccess = (text: string, result: any) => {\n    setDecodedText(text)\n    setDecodedResult(result)\n    setError(null)\n    console.log(`Code matched: ${text}`, result)\n  }\n\n  const handleOnScanFailure = err => {\n    setError(err)\n    console.warn(`Code scan error: ${err}`)\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={SCAN_QR_FEATURE.name} />\n      <ScanQR onScanSuccess={handleOnScanSuccess} onScanFailure={handleOnScanFailure} />\n      {decodedText && (\n        <>\n          <p>Decoded text:</p>\n          <div>{decodedText}</div>\n        </>\n      )}\n      {decodedResult && (\n        <>\n          <p>Decoded result:</p>\n          <div>{JSON.stringify(decodedResult)}</div>\n        </>\n      )}\n      {error && (\n        <>\n          <p>Error:</p>\n          <div>{error}</div>\n        </>\n      )}\n    </div>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { OPEN_FILE_FEATURE } from '../../constants'\nimport classnames from \"classnames\"\nimport { useState } from \"react\"\nimport { Bridge as bridge } from \"@unlimited/smartapp-sdk\"\n\nexport default function OpenFile() {\n  const [inputValue, setInputValue] = useState('')\n  const handleClick = () => {\n    if (!inputValue) return\n    console.error({inputValue: JSON.parse(inputValue)})\n\n    bridge?.sendClientEvent({\n      method: OPEN_FILE_FEATURE.method,\n      params: JSON.parse(inputValue),\n    })\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={OPEN_FILE_FEATURE.name} />\n      <input\n        className={classnames({\n          input: true,\n        })}\n        onChange={e => setInputValue(e.target.value)}\n        value={inputValue}\n        type={'text'}\n      />\n      <div className='form-buttons'>\n        <button\n          className={classnames({\n            'btn--submit': true,\n            'btn--submit-disabled': !inputValue,\n          })}\n          disabled={!inputValue}\n          type=\"submit\"\n          onClick={handleClick}\n          id='submit'\n        >\n          Submit\n        </button>\n      </div>\n    </div>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { OPEN_WEB_PAGE_FEATURE } from '../../constants'\nimport { useState } from 'react'\nimport './OpenWebPage.scss'\n\nexport default function OpenWebPage() {\n  const [link, setLink] = useState('https://www.tutorialrepublic.com/')\n\n\n  const handleChange = (event: any) => {\n    const { value } = event.target\n    if (value) setLink(value)\n  }\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={OPEN_WEB_PAGE_FEATURE.name} />\n        <div className='open-web-page'>\n          <input\n            className='open-web-page__input'\n            type='url'\n            defaultValue={link}\n            onChange={handleChange}\n          />\n          <a className='open-web-page__link' href={link}>\n            {link}\n          </a>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React, { useLayoutEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getLocation } from '../../redux/selectors/client'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { REQUEST_LOCATION } from '../../constants'\nimport { requestLocation, setLocation } from '../../redux/actions/client'\nimport './RequestLocation.scss'\nimport JsonViewer from '../ui/json-editor/JsonViewer'\n\nfunction RequestLocation() {\n  const dispatch = useDispatch()\n  const location = useSelector(getLocation)\n  const [isJSONViewer, setIsJSONViewer] = useState(true)\n\n  const toggleIsJSONViewer = () => setIsJSONViewer(!isJSONViewer)\n\n  const handleSubmit = () => {\n    dispatch(requestLocation())\n  }\n\n  useLayoutEffect(() => {\n    dispatch(setLocation(null))\n  }, [dispatch])\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={REQUEST_LOCATION.name} />\n      <div className='form-buttons'>\n        <button\n          className='btn--submit'\n          onClick={handleSubmit}\n          type='button'\n          id='submit'\n        >\n          \n        </button>\n      </div>\n      <div className='request-location__json-viewer'>\n        {location && (\n          <JsonViewer\n            isJSONViewer={isJSONViewer}\n            botResponse={location}\n            toggleIsJSONViewer={toggleIsJSONViewer}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default RequestLocation\n","import JsonViewerEditor from '../json-editor/JsonViewer'\nimport { BotMethodResponse } from '../../../types'\n\nexport default function JsonViewer(\n  {\n    isJSONViewer,\n    toggleIsJSONViewer,\n    botResponse,\n  }: {\n    isJSONViewer: boolean,\n    toggleIsJSONViewer: () => void,\n    botResponse: BotMethodResponse,\n  },\n) {\n  return (\n    <div>\n      <div className='response-markdown-form'>\n        <input\n          checked={isJSONViewer}\n          className='form-toggler__input'\n          id='form-toggler'\n          type='checkbox'\n          onChange={toggleIsJSONViewer}\n        />\n        <span\n          className='form-toggler'\n          onClick={toggleIsJSONViewer}\n        >\n          Show JSON Viewer\n        </span>\n      </div>\n      {isJSONViewer && (\n        <div className='response-json'>\n          <JsonViewerEditor height={24} json={botResponse} />\n        </div>\n      )}\n    </div>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { ECHO_STATIC_FILE_FEATURE } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getFeatureBotResponse, getStaticFile } from '../../redux/selectors/bot'\nimport './EchoStaticFile.scss'\nimport classnames from 'classnames'\nimport { getAttachments } from '../../redux/selectors/client'\nimport { uploadFile } from '../../redux/actions/client'\nimport { ReactMarkdown } from 'react-markdown/lib/react-markdown'\nimport JsonViewer from '../ui/json-viewer/JsonViewer'\nimport { useState } from 'react'\nimport { echoStaticFile } from '../../redux/actions/bot'\n\nexport default function EchoStaticFile() {\n  const dispatch = useDispatch()\n  const staticFile = useSelector(getStaticFile) as any\n  const attachments = useSelector(getAttachments)\n  const botResponse = useSelector(getFeatureBotResponse)\n  const [isJSONViewer, setIsJSONViewer] = useState(false)\n\n  const handleFilesSubmit = async () => {\n    if (attachments?.length) {\n      dispatch(echoStaticFile(attachments[0]))\n    }\n  }\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={ECHO_STATIC_FILE_FEATURE.name} />\n        <div className='feature-page__echo-static-file'>\n          <div className='feature-page__form'>\n            <button\n              className='btn--attach'\n              onClick={() => dispatch(uploadFile())}\n            >\n              Attach files\n            </button>\n            <p>{attachments?.[0]?.fileName}</p>\n            <div className='form-buttons'>\n              <button\n                className={classnames({\n                  'btn--submit': true,\n                  'btn--submit-disabled': !attachments?.length,\n                })}\n                onClick={handleFilesSubmit}\n                disabled={!attachments?.length}\n                type='button'\n                id='submit'\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <>\n        <div className='response-markdown'>\n          <ReactMarkdown>\n            {botResponse?.payload?.result?.replaceAll?.('\\n', '\\n\\r')}\n          </ReactMarkdown>\n        </div>\n        {staticFile && (\n          <JsonViewer\n            isJSONViewer={isJSONViewer}\n            botResponse={staticFile}\n            toggleIsJSONViewer={() => setIsJSONViewer(!isJSONViewer)}\n          />\n        )}\n      </>\n      <img src={staticFile?.payload?.result} alt='' />\n    </>\n  )\n}\n","import './Version.scss'\nimport { version } from '../../../../package.json'\n\nexport default function Version() {\n  return (\n    <div className=\"version\">\n        SmartApp v{version}\n    </div>\n  )\n}\n\n","import React, { useLayoutEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getSelfProfile } from '../../redux/selectors/client'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { REQUEST_SELF_PROFILE_FEATURE } from '../../constants'\nimport { requestSelfProfile, setSelfProfile } from '../../redux/actions/client'\nimport './RequestSelfProfile.scss'\nimport JsonViewer from '../ui/json-editor/JsonViewer'\n\nfunction RequestSelfProfile() {\n  const dispatch = useDispatch()\n  const selfProfile = useSelector(getSelfProfile)\n  const [isJSONViewer, setIsJSONViewer] = useState(true)\n\n  const toggleIsJSONViewer = () => setIsJSONViewer(!isJSONViewer)\n\n  const handleSubmit = () => {\n    dispatch(requestSelfProfile())\n  }\n\n  useLayoutEffect(() => {\n    dispatch(setSelfProfile(null))\n  }, [dispatch])\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={REQUEST_SELF_PROFILE_FEATURE.name} />\n      <div className='form-buttons'>\n        <button\n          className='btn--submit'\n          onClick={handleSubmit}\n          type='button'\n          id='submit'\n        >\n            \n        </button>\n      </div>\n      <div className='request-self-profile__json-viewer'>\n        {selfProfile && (\n          <JsonViewer\n            isJSONViewer={isJSONViewer}\n            botResponse={selfProfile}\n            toggleIsJSONViewer={toggleIsJSONViewer}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default RequestSelfProfile\n","import { useDispatch } from 'react-redux'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { CLOSE_SMART_APP_FEATURE } from '../../constants'\nimport { closeSmartApp } from '../../redux/actions/client'\nimport './CloseSmartApp.scss'\n\nfunction CloseSmartApp() {\n  const dispatch = useDispatch()\n\n  const handleSubmit = () => {\n    dispatch(closeSmartApp())\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={CLOSE_SMART_APP_FEATURE.name} />\n      <div className='form-buttons'>\n        <button\n          className='btn--submit'\n          onClick={handleSubmit}\n          type='button'\n          id='submit'\n        >\n           SmartApp\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default CloseSmartApp\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { FILE_PROXY } from '../../constants'\nimport classNames from 'classnames'\nimport { useState } from 'react'\n\nfunction FileProxy() {\n  const [url, setUrl] = useState('https://cts3dev.ccsteam.ru/api/v1/smartapp_proxy/zgubb4kz4xvqgcwi/upload/iblock/523/cf32v2zoh1rxzriy9xt3iqqtbg4dl254.mp4')\n  const [videoUrl, setVideoUrl] = useState(url)\n\n  const handleInputChange = e => setUrl(e.target.value)\n\n  const handleSubmit = () => setVideoUrl(url)\n\n  return (\n    <div className=\"feature-page file-proxy\">\n      <FeaturePageHeader name={FILE_PROXY.name} />\n      <div>\n        <b></b><br/>\n        <sup>\n            https://<u>cts</u>/api/v1/smartapp_proxy/<u>host_id</u>/<u>path_to_video</u>\n        </sup>\n      </div>\n      <div className='form-buttons'>\n        <input\n          className={classNames({\n            input: true,\n          })}\n          onChange={handleInputChange}\n          value={url}\n          type={'text'}\n          id=\"url\"\n        />\n        </div>\n      <div className='form-buttons'>\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleSubmit}\n          id=\"submit\"\n        >\n          Play\n        </button>\n      </div>\n      <video src={videoUrl} autoPlay controls width=\"100%\" style={{ margin: \"40px 0 0 0\" }} />\n    </div>\n  )\n}\n\nexport default FileProxy\n","import 'material-icons/iconfont/material-icons.css'\nimport './ConnectionIcon.scss'\n\nexport function ConnectionIcon({ connectionStatus }) {\n  switch (connectionStatus) {\n    case null:\n      return (\n        <div className='connection-status'>\n          <span className=\"material-icons\">question_mark</span>\n             \n        </div>\n      )\n    case 'connected':\n      return (\n        <div className='connection-status connection-status--connected'>\n          <span className=\"material-icons\">wifi</span>\n             \n        </div>\n      )\n    case 'disconnected':\n      return (\n        <div className='connection-status connection-status--disconnected'>\n          <span className=\"material-icons\">wifi_off</span>\n             \n        </div>\n      )\n    default:\n      return (\n        <div className='connection-status'>\n          <span className=\"material-icons\">question_mark</span>\n              \n        </div>\n      )\n  }\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { CONNECTION_STATUS } from '../../constants'\nimport classNames from 'classnames'\nimport { AppState } from '../../types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ConnectionIcon } from './ConnectionIcon'\nimport { getConnectionStatus, subscribeConnectionStatus, unsubscribeConnectionStatus } from '../../redux/actions/client'\n\nfunction ConnectionStatus() {\n  const dispatch = useDispatch()\n\n  const connectionStatus = useSelector<AppState>(state => state.client.connectionStatus)\n  const subscribedConnectionStatus = useSelector<AppState>(state => state.client.subscribedConnectionStatus)\n\n  const handleGetConnectionStatus = () => dispatch(getConnectionStatus())\n\n  const handleSubscribeConnectionStatus = () => dispatch(subscribeConnectionStatus())\n\n  const handleUnsubscribeConnectionStatus = () => dispatch(unsubscribeConnectionStatus())\n\n  return (\n    <div className=\"feature-page file-proxy\">\n      <FeaturePageHeader name={CONNECTION_STATUS.name} />\n      <h4> </h4>\n      <div className=\"form-buttons\" id=\"get-status-txt\">\n        <ConnectionIcon connectionStatus={connectionStatus} />\n      </div>\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleGetConnectionStatus}\n          id=\"get-status-btn\"\n        >\n           \n        </button>\n      </div>\n      <br />\n      <h4>   </h4>\n      <div className=\"form-buttons\" id=\"subscription-status-txt\">\n        <ConnectionIcon connectionStatus={subscribedConnectionStatus} />\n      </div>\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleSubscribeConnectionStatus}\n          id=\"subscribe-btn\"\n        >\n          \n        </button>\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleUnsubscribeConnectionStatus}\n          id=\"unsubscribe-btn\"\n        >\n          \n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default ConnectionStatus\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { CREATE_DEEPLINK } from '../../constants'\nimport classNames from 'classnames'\nimport { AppState } from '../../types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { createDeeplink } from '../../redux/actions/client'\nimport { useState } from 'react'\n\nconst initMeta = [\n  { key: 'route', value: '/send-email' },\n  { key: 'email', value: 'test@mail.ru' },\n]\n\nfunction CreateDeeplink() {\n  const dispatch = useDispatch()\n  const [appId, setAppId] = useState('email-smartapp')\n  const [metaJson, setMetaJson] = useState(JSON.stringify(initMeta, null, 2))\n\n  const deeplinkUrl = useSelector<AppState, string>(state => state.client.deeplinkUrl)\n\n  const handleSubmit = () => dispatch(createDeeplink(appId, JSON.parse(metaJson)))\n\n  const handleAppIdChange = e => setAppId(e.target.value)\n\n  const handleMetaChange = e => setMetaJson(e.target.value)\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={CREATE_DEEPLINK.name} />\n      <span className=\"feature-page__title\">App ID</span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" onChange={handleAppIdChange} value={appId} type=\"text\" id=\"app-id-text\" />\n      </div>\n      <span className=\"feature-page__title\">Meta</span>\n      <div className=\"form-buttons\">\n        <textarea className=\"input\" onChange={handleMetaChange} id=\"meta-text\" rows={10} value={metaJson} />\n      </div>\n      {deeplinkUrl && (\n        <>\n          <span className=\"feature-page__title\">Deeplink</span>\n          <input className=\"input\" disabled value={deeplinkUrl} />\n        </>\n      )}\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleSubmit}\n          id=\"submit\"\n        >\n           \n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default CreateDeeplink\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\n\nexport default function MoveToRootNotifier() {\n  return (\n    <>\n      <div className=\"feature-page\">\n        <FeaturePageHeader name=\"On receive\" />\n        <div className=\"response-express\" id=\"status-text\">\n          Received <b>move_to_root</b> event\n        </div>\n      </div>\n    </>\n  )\n}\n","import './FeatureSmartapp.scss'\nimport 'material-icons/iconfont/material-icons.css'\nimport { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getFeaturesMenu } from '../../redux/selectors/bot'\nimport { Link, Route, Switch, HashRouter } from 'react-router-dom'\nimport FeaturePage from '../feature-page/FeaturePage'\nimport { loadFeatures } from '../../redux/actions/bot'\nimport TopLoader from '../../components/ui/top-loader/TopLoader'\nimport { ReactComponent as BotxIcon } from '../../assets/botx-icon.svg'\nimport {\n  CLOSE_SMART_APP_FEATURE,\n  CONNECTION_STATUS,\n  CREATE_DEEPLINK,\n  ECHO_STATIC_FILE_FEATURE,\n  EXPRESS_FEATURES,\n  EXPRESS_NOTIFICATION_FEATURE,\n  FILE_PROXY,\n  GUARANTEED_DELIVERY_FEATURE,\n  MENU_ITEM_MESSAGE_META,\n  OPEN_FILE_FEATURE,\n  OPEN_SMART_APP_META_FEATURE,\n  OPEN_WEB_PAGE_FEATURE,\n  REQUEST_LOCATION,\n  REQUEST_SELF_PROFILE_FEATURE,\n  SCAN_QR_FEATURE,\n} from '../../constants'\nimport ExpressNotifications from '../../components/express-notifications/ExpressNotifications'\nimport MetaPage from '../../components/meta-page/MetaPage'\nimport { getRedirectPath } from '../../redux/selectors/ui'\nimport { history } from '../../redux/history'\nimport { ScanQRPage } from '../../components/scan-qr-page/ScanQRPage'\nimport OpenFile from '../../components/open-file/OpenFile'\nimport { BotFeatureMethod, ExpressFeatureMethod } from '../../types'\nimport { openClientSettings, useQuery } from '@unlimited/smartapp-sdk'\nimport OpenWebPage from '../../components/open-web-page/OpenWebPage'\nimport RequestLocation from '../../components/request-location/RequestLocation'\nimport EchoStaticFile from '../../components/echo-static-file/EchoStaticFile'\nimport Version from '../../components/ui/version/Version'\nimport RequestSelfProfile from '../../components/request-self-profile/RequestSelfProfile'\nimport CloseSmartApp from '../../components/close-smart-app/CloseSmartApp'\nimport FileProxy from '../../components/file-proxy/FileProxy'\nimport ConnectionStatus from '../../components/connection-status/ConnectionStatus'\nimport CreateDeeplink from '../../components/create-deeplink/CreateDeeplink'\nimport MoveToRootNotifier from '../../components/move-to-root-notifier/MoveToRootNotifier'\n\nexport default function FeatureSmartapp() {\n  const dispatch = useDispatch()\n  const botFeatures = useSelector(getFeaturesMenu)\n  const redirectPath = useSelector(getRedirectPath)\n  const { platform } = useQuery()\n\n  const handleOpenClientSettings = () => {\n    if (platform !== 'web') {\n      openClientSettings()\n    } else {\n      alert('Feature is unavailable on web client')\n    }\n  }\n\n  useEffect(() => {\n    if (redirectPath) history.push(redirectPath)\n\n    if (!botFeatures) dispatch(loadFeatures())\n  }, [dispatch, redirectPath, botFeatures])\n\n  return (\n    <div className='feature-smartapp'>\n      <div className='header'>\n        <span className='header__content'>\n          <BotxIcon className='header__icon' height={20} width={20} />\n          <span className='header__text' id='toolbar-title'>Feature Smartapp</span>\n        </span>\n      </div>\n      <TopLoader />\n      <section className='feature-smartapp__menu'>\n        <HashRouter>\n          <Switch>\n            {botFeatures?.length && botFeatures.map(item => {\n              return item.name === ECHO_STATIC_FILE_FEATURE.name ? (\n                <Route\n                  key={`${BotFeatureMethod.ECHO_STATIC_FILE}-route`}\n                  path={`/${BotFeatureMethod.ECHO_STATIC_FILE}`}\n                >\n                  <EchoStaticFile />\n                </Route>\n              ) : (\n                <Route\n                  key={`${item.method}-route`}\n                  path={`/${item.method}`}\n                >\n                  <FeaturePage {...item} />\n                </Route>\n              )\n            })}\n            <Route\n              key={`${GUARANTEED_DELIVERY_FEATURE.path}-route`}\n              path={`/${GUARANTEED_DELIVERY_FEATURE.path}`}\n            >\n              <FeaturePage\n                name={GUARANTEED_DELIVERY_FEATURE.name}\n                method={GUARANTEED_DELIVERY_FEATURE.method}\n                uiElements={GUARANTEED_DELIVERY_FEATURE.uiElements}\n              />\n            </Route>\n            {EXPRESS_FEATURES.map(item => (\n              <Route\n                key={`${item.method}-route`}\n                path={`/${item.method}`}\n              >\n                <FeaturePage {...item} />\n              </Route>\n            ))}\n            <Route\n              key={`${OPEN_SMART_APP_META_FEATURE.method}-route`}\n              path={`/${OPEN_SMART_APP_META_FEATURE.method}`}\n            >\n              <MetaPage name={OPEN_SMART_APP_META_FEATURE.name} />\n            </Route>\n            <Route\n              key={`${EXPRESS_NOTIFICATION_FEATURE.method}-route`}\n              path={`/${EXPRESS_NOTIFICATION_FEATURE.method}`}\n            >\n              <ExpressNotifications />\n            </Route>\n            <Route\n              key={`${SCAN_QR_FEATURE.method}-route`}\n              path={`/${SCAN_QR_FEATURE.method}`}\n            >\n              <ScanQRPage />\n            </Route>\n            <Route\n              key={`${OPEN_FILE_FEATURE.method}-route`}\n              path={`/${OPEN_FILE_FEATURE.method}`}\n            >\n              <OpenFile />\n            </Route>\n            <Route\n              key={`${OPEN_WEB_PAGE_FEATURE.method}-route`}\n              path={`/${OPEN_WEB_PAGE_FEATURE.method}`}\n            >\n              <OpenWebPage />\n            </Route>\n            <Route\n              key={`${REQUEST_LOCATION.method}-route`}\n              path={`/${REQUEST_LOCATION.method}`}\n            >\n              <RequestLocation />\n            </Route>\n            <Route\n              key={`${REQUEST_SELF_PROFILE_FEATURE.method}-route`}\n              path={`/${REQUEST_SELF_PROFILE_FEATURE.method}`}\n            >\n              <RequestSelfProfile />\n            </Route>\n            <Route\n              key={`${CLOSE_SMART_APP_FEATURE.method}-route`}\n              path={`/${CLOSE_SMART_APP_FEATURE.method}`}\n            >\n              <CloseSmartApp />\n            </Route>\n            <Route\n              key={`${FILE_PROXY.method}-route`}\n              path={`/${FILE_PROXY.method}`}\n            >\n              <FileProxy />\n            </Route>\n            <Route\n              key={`${CONNECTION_STATUS.method}-route`}\n              path={`/${CONNECTION_STATUS.method}`}\n            >\n              <ConnectionStatus />\n            </Route>\n            <Route\n              key={`${MENU_ITEM_MESSAGE_META.method}-route`}\n              path={`/${MENU_ITEM_MESSAGE_META.method}`}\n            >\n              <MetaPage name={MENU_ITEM_MESSAGE_META.name} />\n            </Route>\n            <Route\n              key={`${CREATE_DEEPLINK.method}-route`}\n              path={`/${CREATE_DEEPLINK.method}`}\n            >\n              <CreateDeeplink />\n            </Route>\n            <Route\n              key={`move-to-root-notifier-route`}\n              path={`/move-to-root-notifier`}\n            >\n              <MoveToRootNotifier />\n            </Route>\n            <Route path={'/'}>\n              {botFeatures?.length && (\n                <span className={'feature-smartapp__menu-title'}>Bot methods</span>\n              )}\n              {botFeatures?.length && botFeatures?.map(item => (\n                <Link\n                  className='feature-smartapp__menu-item'\n                  key={`${item.method}-link`}\n                  to={`/${item.method}`}\n                >\n                  <span className=\"material-icons\">send</span>\n                  {item.name}\n                </Link>\n              ))}\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${GUARANTEED_DELIVERY_FEATURE.path}-link`}\n                to={`/${GUARANTEED_DELIVERY_FEATURE.path}`}\n              >\n                <span className=\"material-icons\">delivery_dining</span>\n                {GUARANTEED_DELIVERY_FEATURE.name}\n              </Link>\n              <span className={'feature-smartapp__menu-title'}>\n                Client methods\n              </span>\n              {EXPRESS_FEATURES.map(item => (\n                  item.method === ExpressFeatureMethod.OPEN_CLIENT_SETTINGS ? (\n                    <a\n                      href=\"#/\"\n                      key={`${item.method}-route`}\n                      className='feature-smartapp__menu-item'\n                      onClick={handleOpenClientSettings}\n                    >\n                      <span className=\"material-icons\">{item.icon}</span>\n                      {item.name}\n                    </a>\n                  ) : (\n                    <Link\n                      className='feature-smartapp__menu-item'\n                      key={`${item.method}-link`}\n                      to={`/${item.method}`}\n                    >\n                      <span className=\"material-icons\">{item.icon}</span>\n                      {item.name}\n                    </Link>\n                  )\n                ),\n              )}\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${EXPRESS_NOTIFICATION_FEATURE.method}-link`}\n                to={`/${EXPRESS_NOTIFICATION_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">notifications_none</span>\n                {EXPRESS_NOTIFICATION_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${SCAN_QR_FEATURE.method}-link`}\n                to={`/${SCAN_QR_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">qr_code</span>\n                {SCAN_QR_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${OPEN_WEB_PAGE_FEATURE.method}-link`}\n                to={`/${OPEN_WEB_PAGE_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">open_in_new</span>\n                {OPEN_WEB_PAGE_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${REQUEST_LOCATION.method}-link`}\n                to={`/${REQUEST_LOCATION.method}`}\n              >\n                <span className=\"material-icons\">my_location</span>\n                {REQUEST_LOCATION.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${REQUEST_SELF_PROFILE_FEATURE.method}-link`}\n                to={`/${REQUEST_SELF_PROFILE_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">face</span>\n                {REQUEST_SELF_PROFILE_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${CLOSE_SMART_APP_FEATURE.method}-link`}\n                to={`/${CLOSE_SMART_APP_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">close</span>\n                {CLOSE_SMART_APP_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${FILE_PROXY.method}-link`}\n                to={`/${FILE_PROXY.method}`}\n              >\n                <span className=\"material-icons\">drive_file_move</span>\n                {FILE_PROXY.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${CONNECTION_STATUS.method}-link`}\n                to={`/${CONNECTION_STATUS.method}`}\n              >\n                <span className=\"material-icons\">wifi_off</span>\n                {CONNECTION_STATUS.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${CREATE_DEEPLINK.method}-link`}\n                to={`/${CREATE_DEEPLINK.method}`}\n              >\n                <span className=\"material-icons\">link</span>\n                {CREATE_DEEPLINK.name}\n              </Link>\n            </Route>\n          </Switch>\n        </HashRouter>\n      </section>\n      <Version/>\n    </div>\n  )\n}\n","import { BotMethodResponse } from '../../types'\nimport './Notifier.scss'\n\nexport default function Notifier({ result, status }: BotMethodResponse['payload']) {\n  return (\n    <div className={'notifier'}>\n      <span className={'notifier__text'}>{result}</span>\n      <span className={'notifier__text'}>Status: {status}</span>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Bridge as bridge } from '@unlimited/smartapp-sdk'\nimport MainLoader from './ui/main-loader/MainLoader'\nimport FeatureSmartapp from '../containers/feature-smartapp/FeatureSmartapp'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { BotMethodResponse, EventType, ExpressNotification } from '../types'\nimport { sendReadyEvent, setExpressNotificationSuccess } from '../redux/actions/client'\nimport Notifier from './notifier/Notifier'\nimport { getMainLoader } from '../redux/selectors/ui'\n\nexport default function Main() {\n  const dispatch = useDispatch()\n  const isMainLoader = useSelector(getMainLoader)\n  const [load, setLoad] = useState(true)\n  const [notifier, setNotifier] = useState<BotMethodResponse['payload'] | null>(null)\n\n  useEffect(() => {\n    if (load) {\n      setLoad(false)\n      dispatch(sendReadyEvent())\n    }\n\n    bridge?.onReceive(({ type, payload }) => {\n      if (typeof payload !== 'object') return\n\n      switch (type) {\n        case EventType.SMARTAPP_RPC: {\n          setNotifier(payload as BotMethodResponse['payload'])\n          setTimeout(() => setNotifier(null), 3000)\n          break\n        }\n        case EventType.NOTIFICATION: {\n          dispatch(setExpressNotificationSuccess(payload as ExpressNotification))\n          break\n        }\n        default: \n          break\n      }\n    })\n  }, [dispatch, load])\n\n  return (\n    <>\n      {isMainLoader && <MainLoader />}\n      <FeatureSmartapp />\n      {notifier && <Notifier {...notifier} />}\n    </>\n  )\n}\n","import { handleActions } from 'redux-actions'\nimport { UIState } from '../../types'\nimport {\n  SET_MAIN_LOADER,\n  SET_REDIRECT_PATH,\n  SET_TOP_LOADER,\n  setMainLoaderActionType, setRedirectPathActionType,\n  setTopLoaderActionType,\n} from '../actions/ui'\n\nconst initialState: UIState = {\n  topLoader: false,\n  mainLoader: false,\n  redirectPath: '',\n}\n\nconst reducers = {\n  [SET_TOP_LOADER]: (\n    state: UIState, { payload: topLoader }: setTopLoaderActionType\n  ): UIState => ({\n    ...state, topLoader\n  }),\n  [SET_MAIN_LOADER]: (\n    state: UIState, { payload: mainLoader }: setMainLoaderActionType\n  ): UIState => ({\n    ...state, mainLoader\n  }),\n  [SET_REDIRECT_PATH]: (\n    state: UIState, { payload: redirectPath }: setRedirectPathActionType\n  ): UIState => ({\n    ...state, redirectPath\n  }),\n}\n\nexport const ui = handleActions<UIState, any>(reducers, initialState)\n","import { handleActions } from 'redux-actions'\nimport { BotState } from '../../types'\nimport {\n  LOAD_FEATURES_SUCCESS,\n  loadFeaturesSuccessActionType,\n  RESET_RESPONSE,\n  SEND_FEATURE_BOT_EVENT_SUCCESS,\n  SET_STATIC_FILE,\n  setStaticFileActionType,\n} from '../actions/bot'\n\nconst initialState: BotState = {\n  features: null,\n  response: null,\n  notifications: null,\n  staticFile: null,\n}\n\nconst reducers = {\n  [LOAD_FEATURES_SUCCESS]: (\n    state: BotState, { payload: features }: loadFeaturesSuccessActionType,\n  ): BotState => ({\n    ...state,\n    features,\n  }),\n  [SEND_FEATURE_BOT_EVENT_SUCCESS]: (state: BotState, { payload: response }: any): BotState => ({\n    ...state,\n    response,\n  }),\n  [RESET_RESPONSE]: (state: BotState): BotState => ({\n    ...state,\n    response: null,\n  }),\n  [SET_STATIC_FILE]: (\n    state: BotState, { payload: staticFile }: setStaticFileActionType\n  ): BotState => ({\n    ...state,\n    staticFile,\n  }),\n}\n\nexport const bot = handleActions(reducers, initialState)\n","import { handleActions } from 'redux-actions'\nimport { ClientState } from '../../types'\n\nimport {\n  REMOVE_FILE_SUCCESS,\n  removeFileSuccessActionType,\n  RESET_ATTACHMENTS,\n  RESET_EXPRESS_NOTIFICATION_SUCCESS,\n  RESET_EXPRESS_RESPONSE,\n  SEND_EXPRESS_EVENT_SUCCESS,\n  sendExpressEventSuccessActionType,\n  SET_EXPRESS_NOTIFICATION_SUCCESS,\n  SET_LOCATION,\n  SET_META,\n  SET_SELF_PROFILE,\n  setExpressNotificationSuccessActionType,\n  setLocationActionType,\n  setMetaActionType,\n  setSelfProfileType,\n  UPLOAD_FILE_SUCCESS,\n  UPLOAD_FILES_SUCCESS,\n  uploadFilesSuccessActionType,\n  uploadFileSuccessActionType,\n  SET_CONNECTION_STATUS,\n  setConnectionStatusType,\n  CONNECTION_STATUS_CHANGED,\n  connectionStatusChangedType,\n  SET_DEEPLINK_URL,\n  setDeeplinkUrlType,\n} from '../actions/client'\n\nconst initialState: ClientState = {\n  attachments: null,\n  response: null,\n  meta: null,\n  notifications: [],\n  location: null,\n  selfProfile: null,\n  connectionStatus: null,\n  subscribedConnectionStatus: null,\n  deeplinkUrl: null,\n}\n\nconst reducers = {\n  [UPLOAD_FILE_SUCCESS]: (state: ClientState, { payload: file }: uploadFileSuccessActionType): ClientState => ({\n    ...state,\n    attachments: [file],\n  }),\n  [UPLOAD_FILES_SUCCESS]: (state: ClientState, { payload: files }: uploadFilesSuccessActionType): ClientState => ({\n    ...state,\n    attachments: [...files],\n  }),\n  [REMOVE_FILE_SUCCESS]: (state: ClientState, { payload: id }: removeFileSuccessActionType): ClientState => ({\n    ...state,\n    attachments: state.attachments.filter(attachment => attachment.fileId !== id),\n  }),\n  [RESET_ATTACHMENTS]: (state: ClientState): ClientState => ({\n    ...state,\n    attachments: null,\n  }),\n  [SET_EXPRESS_NOTIFICATION_SUCCESS]: (\n    state: ClientState,\n    { payload }: setExpressNotificationSuccessActionType\n  ): ClientState => ({\n    ...state,\n    notifications: [payload, ...state.notifications],\n  }),\n  [RESET_EXPRESS_NOTIFICATION_SUCCESS]: (state: ClientState): ClientState => ({\n    ...state,\n    notifications: [],\n  }),\n  [SEND_EXPRESS_EVENT_SUCCESS]: (state: ClientState, response: sendExpressEventSuccessActionType): ClientState => ({\n    ...state,\n    response,\n  }),\n  [RESET_EXPRESS_RESPONSE]: (state: ClientState): ClientState => ({\n    ...state,\n    response: null,\n  }),\n  [SET_META]: (state: ClientState, { payload }: setMetaActionType): ClientState => ({\n    ...state,\n    meta: payload,\n  }),\n  [SET_LOCATION]: (state: ClientState, { payload }: setLocationActionType): ClientState => ({\n    ...state,\n    location: payload,\n  }),\n  [SET_SELF_PROFILE]: (state: ClientState, { payload }: setSelfProfileType): ClientState => ({\n    ...state,\n    selfProfile: payload,\n  }),\n  [SET_CONNECTION_STATUS]: (state: ClientState, { payload }: setConnectionStatusType): ClientState => ({\n    ...state,\n    connectionStatus: payload,\n  }),\n  [CONNECTION_STATUS_CHANGED]: (state: ClientState, { payload }: connectionStatusChangedType): ClientState => ({\n    ...state,\n    subscribedConnectionStatus: payload,\n  }),\n  [SET_DEEPLINK_URL]: (state: ClientState, { payload }: setDeeplinkUrlType): ClientState => ({\n    ...state,\n    deeplinkUrl: payload,\n  }),\n}\n\nexport const client = handleActions<ClientState, any>(reducers, initialState)\n","import { connectRouter } from 'connected-react-router'\nimport { combineReducers } from 'redux'\nimport { history } from '../history'\nimport { ui } from './ui'\nimport { AppState } from '../../types'\nimport { bot } from './bot'\nimport { client } from './client'\n\nexport const rootReducer = combineReducers<AppState>({\n  ui,\n  bot,\n  client,\n  router: connectRouter(history),\n})\n","import { put } from 'redux-saga/effects'\nimport { setMainLoader } from '../actions/ui'\nimport { Bridge as bridge } from '@unlimited/smartapp-sdk'\nimport { BotFeaturesResponse } from '../../types'\nimport { MENU_EVENT } from '../../constants'\nimport { loadFeaturesSuccess } from '../actions/bot'\n\nexport function* loadFeaturesSaga() {\n  try {\n    yield put(setMainLoader(true))\n\n    const response: BotFeaturesResponse = yield bridge.sendBotEvent(MENU_EVENT)\n\n    if (response) yield put(loadFeaturesSuccess(response.payload.result))\n  } catch (e: any) {\n    console.error('loadFeaturesSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n","import { put } from 'redux-saga/effects'\nimport { setMainLoader } from '../actions/ui'\nimport { BotFeatureMethod, BotMethodResponse } from '../../types'\nimport { Bridge as bridge } from '@unlimited/smartapp-sdk'\nimport { sendFeatureBotEventSuccess, setStaticFile } from '../actions/bot'\n\nexport function* sendFeatureBotEventSaga(action) {\n  try {\n    yield put(setMainLoader(true))\n\n    const response: BotMethodResponse = yield bridge?.sendBotEvent(action.payload)\n\n    yield put(sendFeatureBotEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendFeatureBotEventSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n\nexport function* echoStaticFileSaga(action) {\n  try {\n    yield put(setMainLoader(true))\n    const staticFile = yield bridge?.sendBotEvent({\n      method: BotFeatureMethod.ECHO_STATIC_FILE,\n      params: {},\n      files: [action.payload],\n    })\n    console.error(staticFile)\n\n    yield put(setStaticFile(staticFile))\n\n  } catch (e: any) {\n    console.error('echoStaticFileSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n","import {\n  Bridge as bridge,\n  ready,\n  requestLocation,\n  sendMessage,\n  requestSelfProfile,\n  closeSmartApp,\n  getConnectionStatus,\n  subscribeClientEvents,\n  unsubscribeClientEvents,\n  createDeeplink,\n} from '@unlimited/smartapp-sdk'\nimport { ClientEventMethod, ExpressMethodResponse, File } from '../../types'\nimport { call, put, take } from 'redux-saga/effects'\nimport {\n  connectionStatusChanged,\n  createDeeplinkActionType,\n  sendExpressEventActionType,\n  sendExpressEventSuccess,\n  sendMessageExpressEventActionType,\n  setConnectionStatus,\n  setDeeplinkUrl,\n  setLocation,\n  setMeta,\n  setSelfProfile,\n  uploadFilesActionType,\n  uploadFilesSuccess,\n  uploadFileSuccess,\n} from '../actions/client'\nimport { setRedirectPath, setTopLoader } from '../actions/ui'\nimport { OPEN_SMART_APP_META_FEATURE } from '../../constants'\nimport { CreateDeeplinkResponse, GetConnectionStatusResponse, SubscriptionEventType } from '@unlimited/smartapp-sdk/build/main/types'\nimport { eventChannel } from 'redux-saga'\n\nlet connectionStatusChannel = null\n\nexport function* uploadFileSaga() {\n  try {\n    const response = yield bridge?.sendClientEvent({\n      method: ClientEventMethod.UPLOAD_FILE,\n      params: { type: '' },\n    })\n\n    if (!response.payload?.record) return\n\n    const file: File = {\n      ...response.payload.record,\n    }\n\n    yield put(uploadFileSuccess(file))\n  } catch (e) {\n    console.error(`uploadFileSaga error: ${e}`)\n  }\n}\n\nexport function* uploadFilesSaga({ payload: { type } }: uploadFilesActionType) {\n  try {\n    const response = yield bridge?.sendClientEvent({\n      method: ClientEventMethod.UPLOAD_FILES,\n      params: { type },\n    })\n\n    if (!response.payload.records.length) return\n\n    const files: File[] = response.payload.records\n\n    yield put(uploadFilesSuccess(files))\n  } catch (e) {\n    console.error(`uploadFilesSaga error: ${e}`)\n  }\n}\n\nexport function* requestLocationSaga() {\n  try {\n    yield put(setTopLoader(true))\n    const response = yield requestLocation()\n\n    if (response) {\n      yield put(setLocation(response))\n    }\n  } catch (e) {\n    console.error(`uploadFileSaga error: ${e}`)\n  } finally {\n    yield put(setTopLoader(false))\n  }\n}\n\nexport function* requestSelfProfileSaga() {\n  try {\n    yield put(setTopLoader(true))\n    const response = yield requestSelfProfile()\n\n    if (response) {\n      yield put(setSelfProfile(response))\n    }\n  } catch (e) {\n    console.error(`requestSelfProfileSaga error: ${e}`)\n  } finally {\n    yield put(setTopLoader(false))\n  }\n}\n\nexport function* sendExpressEventSaga(action: sendExpressEventActionType) {\n  try {\n    yield put(setTopLoader(true))\n\n    const response: ExpressMethodResponse = yield bridge?.sendClientEvent(action.payload)\n\n    yield put(sendExpressEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendExpressEventSaga error', e)\n  } finally {\n    yield put(setTopLoader(false))\n  }\n}\n\nexport function* sendMessageExpressEventSaga(action: sendMessageExpressEventActionType) {\n  try {\n    yield put(setTopLoader(true))\n\n    const response: ExpressMethodResponse = yield sendMessage(action.payload)\n\n    yield put(sendExpressEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendMessageExpressEventSaga error', e)\n  } finally {\n    yield put(setTopLoader(false))\n  }\n}\n\nexport function* sendExpressReadyEventSaga() {\n  try {\n    const response = yield ready(3000)\n    const meta = response?.payload?.[OPEN_SMART_APP_META_FEATURE.field]\n    const initialData = response?.payload?.initialData\n\n    if (meta || initialData?.initiator) {\n      bridge?.log?.({ response })\n      yield put(setRedirectPath(`/${OPEN_SMART_APP_META_FEATURE.method}`))\n      yield put(setMeta(response))\n      return\n    }\n\n    setRedirectPath('/')\n  } catch (e) {\n    console.error('sendExpressReadyEventSaga', e)\n  }\n}\n\nexport function* closeSmartAppSaga() {\n  try {\n    yield closeSmartApp()\n  } catch (e) {\n    console.error(`closeSmartAppSaga error: ${e}`)\n  }\n}\n\nexport function* getConnectionStatusSaga() {\n  try {\n    const response: GetConnectionStatusResponse = yield getConnectionStatus()\n\n    console.log(response)\n\n    yield put(setConnectionStatus(response.payload.connectionStatus))\n  } catch (e) {\n    console.error(`getConnectionStatusSaga error: ${e}`)\n  }\n}\n\nfunction addConnectionEventListener() {\n  return eventChannel(emitter => {\n    const connectionStatusCallback = (event: any) => {\n      console.log('Subscription event', JSON.stringify(event))\n      emitter(event.payload.connectionStatus)\n    }\n\n    subscribeClientEvents(SubscriptionEventType.CONNECTION_STATUS, connectionStatusCallback).then(() => {\n      console.log('Subscribed ' + SubscriptionEventType.CONNECTION_STATUS)\n    })\n\n    return () => unsubscribeClientEvents(SubscriptionEventType.CONNECTION_STATUS, connectionStatusCallback)\n  })\n}\n\nexport function* subscribeConnectionStatusSaga() {\n  try {\n    connectionStatusChannel = yield call(addConnectionEventListener)\n\n    while (true) {\n      const connectionStatus = yield take(connectionStatusChannel)\n      yield put(connectionStatusChanged(connectionStatus))\n    }\n  } catch (e) {\n    console.error(`subscribeConnectionStatusSaga error: ${e}`)\n  }\n}\n\nexport function unsubscribeConnectionStatusSaga() {\n  if (connectionStatusChannel) {\n    connectionStatusChannel.close()\n    connectionStatusChannel = null\n  }\n}\n\nexport function* createDeeplinkSaga({ payload: { appId, meta } }: createDeeplinkActionType) {\n  try {\n    const response: CreateDeeplinkResponse = yield createDeeplink(appId, meta)\n\n    yield put(setDeeplinkUrl(response.payload.data?.deeplink))\n  } catch (e) {\n    console.error(`createDeeplinkSaga error: ${e}`)\n  }\n}","import { all, call, take } from 'redux-saga/effects'\nimport { eventChannel, EventChannel } from 'redux-saga'\nimport { Bridge as bridge } from '@unlimited/smartapp-sdk'\nimport { AppEvent, Methods } from '../../types'\n\nexport function subscribeClientEvents(): EventChannel<AppEvent> {\n  return eventChannel(emit => {\n    bridge?.onReceive(event => emit(event as any))\n    return () => {}\n  })\n}\n\nexport function* watchClientEvents() {\n  const channel: EventChannel<AppEvent> = yield call(subscribeClientEvents)\n\n  while (true) {\n    const event: AppEvent = yield take(channel)\n\n    switch (event.type) {\n      case Methods.CLEAN_CACHE:\n        yield call(handleCleanCache)\n        break\n      case Methods.MOVE_TO_ROOT:\n        window.location.hash = '/move-to-root-notifier'\n        break\n      default:\n        break\n    }\n  }\n}\n\nexport function* handleCleanCache() {\n  const registrations: ServiceWorkerRegistration[] = yield navigator.serviceWorker.getRegistrations()\n  const unregisterPromises = registrations.map(registration => registration.unregister())\n\n  const allCaches: string[] = yield caches.keys()\n  const cacheDeletionPromises = allCaches.map(cache => caches.delete(cache))\n\n  yield Promise.all([...unregisterPromises, ...cacheDeletionPromises])\n\n  localStorage.clear()\n}\n\nexport function* rootEventsBusSaga() {\n  yield all([watchClientEvents()])\n}\n","import { all, fork, takeEvery } from 'redux-saga/effects'\nimport { loadFeaturesSaga } from './ui'\nimport { echoStaticFileSaga, sendFeatureBotEventSaga } from './bot'\nimport {\n  closeSmartAppSaga,\n  requestLocationSaga,\n  requestSelfProfileSaga,\n  sendExpressEventSaga,\n  sendExpressReadyEventSaga,\n  sendMessageExpressEventSaga,\n  uploadFileSaga,\n  uploadFilesSaga,\n  getConnectionStatusSaga,\n  subscribeConnectionStatusSaga,\n  unsubscribeConnectionStatusSaga,\n  createDeeplinkSaga,\n} from './client'\nimport {\n  CLOSE_SMART_APP,\n  CREATE_DEEPLINK,\n  ECHO_STATIC_FILE,\n  GET_CONNECTION_STATUS,\n  REQUEST_LOCATION,\n  REQUEST_SELF_PROFILE,\n  SEND_EXPRESS_EVENT,\n  SEND_EXPRESS_READY_EVENT,\n  SEND_MESSAGE_EXPRESS_EVENT,\n  SUBSCRIBE_CONNECTION_STATUS,\n  UNSUBSCRIBE_CONNECTION_STATUS,\n  UPLOAD_FILE,\n  UPLOAD_FILES,\n} from '../actions/client'\nimport { LOAD_FEATURES, SEND_FEATURE_BOT_EVENT } from '../actions/bot'\nimport { rootEventsBusSaga } from './eventBus'\n\nfunction* rootFeatureSmartAppSaga() {\n  yield all([\n    takeEvery(LOAD_FEATURES, loadFeaturesSaga),\n    takeEvery(SEND_FEATURE_BOT_EVENT, sendFeatureBotEventSaga),\n    takeEvery(ECHO_STATIC_FILE, echoStaticFileSaga),\n    takeEvery(SEND_EXPRESS_EVENT, sendExpressEventSaga),\n    takeEvery(SEND_MESSAGE_EXPRESS_EVENT, sendMessageExpressEventSaga),\n    takeEvery(SEND_EXPRESS_READY_EVENT, sendExpressReadyEventSaga),\n    takeEvery(UPLOAD_FILE, uploadFileSaga),\n    takeEvery(UPLOAD_FILES, uploadFilesSaga),\n    takeEvery(REQUEST_LOCATION, requestLocationSaga),\n    takeEvery(REQUEST_SELF_PROFILE, requestSelfProfileSaga),\n    takeEvery(CLOSE_SMART_APP, closeSmartAppSaga),\n    takeEvery(GET_CONNECTION_STATUS, getConnectionStatusSaga),\n    takeEvery(SUBSCRIBE_CONNECTION_STATUS, subscribeConnectionStatusSaga),\n    takeEvery(UNSUBSCRIBE_CONNECTION_STATUS, unsubscribeConnectionStatusSaga),\n    takeEvery(CREATE_DEEPLINK, createDeeplinkSaga),\n  ])\n}\n\nfunction* rootSaga() {\n  yield all([\n    fork(rootFeatureSmartAppSaga),\n    fork(rootEventsBusSaga),\n  ])\n}\n\nexport default rootSaga\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Main from './components/Main'\nimport { configureStore } from './redux/configureStore'\nimport { history } from './redux/history'\nimport './index.scss'\n\nif ((module as any).hot) (module as any).hot.accept()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={configureStore()}>\n      {/* @ts-ignore */}\n      <ConnectedRouter history={history}>\n        <Main />\n      </ConnectedRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)","import { applyMiddleware, createStore, Store } from 'redux'\nimport { routerMiddleware as createRouterMiddleware } from 'connected-react-router'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport createSagaMiddleware from 'redux-saga'\nimport { rootReducer } from './reducers'\nimport rootSaga from './sagas'\nimport { history } from './history'\nimport { AppState } from '../types'\n\ntype ApplicationStore = Store<AppState>\n\nexport function configureStore(): ApplicationStore {\n  const sagaMiddleware = createSagaMiddleware()\n  const routerMiddleware = createRouterMiddleware(history)\n\n  const store: ApplicationStore = createStore(\n    rootReducer,\n    undefined,\n    composeWithDevTools(applyMiddleware(sagaMiddleware, routerMiddleware))\n  )\n\n  sagaMiddleware\n    .run(rootSaga)\n    .toPromise()\n    .catch((e: Error) => console.error('Saga error', e))\n\n  return store\n}\n"],"sourceRoot":""}