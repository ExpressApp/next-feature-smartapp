{"version":3,"sources":["components/main-loader/MainLoader.tsx","assets/plus.svg","redux/selectors/bot.ts","types/index.ts","constants.ts","helpers/index.ts","redux/actions/bot.ts","assets/clear-input.svg","assets/file.svg","assets/copy.svg","components/json-editor/JsonViewer.tsx","assets/arrow-left.svg","redux/actions/client.ts","redux/selectors/client.ts","components/feature-page-header/FeaturePageHeader.tsx","components/feature-page/FeaturePage.tsx","assets/botx-icon.svg","redux/selectors/ui.ts","components/top-loader/TopLoader.tsx","components/express-notifications/ExpressNotifications.tsx","redux/actions/ui.ts","components/meta-page/MetaPage.tsx","redux/router.ts","components/scan-qr/ScanQR.tsx","components/scan-qr-page/ScanQRPage.tsx","components/open-file/OpenFile.tsx","components/open-web-page/OpenWebPage.tsx","components/feature-smartapp/FeatureSmartapp.tsx","components/notifier/Notifier.tsx","components/Main.tsx","redux/reducers/ui.ts","redux/reducers/bot.ts","redux/reducers/client.ts","redux/reducers/index.ts","redux/sagas/ui.ts","redux/sagas/bot.ts","redux/sagas/client.ts","redux/sagas/index.ts","index.tsx","redux/configureStore.ts"],"names":["MainLoader","_jsx","className","children","_jsxs","_path","getFeaturesMenu","createSelector","state","bot","features","getFeatureBotResponse","response","EventType","BotFeatureMethod","ExpressFeatureMethod","ExpressFeatureName","ClientEventMethod","InputId","InputLabel","InputType","EXPRESS_NOTIFICATION_FEATURE","method","name","OPEN_SMART_APP_META_FEATURE","field","OPEN_FILE_FEATURE","SCAN_QR_FEATURE","OPEN_WEB_PAGE_FEATURE","MENU_EVENT","params","text","INPUT_TYPE","INPUT_TEXT","INPUT_NUMBER","FILE_PICKER","ARRAY_UUID","UUID","EXPRESS_FEATURES","ADD_CONTACT","uiElements","id","PHONE","label","type","NAME","CREATE_PERSONAL_CHAT","HUID","GET_CONTACT","OPEN_SMARTAPP","SMARTAPP_ID","SEND_MESSAGE","MESSAGE","GROUP_CHAT_ID","USER_HUID","OPEN_CLIENT_SETTINGS","GET_CHATS","FILTER","SEARCH_CORPORATE_PHONEBOOK","OPEN_GROUP_CHAT","SEND_BOT_COMMAND","BODY","DATA","getFormInitialValues","reduce","acc","item","undefined","LOAD_FEATURES","LOAD_FEATURES_SUCCESS","RESET_RESPONSE","SEND_FEATURE_BOT_EVENT","SEND_FEATURE_BOT_EVENT_SUCCESS","loadFeatures","createAction","loadFeaturesSuccess","resetFeatures","sendFeatureBotEvent","botEvent","sendFeatureBotEventSuccess","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPlus","_ref","svgRef","title","titleId","props","xmlns","viewBox","fill","ref","fillRule","d","ForwardRef","SvgClearInput","transform","_g","SvgFile","width","height","x","y","rx","fontSize","fontWeight","SvgCopy","JsonViewer","container","useRef","useEffect","editor","JSONEditor","current","mode","enableTransform","json","set","button","document","createElement","innerHTML","ReactDOMServer","renderToStaticMarkup","CopyIcon","addEventListener","obj","JSON","stringify","body","appendChild","select","execCommand","removeChild","copyToClipboardJson","setAttribute","menu","querySelector","search","insertBefore","destroy","UPLOAD_FILE","UPLOAD_FILE_SUCCESS","UPLOAD_FILES","UPLOAD_FILES_SUCCESS","REMOVE_FILE_SUCCESS","RESET_ATTACHMENTS","SEND_EXPRESS_EVENT","SEND_MESSAGE_EXPRESS_EVENT","SEND_EXPRESS_EVENT_SUCCESS","SET_EXPRESS_NOTIFICATION_SUCCESS","RESET_EXPRESS_NOTIFICATION_SUCCESS","RESET_EXPRESS_RESPONSE","SEND_EXPRESS_READY_EVENT","SET_META","uploadFile","uploadFileSuccess","file","uploadFiles","uploadFilesSuccess","files","removeFileSuccess","resetAttachments","sendExpressEvent","expressEvent","sendMessageExpressEvent","payload","sendExpressEventSuccess","setExpressNotificationSuccess","notification","resetExpressNotificationSuccess","setMeta","meta","resetExpressResponse","sendReadyEvent","getAttachments","client","attachments","getExpressResponse","getMeta","getExpressNotifications","notifications","notificaions","SvgArrowLeft","FeaturePageHeader","Link","to","ArrowLeft","FeaturePage","_text","_text$replaceAll","_botResponse$payload","_botResponse$payload7","_botResponse$payload8","_botResponse$payload9","_botResponse$files","_ref$uiElements","dispatch","useDispatch","botResponse","useSelector","expressResponse","_useState","useState","_useState2","_slicedToArray","inputs","setInputs","_useState3","_useState4","inputError","setInputError","_useState5","_useState6","isJSONViewer","setIsJSONViewer","isAllowNewInputs","SEARCH_USERS","isFilesMethod","ECHO_FILE","ECHO_FILES","includes","isUsersMethod","isExpressMethod","values","isMobile","test","window","navigator","userAgent","handleFormSubmitForExpressMethod","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","formValues","userHuid","groupChatId","message","action","chats","_action","phonebook","_action2","result","event","sendExpressEventAction","wrap","_context2","prev","next","t0","filterFormValues","abrupt","messageBody","messageMeta","bridge","disableRenameParams","enableRenameParams","openClientSettings","getChats","filter","sent","openGroupChat","searchCorporatePhonebook","_ref3","_callee","_context","sendBotCommand","data","command","stop","_x","useMemo","value","toggleIsJSONViewer","formik","useFormik","initialValues","onSubmit","huids","handleFormSubmitForBotMethod","getIsSubmitButtonDisabled","map","input","index","_objectSpread","HUIDS","concat","_Fragment","FILE","FILES","onClick","attachment","fileName","RemoveIcon","fileId","classnames","disabled","handleSubmit","_ref4","inputType","isShowLabel","phone","uuid","isNotEmpty","getIsInputError","onChange","handleChange","multiple","min","setFieldValue","PlusIcon","last","_toConsumableArray","ReactMarkdown","ECHO","replaceAll","FileIcon","checked","getTopLoader","ui","topLoader","getMainLoader","mainLoader","getRedirectPath","redirectPath","TopLoader","start","setStart","setStop","finish","setFinish","stopTimeout","finishTimeout","setTimeout","clearTimeout","SvgBotxIcon","ExpressNotifications","expressNotifications","SET_TOP_LOADER","SET_MAIN_LOADER","SET_REDIRECT_PATH","setTopLoader","setMainLoader","setRedirectPath","MetaPage","history","createBrowserHistory","ScanQR","onScanSuccess","onScanFailure","config","fps","qrbox","disableFlip","Html5QrcodeScanner","render","ScanQRPage","decodedText","setDecodedText","decodedResult","setDecodedResult","error","setError","console","log","err","warn","OpenFile","inputValue","setInputValue","e","parse","sendClientEvent","OpenWebPage","link","setLink","defaultValue","href","FeatureSmartapp","platform","useQuery","push","BotxIcon","Switch","Route","path","alert","Notifier","status","Main","load","setLoad","isMainLoader","notifier","setNotifier","onReceive","SMARTAPP_RPC","NOTIFICATION","reducers","_reducers","_defineProperty","handleActions","_ref5","rootReducer","combineReducers","router","connectRouter","loadFeaturesSaga","put","sendBotEvent","_marked","sendFeatureBotEventSaga","sendExpressEventSaga","_marked2","sendMessageExpressEventSaga","_marked3","sendExpressReadyEventSaga","uploadFileSaga","_response$payload","record","uploadFilesSaga","records","_context3","_context4","sendMessage","_response$payload2","_bridge$log","_context5","ready","rootSaga","all","takeEvery","ReactDOM","React","StrictMode","Provider","store","sagaMiddleware","createSagaMiddleware","routerMiddleware","createRouterMiddleware","createStore","composeWithDevTools","applyMiddleware","run","toPromise","catch","configureStore","ConnectedRouter","getElementById"],"mappings":"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","file":"static/js/main.682c802f.chunk.js","sourcesContent":["import React from 'react'\nimport './MainLoader.scss'\n\nexport default function MainLoader() {\n  return (\n    <div className='main-loader'>\n      <div className='main-loader__spinner'>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  )\n}\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M13 11V4h-2v7H4v2h7v7h2v-7h7v-2h-7z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.97a40cd5.svg\";\nexport { ForwardRef as ReactComponent };","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getFeaturesMenu = createSelector(\n  [(state: AppState) => state.bot.features],\n  features => features,\n)\n\nexport const getFeatureBotResponse = createSelector(\n  [(state: AppState) => state.bot.response],\n  response => response,\n)\n","import { RouterState } from 'connected-react-router'\n\nexport enum EventType {\n  SMARTAPP_RPC = 'smartapp_rpc',\n  NOTIFICATION = 'notification',\n  OPEN_SMARTAPP_META = 'open_smart_app_meta',\n}\n\nexport enum BotFeatureMethod {\n  ECHO = 'echo',\n  UPDATE_APP_COUNTER = 'update_app_counter',\n  SEND_NOTIFICATION = 'send_notification',\n  ECHO_FILE = 'echo_file',\n  ECHO_FILES = 'echo_files',\n  SEARCH_USERS = 'search_users',\n}\n\nexport enum ExpressFeatureMethod {\n  ADD_CONTACT = 'add_contact',\n  CREATE_PERSONAL_CHAT = 'create_personal_chat',\n  SEND_MESSAGE = 'send_message',\n  GET_CONTACT = 'get_contact',\n  OPEN_SMARTAPP = 'open_smart_app',\n  OPEN_CLIENT_SETTINGS = 'open_client_settings',\n  GET_CHATS = 'get_chats',\n  SEARCH_CORPORATE_PHONEBOOK = 'search_corporate_phonebook',\n  OPEN_GROUP_CHAT = 'open_group_chat',\n  SEND_BOT_COMMAND = 'send_bot_command',\n}\n\nexport enum ExpressFeatureName {\n  ADD_CONTACT = 'Add Contact',\n  CREATE_PERSONAL_CHAT = 'Create Personal Chat',\n  SEND_MESSAGE = 'Send Message to Group Chat or User',\n  GET_CONTACT = 'Get Contact',\n  OPEN_SMARTAPP = 'Open SmartApp',\n  OPEN_CLIENT_SETTINGS = 'Open Client Settings',\n  GET_CHATS = 'Get Chats',\n  SEARCH_CORPORATE_PHONEBOOK = 'Search Corporate Phonebook',\n  OPEN_GROUP_CHAT = 'Open Group Chat',\n  SEND_BOT_COMMAND = 'Send Bot Command',\n}\n\nexport enum ClientEventMethod {\n  READY = 'ready',\n  UPLOAD_FILE = 'upload_file',\n  UPLOAD_FILES = 'upload_files',\n}\n\nexport interface BotEvent {\n  method: BotFeatureMethod | 'menu'\n  params: any\n  files?: File[]\n  timeout?: number\n}\n\nexport interface ExpressEvent {\n  method: ExpressFeatureMethod\n  params: any\n}\n\nexport interface SendMessageActionPayload {\n  userHuid: string | null,\n  groupChatId: string | null,\n  messageBody: string,\n  messageMeta?: {}\n}\n\nexport enum InputId {\n  TEXT = 'text',\n  COUNT = 'count',\n  DELAY = 'delay',\n  FILE = 'file',\n  FILES = 'files',\n  HUIDS = 'huids',\n  PHONE = 'phone',\n  NAME = 'name',\n  HUID = 'huid',\n  SMARTAPP_ID = 'appId',\n  MESSAGE = 'message',\n  GROUP_CHAT_ID = 'groupChatId',\n  USER_HUID = 'userHuid',\n  FILTER = 'filter',\n  BODY = 'body',\n  DATA = 'data',\n}\n\nexport enum InputLabel {\n  TEXT = 'Text',\n  COUNT = 'Count',\n  DELAY = 'Delay',\n  FILE = 'File',\n  FILES = 'Files',\n  HUIDS = 'Huids',\n  PHONE = 'Phone',\n  NAME = 'Name',\n  HUID = 'Huid',\n  SMARTAPP_ID = 'Smartapp ID',\n  MESSAGE = 'Message',\n  GROUP_CHAT_ID = 'Group chat id',\n  USER_HUID = 'User huid',\n  FILTER = 'Filter',\n  BODY = 'Body',\n  DATA = 'Data',\n}\n\nexport enum InputType {\n  INPUT_TEXT = 'INPUT_TEXT',\n  INPUT_NUMBER = 'INPUT_NUMBER',\n  FILE_PICKER = 'FILE_PICKER',\n  ARRAY_UUID = 'ARRAY_UUID',\n  UUID = 'UUID',\n}\n\nexport interface Input {\n  id: InputId | string\n  label: InputLabel\n  type: InputType\n}\n\nexport interface BotFeature {\n  method: BotFeatureMethod\n  name: string\n  uiElements: Input[]\n}\n\nexport type ExpressFeature = BotFeature | {\n  method: ExpressFeatureMethod\n  name: ExpressFeatureName\n  uiElements: Input[]\n}\n\nexport type BotFeatures = BotFeature[] | null\n\nexport interface BotMethodResponse {\n  type: EventType.SMARTAPP_RPC | string,\n  files: File[]\n  payload: {\n    result: string,\n    status: 'ok' | 'error'\n  }\n}\n\nexport type BotFeaturesResponse = BotMethodResponse & {\n  payload: {\n    result: BotFeature[]\n  }\n}\n\nexport interface ExpressMethodResponse {\n  ref?: string\n  payload: any\n}\n\nexport interface ExpressNotification {\n  ref: null\n  type: 'notification'\n  data: object\n}\n\nexport interface File {\n  type?: string\n  file?: string\n  fileMimeType?: string\n  fileName?: string\n  filePreview?: string\n  filePreviewHeight?: number\n  filePreviewWidth?: number\n  fileSize: number\n  fileHash?: string\n  fileEncryptionAlgo?: string\n  chunkSize?: number\n  fileId?: any\n  key?: object\n}\n\nexport interface UIState {\n  topLoader: boolean\n  mainLoader: boolean\n  redirectPath: string\n}\n\nexport interface BotState {\n  features: BotFeatures\n  response:  BotMethodResponse | null\n  notifications: BotMethodResponse[] | null\n}\n\nexport interface ClientState {\n  attachments: File[] | null\n  response: ExpressMethodResponse | null\n  meta: ExpressMethodResponse | null\n  notifications: ExpressNotification[] | null\n}\n\nexport interface AppState {\n  ui: UIState\n  bot: BotState\n  client: ClientState\n  router: RouterState\n}\n","import {\n  ExpressFeature,\n  ExpressFeatureMethod,\n  ExpressFeatureName,\n  InputId,\n  InputLabel,\n  InputType,\n} from './types'\n\nexport const EXPRESS_NOTIFICATION_FEATURE = {\n  method: 'notification',\n  name: 'Express Notification',\n}\n\nexport const OPEN_SMART_APP_META_FEATURE = {\n  name: 'Open Smart App Meta',\n  method: 'open_smart_app',\n  field: 'openSmartAppMeta',\n}\n\nexport const OPEN_FILE_FEATURE = {\n  name: 'Open File',\n  method: 'open_file',\n}\n\nexport const SCAN_QR_FEATURE = {\n  name: 'Scan QR',\n  method: 'scan_qr',\n}\n\nexport const OPEN_WEB_PAGE_FEATURE = {\n  name: 'Open Web Page',\n  method: 'open-web-page',\n}\n\nexport const MENU_EVENT: any = {\n  method: 'menu',\n  params: {\n    text: 'menu',\n  },\n}\n\nexport const INPUT_TYPE: Record<InputType, string> = {\n  INPUT_TEXT: 'text',\n  INPUT_NUMBER: 'number',\n  FILE_PICKER: 'file',\n  ARRAY_UUID: 'text',\n  UUID: 'text'\n}\n\nexport const EXPRESS_FEATURES: ExpressFeature[] = [\n  {\n    method: ExpressFeatureMethod.ADD_CONTACT,\n    name: ExpressFeatureName.ADD_CONTACT,\n    uiElements: [\n      {\n        id: InputId.PHONE,\n        label: InputLabel.PHONE,\n        type: InputType.INPUT_TEXT,\n      },\n      {\n        id: InputId.NAME,\n        label: InputLabel.NAME,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.CREATE_PERSONAL_CHAT,\n    name: ExpressFeatureName.CREATE_PERSONAL_CHAT,\n    uiElements: [{\n      id: InputId.HUID,\n      label: InputLabel.HUID,\n      type: InputType.UUID,\n    }],\n  },\n  {\n    method: ExpressFeatureMethod.GET_CONTACT,\n    name: ExpressFeatureName.GET_CONTACT,\n    uiElements: [{\n      id: InputId.PHONE,\n      label: InputLabel.PHONE,\n      type: InputType.INPUT_TEXT,\n    }],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_SMARTAPP,\n    name: ExpressFeatureName.OPEN_SMARTAPP,\n    uiElements: [{\n      id: InputId.SMARTAPP_ID,\n      label: InputLabel.SMARTAPP_ID,\n      type: InputType.INPUT_TEXT,\n    }],\n  },\n  {\n    method: ExpressFeatureMethod.SEND_MESSAGE,\n    name: ExpressFeatureName.SEND_MESSAGE,\n    uiElements: [{\n      id: InputId.MESSAGE,\n      label: InputLabel.MESSAGE,\n      type: InputType.INPUT_TEXT,\n    }, {\n      id: InputId.GROUP_CHAT_ID,\n      label: InputLabel.GROUP_CHAT_ID,\n      type: InputType.UUID,\n    }, {\n      id: InputId.USER_HUID,\n      label: InputLabel.USER_HUID,\n      type: InputType.UUID,\n    }],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_CLIENT_SETTINGS,\n    name: ExpressFeatureName.OPEN_CLIENT_SETTINGS,\n    uiElements: [],\n  },\n  {\n    method: ExpressFeatureMethod.GET_CHATS,\n    name: ExpressFeatureName.GET_CHATS,\n    uiElements: [{\n      id: InputId.FILTER,\n      label: InputLabel.FILTER,\n      type: InputType.INPUT_TEXT,\n    }],\n  },\n  {\n    method: ExpressFeatureMethod.SEARCH_CORPORATE_PHONEBOOK,\n    name: ExpressFeatureName.SEARCH_CORPORATE_PHONEBOOK,\n    uiElements: [{\n      id: InputId.FILTER,\n      label: InputLabel.FILTER,\n      type: InputType.INPUT_TEXT,\n    }],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_GROUP_CHAT,\n    name: ExpressFeatureName.OPEN_GROUP_CHAT,\n    uiElements: [{\n      id: InputId.GROUP_CHAT_ID,\n      label: InputLabel.GROUP_CHAT_ID,\n      type: InputType.UUID,\n    }],\n  },\n  {\n    method: ExpressFeatureMethod.SEND_BOT_COMMAND,\n    name: ExpressFeatureName.SEND_BOT_COMMAND,\n    uiElements: [{\n      id: InputId.USER_HUID,\n      label: InputLabel.USER_HUID,\n      type: InputType.UUID,\n    }, {\n      id: InputId.BODY,\n      label: InputLabel.BODY,\n      type: InputType.INPUT_TEXT,\n    }, {\n      id: InputId.DATA,\n      label: InputLabel.DATA,\n      type: InputType.INPUT_TEXT,\n    }],\n  },\n]\n","import { Input } from '../types'\n\nexport interface FormValues {\n  [key: string]: string | undefined\n}\n\nexport const getFormInitialValues: (uiElements: Input[]) => FormValues = uiElements => {\n  return uiElements?.reduce((acc: FormValues, item) => {\n    acc[item.id] = undefined\n    return acc\n  }, {})\n}\n","import { createAction } from 'redux-actions'\nimport { BotEvent, BotFeatures, BotMethodResponse, ExpressMethodResponse } from '../../types'\n\nexport const LOAD_FEATURES = 'LOAD_FEATURES'\nexport const LOAD_FEATURES_SUCCESS = 'LOAD_FEATURES_SUCCESS'\nexport const RESET_RESPONSE = 'RESET_RESPONSE'\nexport const SEND_FEATURE_BOT_EVENT = 'SEND_FEATURE_BOT_EVENT'\nexport const SEND_FEATURE_BOT_EVENT_SUCCESS = 'SEND_FEATURE_BOT_EVENT_SUCCESS'\n\nexport const loadFeatures = createAction(LOAD_FEATURES, () => {\n})\nexport const loadFeaturesSuccess = createAction(LOAD_FEATURES_SUCCESS, (features: BotFeatures) => features)\nexport const resetFeatures = createAction(RESET_RESPONSE, () => {\n})\nexport const sendFeatureBotEvent = createAction(SEND_FEATURE_BOT_EVENT, (botEvent: BotEvent) => botEvent)\nexport const sendFeatureBotEventSuccess = createAction(\n  SEND_FEATURE_BOT_EVENT_SUCCESS,\n  (response: BotMethodResponse | ExpressMethodResponse | null) => response,\n)\n\nexport type loadFeaturesSuccessActionType = ReturnType<typeof loadFeaturesSuccess>\nexport type sendFeatureBotEventSuccessActionType = ReturnType<typeof sendFeatureBotEventSuccess>\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgClearInput(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 11V3h-2v8H3v2h8v8h2v-8h8v-2h-8z\",\n    transform: \"rotate(45 12 12)\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClearInput);\nexport default __webpack_public_path__ + \"static/media/clear-input.6a69fb5e.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgFile(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 22 26\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    transform: \"translate(-1)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#595959\",\n    d: \"M5 0C3.73 0 2.44 1.225 2.5 2.407V22.63c-.06 1.784 1.23 3.007 2.5 2.89h15c1.71.117 3-1.106 3-2.89V6.26L16 0H5zm0 24.556c-.298-.117-1.298-.59-1.5-1.445V2.41C3.702 2.148 4.702 1.2 5 .963h10.5v3.852c.01 1.467.903 2.315 2 1.926H22v15.89c-.262.864-.76 1.81-2 1.928H5z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 18.5,\n    height: 9.148,\n    x: 1,\n    y: 12.519,\n    fill: \"#5C5C5C\",\n    rx: 2\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    fill: \"#FFF\",\n    fontSize: 5.5,\n    fontWeight: 600\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 4.302,\n    y: 19\n  }, \"\\n        FILE\\n      \")))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFile);\nexport default __webpack_public_path__ + \"static/media/file.1a445bcf.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgCopy(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M10.667.667h-8c-.734 0-1.334.6-1.334 1.333v9.333h1.334V2h8V.667zm2 2.666H5.333C4.6 3.333 4 3.933 4 4.667V14c0 .733.6 1.333 1.333 1.333h7.334c.733 0 1.333-.6 1.333-1.333V4.667c0-.734-.6-1.334-1.333-1.334zm0 10.667H5.333V4.667h7.334V14z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCopy);\nexport default __webpack_public_path__ + \"static/media/copy.55b37fcd.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useRef } from 'react'\nimport ReactDOMServer from 'react-dom/server'\nimport { ReactComponent as CopyIcon } from '../../assets/copy.svg'\nimport JSONEditor from 'jsoneditor'\nimport '../../../node_modules/jsoneditor/dist/jsoneditor.min.css'\nimport './JsonViewer.scss'\n\nexport default function JsonViewer(props) {\n  const container = useRef(null)\n\n  const copyToClipboardJson = obj => {\n    const container = document.createElement('textarea')\n\n    container.innerHTML = JSON.stringify(obj, null, '  ')\n    document.body.appendChild(container)\n\n    container.select()\n    document.execCommand('copy')\n    document.body.removeChild(container)\n  }\n\n  useEffect(() => {\n    const editor = new JSONEditor(container.current, { mode: 'view', enableTransform: true })\n\n    if (props.json) editor.set(props.json)\n\n    const button = document.createElement('button')\n    button.className = 'copy-to-clipboard'\n    button.innerHTML = ReactDOMServer.renderToStaticMarkup(<CopyIcon height='22' width='22' />)\n    button.addEventListener('click', () => copyToClipboardJson(props.json))\n    button.setAttribute('title', 'Copy To Clipboard')\n\n    const menu = document.querySelector('.jsoneditor-menu')\n    const search = document.querySelector('.jsoneditor-menu .jsoneditor-search')\n\n    menu.insertBefore(button, search)\n\n    return () => editor.destroy()\n  }, [props.json])\n\n  return <div className='json-viewer' ref={container} />\n}\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgArrowLeft(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.828 11l5.586-5.586L12 4l-8 8 8 8 1.414-1.414L7.828 13H20v-2z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeft);\nexport default __webpack_public_path__ + \"static/media/arrow-left.fa74ab51.svg\";\nexport { ForwardRef as ReactComponent };","import { createAction } from 'redux-actions'\nimport { ExpressEvent, ExpressMethodResponse, ExpressNotification, File, SendMessageActionPayload } from '../../types'\n\nexport const UPLOAD_FILE = 'UPLOAD_FILE'\nexport const UPLOAD_FILE_SUCCESS = 'UPLOAD_FILE_SUCCESS'\nexport const UPLOAD_FILES = 'UPLOAD_FILES'\nexport const UPLOAD_FILES_SUCCESS = 'UPLOAD_FILES_SUCCESS'\nexport const REMOVE_FILE = 'REMOVE_FILE'\nexport const REMOVE_FILE_SUCCESS = 'REMOVE_FILE_SUCCESS'\nexport const RESET_ATTACHMENTS = 'RESET_ATTACHMENTS'\nexport const SEND_EXPRESS_EVENT = 'SEND_EXPRESS_EVENT'\nexport const SEND_MESSAGE_EXPRESS_EVENT = 'SEND_MESSAGE_EXPRESS_EVENT'\nexport const SEND_EXPRESS_EVENT_SUCCESS = 'SEND_EXPRESS_EVENT_SUCCESS'\nexport const SET_EXPRESS_NOTIFICATION_SUCCESS = 'SET_NOTIFICATION_SUCCESS'\nexport const RESET_EXPRESS_NOTIFICATION_SUCCESS = 'RESET_EXPRESS_NOTIFICATION_SUCCESS'\nexport const RESET_EXPRESS_RESPONSE = 'RESET_EXPRESS_RESPONSE'\nexport const SEND_EXPRESS_READY_EVENT = 'SEND_EXPRESS_READY_EVENT'\nexport const SET_META = 'SET_META'\n\nexport const uploadFile = createAction(UPLOAD_FILE, (type: string = '') => ({ type }))\nexport const uploadFileSuccess = createAction(UPLOAD_FILE_SUCCESS, (file: File) => (file))\nexport const uploadFiles = createAction(UPLOAD_FILES, (type: string = '') => ({ type }))\nexport const uploadFilesSuccess = createAction(UPLOAD_FILES_SUCCESS, (files: File[]) => (files))\nexport const removeFile = createAction(REMOVE_FILE, (id: number) => id)\nexport const removeFileSuccess = createAction(REMOVE_FILE_SUCCESS, (id: number) => id)\nexport const resetAttachments = createAction(RESET_ATTACHMENTS, () => {})\nexport const sendExpressEvent = createAction(SEND_EXPRESS_EVENT, (expressEvent: ExpressEvent) => expressEvent)\nexport const sendMessageExpressEvent = createAction(\n  SEND_MESSAGE_EXPRESS_EVENT, (payload: SendMessageActionPayload) => payload\n)\nexport const sendExpressEventSuccess = createAction(\n  SEND_EXPRESS_EVENT_SUCCESS,\n  (response: ExpressMethodResponse | null) => response,\n)\nexport const setExpressNotificationSuccess = createAction(\n  SET_EXPRESS_NOTIFICATION_SUCCESS,\n  (notification: ExpressNotification | null) => notification,\n)\nexport const resetExpressNotificationSuccess = createAction(\n  RESET_EXPRESS_NOTIFICATION_SUCCESS,\n  () => {\n  },\n)\nexport const setMeta = createAction(\n  SET_META,\n  (meta: ExpressMethodResponse | null) => meta,\n)\nexport const resetExpressResponse = createAction(RESET_EXPRESS_RESPONSE, () => {})\nexport const sendReadyEvent = createAction(SEND_EXPRESS_READY_EVENT, () => {})\n\nexport type uploadFileActionType = ReturnType<typeof uploadFile>\nexport type uploadFileSuccessActionType = ReturnType<typeof uploadFileSuccess>\nexport type uploadFilesActionType = ReturnType<typeof uploadFiles>\nexport type uploadFilesSuccessActionType = ReturnType<typeof uploadFilesSuccess>\nexport type removeFileActionType = ReturnType<typeof removeFile>\nexport type removeFileSuccessActionType = ReturnType<typeof removeFileSuccess>\nexport type sendExpressEventActionType = ReturnType<typeof sendExpressEvent>\nexport type sendMessageExpressEventActionType = ReturnType<typeof sendMessageExpressEvent>\nexport type sendExpressEventSuccessActionType = ReturnType<typeof sendExpressEventSuccess>\nexport type setExpressNotificationSuccessActionType = ReturnType<typeof setExpressNotificationSuccess>\nexport type setMetaActionType = ReturnType<typeof setMeta>\n","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getAttachments = createSelector(\n  [(state: AppState) => state.client.attachments],\n  features => features,\n)\n\nexport const getExpressResponse = createSelector(\n  [(state: AppState) => state.client.response],\n  response => response,\n)\n\nexport const getMeta = createSelector(\n  [(state: AppState) => state.client.meta],\n  meta => meta,\n)\n\nexport const getExpressNotifications = createSelector(\n  [(state: AppState) => state.client.notifications],\n  notificaions => notificaions,\n)\n","import { Link } from 'react-router-dom'\nimport { ReactComponent as ArrowLeft } from '../../../src/assets/arrow-left.svg'\nimport './FeaturePageHeader.scss'\n\nexport default function FeaturePageHeader({ name }) {\n  return (\n    <div className='feature-page__header'>\n      <Link className='btn--arrow-left' to='/'>\n        <ArrowLeft className='icon--arrow-left' height={24} width={24} />\n      </Link>\n      <div className='feature-page__info'>\n        <span className='feature-page__title'>{name} method</span>\n      </div>\n    </div>\n  )\n}\n","import {\n  BotFeature,\n  BotFeatureMethod,\n  ExpressFeature,\n  ExpressFeatureMethod,\n  Input,\n  InputId,\n  InputLabel,\n  InputType,\n} from '../../types'\nimport './FeaturePage.scss'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { INPUT_TYPE } from '../../constants'\nimport { useFormik } from 'formik'\nimport { FormValues, getFormInitialValues } from '../../helpers'\nimport { getFeatureBotResponse } from '../../redux/selectors/bot'\nimport { resetFeatures, sendFeatureBotEvent, sendFeatureBotEventSuccess } from '../../redux/actions/bot'\nimport { useEffect, useMemo, useState } from 'react'\nimport { ReactComponent as PlusIcon } from '../../assets/plus.svg'\nimport { ReactComponent as RemoveIcon } from '../../assets/clear-input.svg'\nimport { ReactComponent as FileIcon } from '../../assets/file.svg'\nimport JsonViewer from '../json-editor/JsonViewer'\nimport classnames from 'classnames'\nimport {\n  removeFileSuccess,\n  resetAttachments,\n  resetExpressResponse,\n  sendExpressEvent,\n  sendExpressEventSuccess,\n  sendMessageExpressEvent,\n  uploadFile,\n  uploadFiles,\n} from '../../redux/actions/client'\nimport { getAttachments, getExpressResponse } from '../../redux/selectors/client'\nimport { ReactMarkdown } from 'react-markdown/lib/react-markdown'\nimport FeaturePageHeader from '../feature-page-header/FeaturePageHeader'\nimport {\n  Bridge as bridge,\n  getChats,\n  openGroupChat,\n  openClientSettings,\n  searchCorporatePhonebook, sendBotCommand,\n} from '@unlimited/smartapp-sdk'\n\nexport default function FeaturePage({ name, method, uiElements = [] }: BotFeature | ExpressFeature) {\n  const dispatch = useDispatch()\n  const botResponse = useSelector(getFeatureBotResponse)\n  const expressResponse = useSelector(getExpressResponse)\n  const attachments = useSelector(getAttachments)\n\n  const [inputs, setInputs] = useState<Input[]>([])\n  const [inputError, setInputError] = useState('')\n  const [isJSONViewer, setIsJSONViewer] = useState(false)\n\n  const isAllowNewInputs = method === BotFeatureMethod.SEARCH_USERS\n  const isFilesMethod = [BotFeatureMethod.ECHO_FILE, BotFeatureMethod.ECHO_FILES].includes(method as BotFeatureMethod)\n  const isUsersMethod = BotFeatureMethod.SEARCH_USERS === method\n  const isExpressMethod = Object.values(ExpressFeatureMethod).includes(method as ExpressFeatureMethod)\n  const isMobile = /iPhone|iPad|iPod|Android/i.test(window.navigator.userAgent)\n\n  const handleClickPlus = () => {\n    const last = inputs[inputs.length - 1]\n    const { id } = last\n    const next: Input = {\n      ...last,\n      id: id.includes(InputId.HUIDS) ? `${id}${inputs.length}` : id,\n    }\n\n    setInputs(inputs => [...inputs, next])\n  }\n\n  const handleFilesSubmit = () => {\n    if (attachments) {\n      const botFeatureMethod = method as BotFeatureMethod\n\n      dispatch(\n        sendFeatureBotEvent({\n          method: botFeatureMethod,\n          params: {},\n          files: attachments,\n        })\n      )\n    }\n  }\n\n  const handleFormSubmitForExpressMethod = async (formValues: FormValues) => {\n    switch (method) {\n      case ExpressFeatureMethod.SEND_MESSAGE:\n        if (!filterFormValues(formValues).length) return\n\n        const { userHuid, groupChatId, message } = formValues\n        const action = () =>\n          dispatch(\n            sendMessageExpressEvent({\n              userHuid,\n              groupChatId,\n              messageBody: message,\n              messageMeta: {},\n            })\n          )\n\n        if (!isMobile) {\n          bridge?.disableRenameParams()\n          action()\n          bridge?.enableRenameParams()\n        } else {\n          action()\n        }\n        break\n      case ExpressFeatureMethod.OPEN_CLIENT_SETTINGS:\n        openClientSettings()\n        break\n      case ExpressFeatureMethod.GET_CHATS:\n        const chats = await getChats({ filter: formValues?.filter || null })\n        dispatch(sendExpressEventSuccess(chats))\n        break\n      case ExpressFeatureMethod.OPEN_GROUP_CHAT: {\n        if (!filterFormValues(formValues).length) return\n\n        const action = () =>\n          openGroupChat({ groupChatId: formValues?.groupChatId })\n\n        if (!isMobile) {\n          bridge?.disableRenameParams()\n          action()\n          bridge?.enableRenameParams()\n        } else {\n          action()\n        }\n        break\n      }\n      case ExpressFeatureMethod.SEARCH_CORPORATE_PHONEBOOK: {\n        const phonebook = await searchCorporatePhonebook({ filter: formValues?.filter || null })\n        dispatch(sendExpressEventSuccess(phonebook))\n        break\n      }\n      case ExpressFeatureMethod.SEND_BOT_COMMAND: {\n        const action = async () => sendBotCommand(\n          {\n            userHuid: formValues?.userHuid,\n            data: formValues?.data ? {\n              command: formValues?.data\n            } : null,\n            body: formValues?.body\n          }\n        )\n        let result\n\n        if (!isMobile) {\n          bridge?.disableRenameParams()\n          result = await action()\n          bridge?.enableRenameParams()\n        } else {\n          result = await action()\n        }\n        dispatch(sendExpressEventSuccess(result))\n        break\n      }\n\n      default:\n        if (!filterFormValues(formValues).length) return\n\n        const event = {\n          method: method as ExpressFeatureMethod,\n          params: formValues,\n        }\n        const sendExpressEventAction = () => dispatch(sendExpressEvent(event))\n        if (!isMobile) {\n          bridge?.disableRenameParams()\n          sendExpressEventAction()\n          bridge?.enableRenameParams()\n        } else {\n          sendExpressEventAction()\n        }\n    }\n  }\n\n  const filterFormValues = useMemo(\n    () => (formValues: FormValues) => Object.values(formValues).filter(value => value),\n    []\n  )\n\n  const handleFormSubmitForBotMethod = (formValues: FormValues) => {\n    const values = filterFormValues(formValues)\n    if (!values.length) return\n\n    const event = {\n      method: method as BotFeatureMethod,\n      params: isUsersMethod ? { huids: values } : formValues,\n    }\n\n    dispatch(sendFeatureBotEvent(event))\n  }\n\n  const handleFormSubmit = (formValues: FormValues) => {\n    if (isExpressMethod) {\n      handleFormSubmitForExpressMethod(formValues)\n    } else {\n      handleFormSubmitForBotMethod(formValues)\n    }\n  }\n\n  const handleUploadFilesClick = () => {\n    if (method === BotFeatureMethod.ECHO_FILE) {\n      dispatch(uploadFile())\n    } else if (method === BotFeatureMethod.ECHO_FILES) {\n      dispatch(uploadFiles())\n    }\n  }\n\n  const handleRemoveFile = (fileId: number) => {\n    dispatch(removeFileSuccess(fileId))\n    if (attachments?.length === 1) dispatch(sendFeatureBotEventSuccess(null))\n  }\n\n  const toggleIsJSONViewer = () => setIsJSONViewer(!isJSONViewer)\n\n  const formik = useFormik({\n    initialValues: getFormInitialValues(inputs),\n    onSubmit: handleFormSubmit,\n  })\n\n  const getIsSubmitButtonDisabled = () => {\n    if (method === ExpressFeatureMethod.GET_CHATS) return false\n    return isFilesMethod ? !attachments?.length : !Object.values(formik.values).filter(value => value).length\n  }\n  useEffect(() => {\n    const inputs: Input[] = uiElements.map((input, index) => ({\n      ...input,\n      id: input.id.includes(InputId.HUIDS) ? `${input.id}${index}` : input.id,\n    }))\n    setInputs(inputs)\n    return () => {\n      dispatch(resetFeatures())\n      dispatch(resetAttachments())\n      dispatch(resetExpressResponse())\n    }\n  }, [uiElements, dispatch])\n\n  return (\n    <>\n      <div className=\"feature-page\">\n        <FeaturePageHeader name={name} />\n        {isFilesMethod ? (\n          <div className=\"feature-page__form\">\n            <span className=\"feature-page__title\">\n              {method === BotFeatureMethod.ECHO_FILE ? InputLabel.FILE : InputLabel.FILES}\n            </span>\n            <button className=\"btn--attach\" onClick={handleUploadFilesClick}>\n              {method === BotFeatureMethod.ECHO_FILE ? 'Attach file' : 'Attach files'}\n            </button>\n            {!!attachments?.length && (\n              <div className=\"attachments\">\n                {attachments.map(attachment => (\n                  <span className=\"attachments__item\" key={attachment.fileId}>\n                    <span>{attachment.fileName}</span>\n                    <RemoveIcon\n                      width={20}\n                      height={20}\n                      className=\"btn--remove-attachment\"\n                      onClick={() => handleRemoveFile(attachment.fileId)}\n                    />\n                  </span>\n                ))}\n              </div>\n            )}\n            <div className=\"form-buttons\">\n              <button\n                className={classnames({\n                  'btn--submit': true,\n                  'btn--submit-disabled': getIsSubmitButtonDisabled(),\n                })}\n                onClick={handleFilesSubmit}\n                disabled={getIsSubmitButtonDisabled()}\n                type=\"button\"\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        ) : (\n          !!inputs?.length && (\n            <form className=\"feature-page__form\" onSubmit={formik.handleSubmit}>\n              {inputs.map(({ id, type, label }, index) => {\n                const inputType = INPUT_TYPE[type]\n\n                const getIsInputError = () => {\n                  const isUuid = (uuid: string) => /[0-9a-fA-F-]{36}/.test(uuid)\n                  const isPhone = (phone: string) =>\n                    /(^8|7|\\+7)((\\d{10})|(\\s\\(\\d{3}\\)\\s\\d{3}\\s\\d{2}\\s\\d{2}))/.test(phone)\n                  const isNotEmpty = formik.values[id]\n\n                  if (isUsersMethod || type === InputType.UUID) {\n                    return isNotEmpty && !isUuid(formik.values[id])\n                  } else if (id === InputId.PHONE) {\n                    return isNotEmpty && !isPhone(formik.values[id])\n                  }\n                }\n                const isShowLabel = isUsersMethod ? index === 0 : true\n\n                return (\n                  <div key={id}>\n                    {isShowLabel && <span className=\"feature-page__title\">{label}</span>}\n                    <input\n                      className={classnames({\n                        input: true,\n                        'input--error': getIsInputError(),\n                      })}\n                      onChange={formik.handleChange}\n                      value={formik.values[id] || ''}\n                      type={inputType}\n                      multiple={id === InputId.FILES}\n                      id={id}\n                      min={0}\n                    />\n                    {inputType === INPUT_TYPE.INPUT_TEXT && formik.values[id] && (\n                      <RemoveIcon\n                        className=\"btn--clear-input\"\n                        onClick={() => {\n                          formik.setFieldValue(id, '')\n                          inputError && setInputError('')\n                        }}\n                        height={20}\n                        width={20}\n                      />\n                    )}\n                  </div>\n                )\n              })}\n              <div className=\"form-buttons\">\n                <button\n                  className={classnames({\n                    'btn--submit': true,\n                    'btn--submit-disabled': getIsSubmitButtonDisabled(),\n                  })}\n                  disabled={getIsSubmitButtonDisabled()}\n                  type=\"submit\"\n                >\n                  Submit\n                </button>\n                {isAllowNewInputs && (\n                  <PlusIcon\n                    title=\"Add new input\"\n                    className=\"btn--plus\"\n                    onClick={handleClickPlus}\n                    height={24}\n                    width={24}\n                  />\n                )}\n              </div>\n            </form>\n          )\n        )}\n      </div>\n      {botResponse && (\n        <>\n          <div className=\"response-markdown\">\n            <ReactMarkdown>\n              {method === BotFeatureMethod.ECHO ?\n                ('text: ' + ((botResponse?.payload?.result) as any).text?.replaceAll?.('\\n', '\\n\\r')) ||\n                (botResponse?.payload?.result?.replaceAll?.('\\n', '\\n\\r')) + '\\n\\r' +\n                (((botResponse?.payload?.result) as any).textLength &&\n                'textLength: ' + ((botResponse?.payload?.result) as any).textLength) :\n                (botResponse?.payload?.result?.replaceAll?.('\\n', '\\n\\r'))\n              }\n            </ReactMarkdown>\n          </div>\n          {method === BotFeatureMethod.ECHO_FILES && (\n            <div className=\"response-files\">\n              Files:\n              {botResponse?.files?.map(() => (\n                <FileIcon className=\"response-files__file\" height={20} width={20} />\n              ))}\n            </div>\n          )}\n          {botResponse && (\n            <div>\n              <div className=\"response-markdown-form\">\n                <input\n                  checked={isJSONViewer}\n                  className=\"form-toggler__input\"\n                  id=\"form-toggler\"\n                  type=\"checkbox\"\n                  onChange={toggleIsJSONViewer}\n                />\n                <span className=\"form-toggler\" onClick={toggleIsJSONViewer}>\n                  Show JSON Viewer\n                </span>\n              </div>\n              {isJSONViewer && (\n                <div className=\"response-json\">\n                  <JsonViewer height={24} json={botResponse} />\n                </div>\n              )}\n            </div>\n          )}\n        </>\n      )}\n      {expressResponse && <div className=\"response-express\">{JSON.stringify(expressResponse?.payload, null, 2)}</div>}\n    </>\n  )\n}\n","var _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgBotxIcon(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 12 12\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.379 7.017v2.775h-.55A.816.816 0 0 1 0 8.989V7.427c0-.443.371-.803.829-.803h.566c-.01.13-.016.261-.016.393zm9.792-.393c.458 0 .829.36.829.803V8.99a.816.816 0 0 1-.829.803h-.55V7.017c0-.132-.006-.263-.016-.393h.566zM10.047 9.873v-2.82c0-.132-.006-.263-.018-.393C9.857 4.651 8.377 3.043 6.5 2.8h-.997c-1.88.244-3.36 1.853-3.532 3.863-.01.129-.017.26-.017.392v4.754h8.094V9.873zm-5.998-.66c-.608 0-1.101-.522-1.101-1.167 0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167zm2.96-1.167c0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167s-1.101-.522-1.101-1.167z\"\n  }))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBotxIcon);\nexport default __webpack_public_path__ + \"static/media/botx-icon.cf9274ad.svg\";\nexport { ForwardRef as ReactComponent };","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getTopLoader = createSelector(\n  [(state: AppState) => state.ui.topLoader],\n  topLoader => topLoader\n)\n\nexport const getMainLoader = createSelector(\n  [(state: AppState) => state.ui.mainLoader],\n  mainLoader => mainLoader\n)\n\nexport const getRedirectPath = createSelector(\n  [(state: AppState) => state.ui.redirectPath],\n  redirectPath => redirectPath\n)\n","import React, { useEffect, useState, useRef } from 'react'\nimport classnames from 'classnames'\nimport { useSelector } from 'react-redux'\nimport './TopLoader.scss'\nimport { getTopLoader } from '../../redux/selectors/ui'\n\nexport default function TopLoader() {\n  const topLoader = useSelector(getTopLoader)\n\n  const [start, setStart] = useState(false)\n  const [stop, setStop] = useState(false)\n  const [finish, setFinish] = useState(false)\n\n  const stopTimeout = useRef<NodeJS.Timeout | null>(null)\n  const finishTimeout = useRef<NodeJS.Timeout | null>(null)\n\n  useEffect(() => {\n    if (topLoader && !start) {\n      setStart(true)\n    }\n\n    if (!topLoader && start) {\n      setStart(false)\n      setStop(true)\n\n      stopTimeout.current = setTimeout(() => {\n        setFinish(true)\n\n        finishTimeout.current = setTimeout(() => {\n          setStop(false)\n          setFinish(false)\n        }, 100)\n      }, 200)\n    }\n  }, [topLoader, start])\n\n  useEffect(() => {\n    return () => {\n      if (stopTimeout.current) clearTimeout(stopTimeout.current)\n      if (finishTimeout.current) clearTimeout(finishTimeout.current)\n    }\n  }, [])\n\n  return (\n    <div className={classnames({ 'top-loader': true, 'top-loader--enabled': start && !finish })}>\n      <div\n        className={classnames({\n          'top-loader__bar': true,\n          'top-loader__bar--start': start,\n          'top-loader__bar--stop': stop,\n          'top-loader__bar--finish': finish,\n        })}\n      />\n    </div>\n  )\n}\n","import FeaturePageHeader from '../feature-page-header/FeaturePageHeader'\nimport { EXPRESS_NOTIFICATION_FEATURE } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getExpressNotifications } from '../../redux/selectors/client'\nimport './ExpressNotifications.scss'\nimport { resetExpressNotificationSuccess } from '../../redux/actions/client'\n\nexport default function ExpressNotifications() {\n  const dispatch = useDispatch()\n  const expressNotifications = useSelector(getExpressNotifications)\n  const handleClear = () => {\n    dispatch(resetExpressNotificationSuccess())\n  }\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={EXPRESS_NOTIFICATION_FEATURE.name} />\n        <div className='feature-page__notifications'>\n          {!!expressNotifications.length ? (\n            <>\n              <div\n                className='notifications__clear-button'\n                onClick={handleClear}\n                title='Clear notifications'\n              >\n                Clear\n              </div>\n              {expressNotifications.map((item, i) => (\n                <div className='notifications__item' key={i}>\n                  {JSON.stringify(item?.data, null, 2)}\n                </div>\n              ))}\n            </>\n          ) : (\n            <div className='feature-page__notifications-placeholder'>\n              New notifications will appear here...\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n","import { createAction } from 'redux-actions'\n\nexport const SET_TOP_LOADER = 'SET_TOP_LOADER'\nexport const SET_MAIN_LOADER = 'SET_MAIN_LOADER'\nexport const SET_REDIRECT_PATH = 'SET_REDIRECT_PATH'\n\nexport const setTopLoader = createAction(SET_TOP_LOADER, (topLoader: boolean) => topLoader)\nexport const setMainLoader = createAction(SET_MAIN_LOADER, (mainLoader: boolean) => mainLoader)\nexport const setRedirectPath = createAction(SET_REDIRECT_PATH, (redirectPath: string) => redirectPath)\n\nexport type setTopLoaderActionType = ReturnType<typeof setTopLoader>\nexport type setMainLoaderActionType = ReturnType<typeof setMainLoader>\nexport type setRedirectPathActionType = ReturnType<typeof setRedirectPath>\n","import FeaturePageHeader from '../feature-page-header/FeaturePageHeader'\nimport { OPEN_SMART_APP_META_FEATURE } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nimport { setRedirectPath } from '../../redux/actions/ui'\nimport { getMeta } from '../../redux/selectors/client'\nimport { setMeta } from '../../redux/actions/client'\n\nexport default function MetaPage() {\n  const dispatch = useDispatch()\n  const meta = useSelector(getMeta)\n\n  useEffect(() => {\n    return () => {\n      dispatch(setRedirectPath(''))\n      dispatch(setMeta(null))\n    }\n  }, [dispatch])\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={OPEN_SMART_APP_META_FEATURE.name} />\n        {meta && (\n          <div className='response-express'>\n            {JSON.stringify(meta.payload, null, 2)}\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n","import { createBrowserHistory } from 'history'\n\n// Create history singleton\nexport const history = createBrowserHistory()\n","import { useEffect, useRef } from 'react'\nimport { Html5QrcodeScanner } from 'html5-qrcode'\nimport './ScanQR.scss'\n\nexport default function ScanQR({\n  onScanSuccess,\n  onScanFailure,\n}: {\n  onScanSuccess: (text: string, result: any) => void\n  onScanFailure: (error: string) => void\n}) {\n  const config = useRef<any>({\n    fps: 10,\n    qrbox: 250,\n    disableFlip: true,\n  })\n\n  useEffect(() => {\n    const html5QrcodeScanner = new Html5QrcodeScanner('reader', config.current, false)\n    html5QrcodeScanner.render(onScanSuccess, onScanFailure)\n\n    return () => {}\n    // eslint-disable-next-line\n  }, [])\n\n  return <div id=\"reader\" />\n}\n","import FeaturePageHeader from '../feature-page-header/FeaturePageHeader'\nimport { SCAN_QR_FEATURE } from '../../constants'\nimport ScanQR from '../scan-qr/ScanQR'\nimport { useState } from 'react'\n\nexport function ScanQRPage() {\n  const [decodedText, setDecodedText] = useState(null)\n  const [decodedResult, setDecodedResult] = useState(null)\n  const [error, setError] = useState(null)\n\n  const handleOnScanSuccess = (text: string, result: any) => {\n    setDecodedText(text)\n    setDecodedResult(result)\n    setError(null)\n    console.log(`Code matched: ${text}`, result)\n  }\n\n  const handleOnScanFailure = err => {\n    setError(err)\n    console.warn(`Code scan error: ${err}`)\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={SCAN_QR_FEATURE.name} />\n      <ScanQR onScanSuccess={handleOnScanSuccess} onScanFailure={handleOnScanFailure} />\n      {decodedText && (\n        <>\n          <p>Decoded text:</p>\n          <div>{decodedText}</div>\n        </>\n      )}\n      {decodedResult && (\n        <>\n          <p>Decoded result:</p>\n          <div>{JSON.stringify(decodedResult)}</div>\n        </>\n      )}\n      {error && (\n        <>\n          <p>Error:</p>\n          <div>{error}</div>\n        </>\n      )}\n    </div>\n  )\n}\n","import FeaturePageHeader from '../feature-page-header/FeaturePageHeader'\nimport { OPEN_FILE_FEATURE } from '../../constants'\nimport classnames from \"classnames\"\nimport { useState } from \"react\"\nimport { Bridge as bridge } from \"@unlimited/smartapp-sdk\"\n\nexport default function OpenFile() {\n  const [inputValue, setInputValue] = useState('')\n  const handleClick = () => {\n    if (!inputValue) return\n    console.error({inputValue: JSON.parse(inputValue)})\n\n    bridge?.sendClientEvent({\n      method: OPEN_FILE_FEATURE.method,\n      params: JSON.parse(inputValue),\n    })\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={OPEN_FILE_FEATURE.name} />\n      <input\n        className={classnames({\n          input: true,\n        })}\n        onChange={e => setInputValue(e.target.value)}\n        value={inputValue}\n        type={'text'}\n      />\n      <div className='form-buttons'>\n        <button\n          className={classnames({\n            'btn--submit': true,\n            'btn--submit-disabled': !inputValue,\n          })}\n          disabled={!inputValue}\n          type=\"submit\"\n          onClick={handleClick}\n        >\n          Submit\n        </button>\n      </div>\n    </div>\n  )\n}\n","import FeaturePageHeader from '../feature-page-header/FeaturePageHeader'\nimport { OPEN_WEB_PAGE_FEATURE } from '../../constants'\nimport { useState } from 'react'\nimport './OpenWebPage.scss'\n\nexport default function OpenWebPage() {\n  const [link, setLink] = useState('https://www.tutorialrepublic.com/')\n\n\n  const handleChange = (event: any) => {\n    const { value } = event.target\n    if (value) setLink(value)\n  }\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={OPEN_WEB_PAGE_FEATURE.name} />\n        <div className='open-web-page'>\n          <input\n            className='open-web-page__input'\n            type='url'\n            defaultValue={link}\n            onChange={handleChange}\n          />\n          <a className='open-web-page__link' href={link}>\n            {link}\n          </a>\n        </div>\n      </div>\n    </>\n  )\n}\n","import './FeatureSmartapp.scss'\nimport React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getFeaturesMenu } from '../../redux/selectors/bot'\nimport { Link, Route, Switch } from 'react-router-dom'\nimport FeaturePage from '../feature-page/FeaturePage'\nimport { loadFeatures } from '../../redux/actions/bot'\nimport TopLoader from '../top-loader/TopLoader'\nimport { ReactComponent as BotxIcon } from '../../assets/botx-icon.svg'\nimport {\n  EXPRESS_FEATURES,\n  EXPRESS_NOTIFICATION_FEATURE,\n  OPEN_FILE_FEATURE,\n  OPEN_SMART_APP_META_FEATURE, OPEN_WEB_PAGE_FEATURE,\n  SCAN_QR_FEATURE,\n} from '../../constants'\nimport ExpressNotifications from '../express-notifications/ExpressNotifications'\nimport MetaPage from '../meta-page/MetaPage'\nimport { getRedirectPath } from '../../redux/selectors/ui'\nimport { history } from '../../redux/router'\nimport { ScanQRPage } from '../scan-qr-page/ScanQRPage'\nimport OpenFile from '../open-file/OpenFile'\nimport { ExpressFeatureMethod } from '../../types'\nimport { openClientSettings, useQuery } from '@unlimited/smartapp-sdk'\nimport OpenWebPage from '../open-web-page/OpenWebPage'\n\nexport default function FeatureSmartapp() {\n  const dispatch = useDispatch()\n  const features = useSelector(getFeaturesMenu)\n  const redirectPath = useSelector(getRedirectPath)\n  const { platform } = useQuery()\n\n  useEffect(() => {\n    if (!features) dispatch(loadFeatures())\n  }, [dispatch, features])\n\n  useEffect(() => {\n    if (redirectPath) history.push(redirectPath)\n  }, [dispatch, redirectPath])\n\n  return (\n    <div className=\"feature-smartapp\">\n      <div className=\"header\">\n        <span className=\"header__content\">\n          <BotxIcon className=\"header__icon\" height={20} width={20} />\n          <span className=\"header__text\">Feature Smartapp</span>\n        </span>\n      </div>\n      <TopLoader />\n      <section className=\"feature-smartapp__menu\">\n        <Switch>\n          {features?.map(item => (\n            <Route key={`${item.method}-route`} path={`/${item.method}`}>\n              <FeaturePage {...item} />\n            </Route>\n          ))}\n          {EXPRESS_FEATURES.map(item => (\n            <Route key={`${item.method}-route`} path={`/${item.method}`}>\n              <FeaturePage {...item} />\n            </Route>\n          ))}\n          <Route key={`${OPEN_SMART_APP_META_FEATURE.method}-route`} path={`/${OPEN_SMART_APP_META_FEATURE.method}`}>\n            <MetaPage />\n          </Route>\n          <Route key={`${EXPRESS_NOTIFICATION_FEATURE.method}-route`} path={`/${EXPRESS_NOTIFICATION_FEATURE.method}`}>\n            <ExpressNotifications />\n          </Route>\n          <Route key={`${SCAN_QR_FEATURE.method}-route`} path={`/${SCAN_QR_FEATURE.method}`}>\n            <ScanQRPage />\n          </Route>\n          <Route key={`${OPEN_FILE_FEATURE.method}-route`} path={`/${OPEN_FILE_FEATURE.method}`}>\n            <OpenFile />\n          </Route>\n          <Route key={`${OPEN_WEB_PAGE_FEATURE.method}-route`} path={`/${OPEN_WEB_PAGE_FEATURE.method}`}>\n            <OpenWebPage />\n          </Route>\n          <Route path={'/'}>\n            {features?.map(item => (\n              <Link className=\"menu-item\" key={`${item.method}-link`} to={`/${item.method}`}>\n                {item.name}\n              </Link>\n            ))}\n            {EXPRESS_FEATURES.map(item => {\n              if (item.method === ExpressFeatureMethod.OPEN_CLIENT_SETTINGS) {\n                return (\n                  <div className=\"menu-item\" onClick={() => {\n                    if (platform !== 'web') {\n                      openClientSettings()\n                    } else {\n                      alert('Feature is unavailable on web client')\n                    }\n                  }}>\n                    {item.name}\n                  </div>\n                )\n              } else {\n                return (\n                  <Link className=\"menu-item\" key={`${item.method}-link`} to={`/${item.method}`}>\n                    {item.name}\n                  </Link>)}\n              }\n            )}\n            <Link\n                className=\"menu-item\"\n                key={`${EXPRESS_NOTIFICATION_FEATURE.method}-link`}\n                to={`/${EXPRESS_NOTIFICATION_FEATURE.method}`}\n              >\n                {EXPRESS_NOTIFICATION_FEATURE.name}\n            </Link>\n            <Link\n              className=\"menu-item\"\n              key={`${SCAN_QR_FEATURE.method}-link`}\n              to={`/${SCAN_QR_FEATURE.method}`}\n            >\n                {SCAN_QR_FEATURE.name}\n            </Link>\n            <Link\n              className=\"menu-item\"\n              key={`${OPEN_WEB_PAGE_FEATURE.method}-link`}\n              to={`/${OPEN_WEB_PAGE_FEATURE.method}`}\n            >\n              {OPEN_WEB_PAGE_FEATURE.name}\n            </Link>\n          </Route>\n        </Switch>\n      </section>\n    </div>\n  )\n}\n","import { BotMethodResponse } from '../../types'\nimport './Notifier.scss'\n\nexport default function Notifier({ result, status }: BotMethodResponse['payload']) {\n  return (\n    <div className={'notifier'}>\n      <span className={'notifier__text'}>{result}</span>\n      <span className={'notifier__text'}>Status: {status}</span>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Bridge as bridge } from '@unlimited/smartapp-sdk'\nimport MainLoader from './main-loader/MainLoader'\nimport FeatureSmartapp from './feature-smartapp/FeatureSmartapp'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { BotMethodResponse, EventType, ExpressNotification } from '../types'\nimport { sendReadyEvent, setExpressNotificationSuccess } from '../redux/actions/client'\nimport Notifier from './notifier/Notifier'\nimport { getMainLoader } from '../redux/selectors/ui'\n\nexport default function Main() {\n  const dispatch = useDispatch()\n  const [load, setLoad] = useState(true)\n  const isMainLoader = useSelector(getMainLoader)\n  const [notifier, setNotifier] = useState<BotMethodResponse['payload'] | null>(null)\n\n  useEffect(() => {\n    if (load) {\n      setLoad(false)\n      dispatch(sendReadyEvent())\n    }\n\n    bridge?.onReceive(({ type, payload }) => {\n      if (typeof payload !== 'object') return\n\n      switch (type) {\n        case EventType.SMARTAPP_RPC: {\n          setNotifier(payload as BotMethodResponse['payload'])\n          setTimeout(() => setNotifier(null), 3000)\n          break\n        }\n        case EventType.NOTIFICATION: {\n          dispatch(setExpressNotificationSuccess(payload as ExpressNotification))\n          break\n        }\n        default: {\n          console.error({type, payload})\n        }\n      }\n    })\n  }, [dispatch, load])\n\n  return (\n    <>\n      {isMainLoader && <MainLoader />}\n      <FeatureSmartapp />\n      {notifier && <Notifier {...notifier} />}\n    </>\n  )\n}\n","import { handleActions } from 'redux-actions'\nimport { UIState } from '../../types'\nimport {\n  SET_MAIN_LOADER,\n  SET_REDIRECT_PATH,\n  SET_TOP_LOADER,\n  setMainLoaderActionType, setRedirectPathActionType,\n  setTopLoaderActionType,\n} from '../actions/ui'\n\nconst initialState: UIState = {\n  topLoader: false,\n  mainLoader: false,\n  redirectPath: '',\n}\n\nconst reducers = {\n  [SET_TOP_LOADER]: (\n    state: UIState, { payload: topLoader }: setTopLoaderActionType\n  ): UIState => ({\n    ...state, topLoader\n  }),\n  [SET_MAIN_LOADER]: (\n    state: UIState, { payload: mainLoader }: setMainLoaderActionType\n  ): UIState => ({\n    ...state, mainLoader\n  }),\n  [SET_REDIRECT_PATH]: (\n    state: UIState, { payload: redirectPath }: setRedirectPathActionType\n  ): UIState => ({\n    ...state, redirectPath\n  }),\n}\n\nexport const ui = handleActions<UIState, any>(reducers, initialState)\n","import { handleActions } from 'redux-actions'\nimport { BotState } from '../../types'\nimport {\n  LOAD_FEATURES_SUCCESS,\n  loadFeaturesSuccessActionType,\n  RESET_RESPONSE,\n  SEND_FEATURE_BOT_EVENT_SUCCESS,\n} from '../actions/bot'\n\nconst initialState: BotState = {\n  features: null,\n  response: null,\n  notifications: null,\n}\n\nconst reducers = {\n  [LOAD_FEATURES_SUCCESS]: (\n    state: BotState, { payload: features }: loadFeaturesSuccessActionType,\n  ): BotState => ({\n    ...state,\n    features,\n  }),\n  [SEND_FEATURE_BOT_EVENT_SUCCESS]: (\n    state: BotState,\n    { payload: response }: any\n  ): BotState => ({\n    ...state,\n    response,\n  }),\n  [RESET_RESPONSE]: (state: BotState): BotState => ({\n    ...state,\n    response: null,\n  }),\n}\n\nexport const bot = handleActions(reducers, initialState)\n","import { handleActions } from 'redux-actions'\nimport { ClientState } from '../../types'\n\nimport {\n  REMOVE_FILE_SUCCESS,\n  removeFileSuccessActionType,\n  RESET_ATTACHMENTS, RESET_EXPRESS_NOTIFICATION_SUCCESS, RESET_EXPRESS_RESPONSE,\n  SEND_EXPRESS_EVENT_SUCCESS,\n  sendExpressEventSuccessActionType,\n  SET_EXPRESS_NOTIFICATION_SUCCESS, SET_META, setExpressNotificationSuccessActionType, setMetaActionType,\n  UPLOAD_FILE_SUCCESS,\n  UPLOAD_FILES_SUCCESS,\n  uploadFilesSuccessActionType,\n  uploadFileSuccessActionType,\n} from '../actions/client'\n\nconst initialState: ClientState = {\n  attachments: null,\n  response: null,\n  meta: null,\n  notifications: [],\n}\n\nconst reducers = {\n  [UPLOAD_FILE_SUCCESS]: (\n    state: ClientState, { payload: file }: uploadFileSuccessActionType,\n  ): ClientState => ({\n    ...state,\n    attachments: [file],\n  }),\n  [UPLOAD_FILES_SUCCESS]: (\n    state: ClientState,\n    { payload: files }: uploadFilesSuccessActionType,\n  ): ClientState => ({\n    ...state,\n    attachments: [...files],\n  }),\n  [REMOVE_FILE_SUCCESS]: (\n    state: ClientState, { payload: id }: removeFileSuccessActionType,\n  ): ClientState => ({\n    ...state,\n    attachments: state.attachments.filter(attachment => attachment.fileId !== id),\n  }),\n  [RESET_ATTACHMENTS]: (\n    state: ClientState,\n  ): ClientState => ({\n    ...state,\n    attachments: null,\n  }),\n  [SET_EXPRESS_NOTIFICATION_SUCCESS]: (\n    state: ClientState, { payload }: setExpressNotificationSuccessActionType,\n  ): ClientState => ({\n    ...state,\n    notifications: [payload, ...state.notifications],\n  }),\n  [RESET_EXPRESS_NOTIFICATION_SUCCESS]: (\n    state: ClientState\n  ): ClientState => ({\n    ...state,\n    notifications: [],\n  }),\n  [SEND_EXPRESS_EVENT_SUCCESS]: (\n    state: ClientState, response: sendExpressEventSuccessActionType\n  ): ClientState => ({\n    ...state,\n    response\n  }),\n  [RESET_EXPRESS_RESPONSE]: (state: ClientState): ClientState => ({\n    ...state,\n    response: null,\n  }),\n  [SET_META]: (\n    state: ClientState, { payload }: setMetaActionType\n  ): ClientState => ({\n    ...state,\n    meta: payload,\n  }),\n}\n\nexport const client = handleActions<ClientState, any>(reducers, initialState)\n","import { connectRouter } from 'connected-react-router'\nimport { combineReducers } from 'redux'\nimport { history } from '../router'\nimport { ui } from './ui'\nimport { AppState } from '../../types'\nimport { bot } from './bot'\nimport { client } from './client'\n\nexport const rootReducer = combineReducers<AppState>({\n  ui,\n  bot,\n  client,\n  router: connectRouter(history),\n})\n","import { put } from 'redux-saga/effects'\nimport { setMainLoader } from '../actions/ui'\nimport { Bridge as bridge } from '@unlimited/smartapp-sdk'\nimport { BotFeaturesResponse } from '../../types'\nimport { MENU_EVENT } from '../../constants'\nimport { loadFeaturesSuccess } from '../actions/bot'\n\nexport function* loadFeaturesSaga() {\n  try {\n    yield put(setMainLoader(true))\n\n    const response: BotFeaturesResponse = yield bridge.sendBotEvent(MENU_EVENT)\n\n    if (response) yield put(loadFeaturesSuccess(response.payload.result))\n  } catch (e: any) {\n    console.error('loadFeaturesSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n","import { put } from 'redux-saga/effects'\nimport { setMainLoader } from '../actions/ui'\nimport { BotMethodResponse } from '../../types'\nimport { Bridge as bridge } from '@unlimited/smartapp-sdk'\nimport { sendFeatureBotEventSuccess } from '../actions/bot'\n\nexport function* sendFeatureBotEventSaga(action) {\n  try {\n    yield put(setMainLoader(true))\n\n    const response: BotMethodResponse = yield bridge?.sendBotEvent(action.payload)\n\n    yield put(sendFeatureBotEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendFeatureBotEventSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n","import { Bridge as bridge, ready, sendMessage } from '@unlimited/smartapp-sdk'\nimport { ClientEventMethod, ExpressMethodResponse, File } from '../../types'\nimport { put } from 'redux-saga/effects'\nimport {\n  sendExpressEventActionType,\n  sendExpressEventSuccess,\n  sendMessageExpressEventActionType,\n  setMeta,\n  uploadFileActionType,\n  uploadFilesActionType,\n  uploadFilesSuccess,\n  uploadFileSuccess,\n} from '../actions/client'\nimport { setRedirectPath, setTopLoader } from '../actions/ui'\nimport { OPEN_SMART_APP_META_FEATURE } from '../../constants'\n\nexport function* uploadFileSaga({ payload: { type } }: uploadFileActionType) {\n  try {\n    const response = yield bridge?.sendClientEvent({\n      method: ClientEventMethod.UPLOAD_FILE,\n      params: { type },\n    })\n\n    if (!response.payload?.record) return\n\n    const file: File = {\n      ...response.payload.record,\n    }\n\n    yield put(uploadFileSuccess(file))\n  } catch (e) {\n    console.error(`uploadFileSaga error: ${e}`)\n  }\n}\n\nexport function* uploadFilesSaga({ payload: { type } }: uploadFilesActionType) {\n  try {\n    const response = yield bridge?.sendClientEvent({\n      method: ClientEventMethod.UPLOAD_FILES,\n      params: { type },\n    })\n\n    if (!response.payload.records.length) return\n\n    const files: File[] = response.payload.records\n\n    yield put(uploadFilesSuccess(files))\n  } catch (e) {\n    console.error(`uploadFilesSaga error: ${e}`)\n  }\n}\n\nexport function* sendExpressEventSaga(action: sendExpressEventActionType) {\n  try {\n    yield put(setTopLoader(true))\n\n    const response: ExpressMethodResponse = yield bridge?.sendClientEvent(action.payload)\n\n    yield put(sendExpressEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendExpressEventSaga error', e)\n  } finally {\n    yield put(setTopLoader(false))\n  }\n}\n\nexport function* sendMessageExpressEventSaga(action: sendMessageExpressEventActionType) {\n  try {\n    yield put(setTopLoader(true))\n\n    const response: ExpressMethodResponse = yield sendMessage(action.payload)\n\n    yield put(sendExpressEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendMessageExpressEventSaga error', e)\n  } finally {\n    yield put(setTopLoader(false))\n  }\n}\n\nexport function* sendExpressReadyEventSaga() {\n  try {\n    const response = yield ready(300)\n    const meta = response?.payload?.[OPEN_SMART_APP_META_FEATURE.field]\n\n    if (meta) {\n      bridge?.log?.({ response })\n      yield put(setRedirectPath(`/${OPEN_SMART_APP_META_FEATURE.method}`))\n      yield put(setMeta(response))\n    } else {\n      setRedirectPath('/')\n    }\n  } catch (e) {\n    console.error('sendExpressReadyEventSaga', e)\n  }\n}\n","import { all, takeEvery } from 'redux-saga/effects'\nimport { loadFeaturesSaga } from './ui'\nimport { sendFeatureBotEventSaga } from './bot'\nimport { LOAD_FEATURES, SEND_FEATURE_BOT_EVENT } from '../actions/bot'\nimport {\n  sendExpressEventSaga,\n  sendExpressReadyEventSaga,\n  sendMessageExpressEventSaga,\n  uploadFileSaga,\n  uploadFilesSaga,\n} from './client'\nimport {\n  SEND_EXPRESS_EVENT,\n  SEND_EXPRESS_READY_EVENT,\n  SEND_MESSAGE_EXPRESS_EVENT,\n  UPLOAD_FILE,\n  UPLOAD_FILES,\n} from '../actions/client'\n\nfunction* rootSaga() {\n  yield all([\n    takeEvery(LOAD_FEATURES, loadFeaturesSaga),\n    takeEvery(SEND_FEATURE_BOT_EVENT, sendFeatureBotEventSaga),\n    takeEvery(SEND_EXPRESS_EVENT, sendExpressEventSaga),\n    takeEvery(SEND_MESSAGE_EXPRESS_EVENT, sendMessageExpressEventSaga),\n    takeEvery(SEND_EXPRESS_READY_EVENT, sendExpressReadyEventSaga),\n    takeEvery(UPLOAD_FILE, uploadFileSaga),\n    takeEvery(UPLOAD_FILES, uploadFilesSaga),\n  ])\n}\n\nexport default rootSaga\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Main from './components/Main'\nimport { configureStore } from './redux/configureStore'\nimport { history } from './redux/router'\nimport './index.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={configureStore()}>\n      {/* @ts-ignore */}\n      <ConnectedRouter history={history}>\n        <Main />\n      </ConnectedRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","import { applyMiddleware, createStore, Store } from 'redux'\nimport { routerMiddleware as createRouterMiddleware } from 'connected-react-router'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport createSagaMiddleware from 'redux-saga'\nimport { rootReducer } from './reducers'\nimport rootSaga from './sagas'\nimport { history } from './router'\nimport { AppState } from '../types'\n\ntype ApplicationStore = Store<AppState>\n\nexport function configureStore(): ApplicationStore {\n  const sagaMiddleware = createSagaMiddleware()\n  const routerMiddleware = createRouterMiddleware(history)\n\n  const store: ApplicationStore = createStore(\n    rootReducer,\n    undefined,\n    composeWithDevTools(applyMiddleware(sagaMiddleware, routerMiddleware))\n  )\n\n  sagaMiddleware\n    .run(rootSaga)\n    .toPromise()\n    .catch((e: Error) => console.error('Saga error', e))\n\n  return store\n}\n"],"sourceRoot":""}