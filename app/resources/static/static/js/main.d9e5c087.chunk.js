(this["webpackJsonp@smartapp/feature-smartapp"]=this["webpackJsonp@smartapp/feature-smartapp"]||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(35),l=a.n(r),s=a(9),i=a(31),o=a(10),d=(a(100),a(1));function u(){return Object(d.jsx)("div",{className:"main-loader",children:Object(d.jsxs)("div",{className:"main-loader__spinner",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})}a(102);var j=a(19);const b=Object(j.a)([e=>e.bot.features],(e=>e)),O=Object(j.a)([e=>e.bot.response],(e=>e));var E=a(8),m=a(29);let p,h,f,_,v,S,N,T;!function(e){e.SMARTAPP_RPC="smartapp_rpc",e.NOTIFICATION="notification",e.OPEN_SMARTAPP_META="open_smart_app_meta"}(p||(p={})),function(e){e.ECHO="echo",e.UPDATE_APP_COUNTER="update_app_counter",e.SEND_NOTIFICATION="send_notification",e.ECHO_FILE="echo_file",e.ECHO_FILES="echo_files",e.SEARCH_USERS="search_users"}(h||(h={})),function(e){e.ADD_CONTACT="add_contact",e.CREATE_PERSONAL_CHAT="create_personal_chat",e.SEND_MESSAGE="send_message",e.GET_CONTACT="get_contact",e.OPEN_SMARTAPP="open_smart_app"}(f||(f={})),function(e){e.ADD_CONTACT="Add contact",e.CREATE_PERSONAL_CHAT="Create personal chat",e.SEND_MESSAGE="Send message to group chat or user",e.GET_CONTACT="Get contact",e.OPEN_SMARTAPP="Open SmartApp"}(_||(_={})),function(e){e.READY="ready",e.UPLOAD_FILE="upload_file",e.UPLOAD_FILES="upload_files"}(v||(v={})),function(e){e.TEXT="text",e.COUNT="count",e.DELAY="delay",e.FILE="file",e.FILES="files",e.HUIDS="huids",e.PHONE="phone",e.NAME="name",e.HUID="huid",e.SMARTAPP_ID="appId",e.MESSAGE="message",e.GROUP_CHAT_ID="groupChatId",e.USER_HUID="userHuid"}(S||(S={})),function(e){e.TEXT="Text",e.COUNT="Count",e.DELAY="Delay",e.FILE="File",e.FILES="Files",e.HUIDS="Huids",e.PHONE="Phone",e.NAME="Name",e.HUID="Huid",e.SMARTAPP_ID="Smartapp ID",e.MESSAGE="Message",e.GROUP_CHAT_ID="Group chat id",e.USER_HUID="User huid"}(N||(N={})),function(e){e.INPUT_TEXT="INPUT_TEXT",e.INPUT_NUMBER="INPUT_NUMBER",e.FILE_PICKER="FILE_PICKER",e.ARRAY_UUID="ARRAY_UUID",e.UUID="UUID"}(T||(T={}));a(103);const y="notification",x="Express Notification",A="Open Smart App Meta",C="open_smart_app_meta",g="openSmartAppMeta",I={method:"menu",params:{text:"menu"}},P={INPUT_TEXT:"text",INPUT_NUMBER:"number",FILE_PICKER:"file",ARRAY_UUID:"text",UUID:"text"},R=[{method:f.ADD_CONTACT,name:_.ADD_CONTACT,uiElements:[{id:S.PHONE,label:N.PHONE,type:T.INPUT_TEXT},{id:S.NAME,label:N.NAME,type:T.INPUT_TEXT}]},{method:f.CREATE_PERSONAL_CHAT,name:_.CREATE_PERSONAL_CHAT,uiElements:[{id:S.HUID,label:N.HUID,type:T.UUID}]},{method:f.GET_CONTACT,name:_.GET_CONTACT,uiElements:[{id:S.PHONE,label:N.PHONE,type:T.INPUT_TEXT}]},{method:f.OPEN_SMARTAPP,name:_.OPEN_SMARTAPP,uiElements:[{id:S.SMARTAPP_ID,label:N.SMARTAPP_ID,type:T.INPUT_TEXT}]},{method:f.SEND_MESSAGE,name:_.SEND_MESSAGE,uiElements:[{id:S.MESSAGE,label:N.MESSAGE,type:T.INPUT_TEXT},{id:S.GROUP_CHAT_ID,label:N.GROUP_CHAT_ID,type:T.UUID},{id:S.USER_HUID,label:N.USER_HUID,type:T.UUID}]}];var U=a(64);const D=e=>null===e||void 0===e?void 0:e.reduce(((e,t)=>(e[t.id]=void 0,e)),{});var w=a(124);const L="LOAD_FEATURES",F="LOAD_FEATURES_SUCCESS",H="RESET_RESPONSE",M="SEND_FEATURE_BOT_EVENT",V="SEND_FEATURE_BOT_EVENT_SUCCESS",G=Object(w.a)(L,(()=>{})),k=Object(w.a)(F,(e=>e)),B=Object(w.a)(H,(()=>{})),X=Object(w.a)(M,(e=>e)),z=Object(w.a)(V,(e=>e));var J;function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Y.apply(this,arguments)}function K(e,t){let{title:a,titleId:c,...r}=e;return n.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,J||(J=n.createElement("path",{fillRule:"evenodd",d:"M13 11V4h-2v7H4v2h7v7h2v-7h7v-2h-7z"})))}const q=n.forwardRef(K);var W;a.p;function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Q.apply(this,arguments)}function Z(e,t){let{title:a,titleId:c,...r}=e;return n.createElement("svg",Q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,W||(W=n.createElement("path",{fill:"currentColor",d:"M13 11V3h-2v8H3v2h8v8h2v-8h8v-2h-8z",transform:"rotate(45 12 12)"})))}const $=n.forwardRef(Z);var ee;a.p;function te(){return te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},te.apply(this,arguments)}function ae(e,t){let{title:a,titleId:c,...r}=e;return n.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 26",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,ee||(ee=n.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-1)"},n.createElement("path",{fill:"#595959",d:"M5 0C3.73 0 2.44 1.225 2.5 2.407V22.63c-.06 1.784 1.23 3.007 2.5 2.89h15c1.71.117 3-1.106 3-2.89V6.26L16 0H5zm0 24.556c-.298-.117-1.298-.59-1.5-1.445V2.41C3.702 2.148 4.702 1.2 5 .963h10.5v3.852c.01 1.467.903 2.315 2 1.926H22v15.89c-.262.864-.76 1.81-2 1.928H5z"}),n.createElement("rect",{width:18.5,height:9.148,x:1,y:12.519,fill:"#5C5C5C",rx:2}),n.createElement("text",{fill:"#FFF",fontSize:5.5,fontWeight:600},n.createElement("tspan",{x:4.302,y:19},"\n        FILE\n      ")))))}const ne=n.forwardRef(ae);a.p;var ce,re=a(56),le=a.n(re);function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},se.apply(this,arguments)}function ie(e,t){let{title:a,titleId:c,...r}=e;return n.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,ce||(ce=n.createElement("path",{fill:"currentColor",d:"M10.667.667h-8c-.734 0-1.334.6-1.334 1.333v9.333h1.334V2h8V.667zm2 2.666H5.333C4.6 3.333 4 3.933 4 4.667V14c0 .733.6 1.333 1.333 1.333h7.334c.733 0 1.333-.6 1.333-1.333V4.667c0-.734-.6-1.334-1.333-1.334zm0 10.667H5.333V4.667h7.334V14z"})))}const oe=n.forwardRef(ie);a.p;var de=a(57),ue=a.n(de);a(105),a(106);function je(e){const t=Object(n.useRef)(null);return Object(n.useEffect)((()=>{const a=new ue.a(t.current,{mode:"view",enableTransform:!0});e.json&&a.set(e.json);const n=document.createElement("button");n.className="copy-to-clipboard",n.innerHTML=le.a.renderToStaticMarkup(Object(d.jsx)(oe,{height:"22",width:"22"})),n.addEventListener("click",(()=>(e=>{const t=document.createElement("textarea");t.innerHTML=JSON.stringify(e,null,"  "),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(e.json))),n.setAttribute("title","Copy To Clipboard");const c=document.querySelector(".jsoneditor-menu"),r=document.querySelector(".jsoneditor-menu .jsoneditor-search");return c.insertBefore(n,r),()=>a.destroy()}),[e.json]),Object(d.jsx)("div",{className:"json-viewer",ref:t})}var be=a(27),Oe=a.n(be);const Ee="UPLOAD_FILE",me="UPLOAD_FILE_SUCCESS",pe="UPLOAD_FILES",he="UPLOAD_FILES_SUCCESS",fe="REMOVE_FILE_SUCCESS",_e="RESET_ATTACHMENTS",ve="SEND_EXPRESS_EVENT",Se="SEND_MESSAGE_EXPRESS_EVENT",Ne="SEND_EXPRESS_EVENT_SUCCESS",Te="SET_NOTIFICATION_SUCCESS",ye="RESET_EXPRESS_NOTIFICATION_SUCCESS",xe="RESET_EXPRESS_RESPONSE",Ae="SEND_EXPRESS_READY_EVENT",Ce="SET_META",ge=Object(w.a)(Ee,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:e}})),Ie=Object(w.a)(me,(e=>e)),Pe=Object(w.a)(pe,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:e}})),Re=Object(w.a)(he,(e=>e)),Ue=(Object(w.a)("REMOVE_FILE",(e=>e)),Object(w.a)(fe,(e=>e))),De=Object(w.a)(_e,(()=>{})),we=Object(w.a)(ve,(e=>e)),Le=Object(w.a)(Se,(e=>e)),Fe=Object(w.a)(Ne,(e=>e)),He=Object(w.a)(Te,(e=>e)),Me=Object(w.a)(ye,(()=>{})),Ve=Object(w.a)(Ce,(e=>e)),Ge=Object(w.a)(xe,(()=>{})),ke=Object(w.a)(Ae,(()=>{})),Be=Object(j.a)([e=>e.client.attachments],(e=>e)),Xe=Object(j.a)([e=>e.client.response],(e=>e)),ze=Object(j.a)([e=>e.client.meta],(e=>e)),Je=Object(j.a)([e=>e.client.notifications],(e=>e));var Ye,Ke=a(63);function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qe.apply(this,arguments)}function We(e,t){let{title:a,titleId:c,...r}=e;return n.createElement("svg",qe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,Ye||(Ye=n.createElement("path",{d:"M7.828 11l5.586-5.586L12 4l-8 8 8 8 1.414-1.414L7.828 13H20v-2z"})))}const Qe=n.forwardRef(We);a.p,a(107);function Ze(e){let{name:t}=e;return Object(d.jsxs)("div",{className:"feature-page__header",children:[Object(d.jsx)(m.a,{className:"btn--arrow-left",to:"/",children:Object(d.jsx)(Qe,{className:"icon--arrow-left",height:24,width:24})}),Object(d.jsx)("div",{className:"feature-page__info",children:Object(d.jsxs)("span",{className:"feature-page__title",children:[t," method"]})})]})}function $e(e){var t,a,c;let{name:r,method:l,uiElements:i=[]}=e;const o=Object(s.d)(),u=Object(s.e)(O),j=Object(s.e)(Xe),b=Object(s.e)(Be),[E,m]=Object(n.useState)([]),[p,_]=Object(n.useState)(""),[v,y]=Object(n.useState)(!1),x=l===h.SEARCH_USERS,A=[h.ECHO_FILE,h.ECHO_FILES].includes(l),C=h.SEARCH_USERS===l,g=Object.values(f).includes(l),I=()=>y(!v),R=Object(U.a)({initialValues:D(E),onSubmit:e=>{const t=Object.values(e).filter((e=>e));if(t.length)if(g)if(l===f.SEND_MESSAGE){const{userHuid:t,groupChatId:a,message:n}=e;o(Le({userHuid:t,groupChatId:a,messageBody:n,messageMeta:{}}))}else o(we({method:l,params:e}));else o(X({method:l,params:C?{huids:t}:e}))}}),w=()=>A?!(null!==b&&void 0!==b&&b.length):!Object.values(R.values).filter((e=>e)).length;return Object(n.useEffect)((()=>{const e=i.map(((e,t)=>({...e,id:e.id.includes(S.HUIDS)?"".concat(e.id).concat(t):e.id})));return m(e),()=>{o(B()),o(De()),o(Ge())}}),[i,o]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(Ze,{name:r}),A?Object(d.jsxs)("div",{className:"feature-page__form",children:[Object(d.jsx)("span",{className:"feature-page__title",children:l===h.ECHO_FILE?N.FILE:N.FILES}),Object(d.jsx)("button",{className:"btn--attach",onClick:()=>{l===h.ECHO_FILE?o(ge()):l===h.ECHO_FILES&&o(Pe())},children:l===h.ECHO_FILE?"Attach file":"Attach files"}),!(null===b||void 0===b||!b.length)&&Object(d.jsx)("div",{className:"attachments",children:b.map((e=>Object(d.jsxs)("span",{className:"attachments__item",children:[Object(d.jsx)("span",{children:e.fileName}),Object(d.jsx)($,{width:20,height:20,className:"btn--remove-attachment",onClick:()=>{return t=e.fileId,o(Ue(t)),void(1===(null===b||void 0===b?void 0:b.length)&&o(z(null)));var t}})]},e.fileId)))}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:Oe()({"btn--submit":!0,"btn--submit-disabled":w()}),onClick:()=>{if(b){o(X({method:l,params:{},files:b}))}},disabled:w(),type:"button",children:"Submit"})})]}):Object(d.jsxs)("form",{className:"feature-page__form",onSubmit:R.handleSubmit,children:[E.map(((e,t)=>{let{id:a,type:n,label:c}=e;const r=P[n],l=!C||0===t;return Object(d.jsxs)("div",{children:[l&&Object(d.jsx)("span",{className:"feature-page__title",children:c}),Object(d.jsx)("input",{className:Oe()({input:!0,"input--error":(()=>{const e=R.values[a];return C||n===T.UUID?e&&(c=R.values[a],!/[0-9a-fA-F-]{36}/.test(c)):a===S.PHONE?e&&(t=R.values[a],!/(^8|7|\+7)((\d{10})|(\s\(\d{3}\)\s\d{3}\s\d{2}\s\d{2}))/.test(t)):void 0;var t,c})()}),onChange:R.handleChange,value:R.values[a]||"",type:r,multiple:a===S.FILES,id:a,min:0}),"text"===r&&R.values[a]&&Object(d.jsx)($,{className:"btn--clear-input",onClick:()=>{R.setFieldValue(a,""),p&&_("")},height:20,width:20})]},a)})),Object(d.jsxs)("div",{className:"form-buttons",children:[Object(d.jsx)("button",{className:Oe()({"btn--submit":!0,"btn--submit-disabled":w()}),disabled:w(),type:"submit",children:"Submit"}),x&&Object(d.jsx)(q,{title:"Add new input",className:"btn--plus",onClick:()=>{const e=E[E.length-1],{id:t}=e,a={...e,id:t.includes(S.HUIDS)?"".concat(t).concat(E.length):t};m((e=>[...e,a]))},height:24,width:24})]})]})]}),u&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"response-markdown",children:Object(d.jsx)(Ke.a,{children:null===u||void 0===u||null===(t=u.payload)||void 0===t||null===(a=t.result)||void 0===a?void 0:a.replaceAll("\n","\n\r")})}),l===h.ECHO_FILES&&Object(d.jsxs)("div",{className:"response-files",children:["Files:",null===u||void 0===u||null===(c=u.files)||void 0===c?void 0:c.map((()=>Object(d.jsx)(ne,{className:"response-files__file",height:20,width:20})))]}),u&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"response-markdown-form",children:[Object(d.jsx)("input",{checked:v,className:"form-toggler__input",id:"form-toggler",type:"checkbox",onChange:I}),Object(d.jsx)("span",{className:"form-toggler",onClick:I,children:"Show JSON Viewer"})]}),v&&Object(d.jsx)("div",{className:"response-json",children:Object(d.jsx)(je,{height:24,json:u})})]})]}),j&&Object(d.jsx)("div",{className:"response-express",children:JSON.stringify(null===j||void 0===j?void 0:j.payload,null,2)})]})}a(113);const et=Object(j.a)([e=>e.ui.topLoader],(e=>e)),tt=Object(j.a)([e=>e.ui.mainLoader],(e=>e)),at=Object(j.a)([e=>e.ui.redirectPath],(e=>e));function nt(){const e=Object(s.e)(et),[t,a]=Object(n.useState)(!1),[c,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(!1),o=Object(n.useRef)(null),u=Object(n.useRef)(null);return Object(n.useEffect)((()=>{e&&!t&&a(!0),!e&&t&&(a(!1),r(!0),o.current=setTimeout((()=>{i(!0),u.current=setTimeout((()=>{r(!1),i(!1)}),100)}),200))}),[e,t]),Object(n.useEffect)((()=>()=>{o.current&&clearTimeout(o.current),u.current&&clearTimeout(u.current)}),[]),Object(d.jsx)("div",{className:Oe()({"top-loader":!0,"top-loader--enabled":t&&!l}),children:Object(d.jsx)("div",{className:Oe()({"top-loader__bar":!0,"top-loader__bar--start":t,"top-loader__bar--stop":c,"top-loader__bar--finish":l})})})}var ct;function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},rt.apply(this,arguments)}function lt(e,t){let{title:a,titleId:c,...r}=e;return n.createElement("svg",rt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,ct||(ct=n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M1.379 7.017v2.775h-.55A.816.816 0 0 1 0 8.989V7.427c0-.443.371-.803.829-.803h.566c-.01.13-.016.261-.016.393zm9.792-.393c.458 0 .829.36.829.803V8.99a.816.816 0 0 1-.829.803h-.55V7.017c0-.132-.006-.263-.016-.393h.566zM10.047 9.873v-2.82c0-.132-.006-.263-.018-.393C9.857 4.651 8.377 3.043 6.5 2.8h-.997c-1.88.244-3.36 1.853-3.532 3.863-.01.129-.017.26-.017.392v4.754h8.094V9.873zm-5.998-.66c-.608 0-1.101-.522-1.101-1.167 0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167zm2.96-1.167c0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167s-1.101-.522-1.101-1.167z"}))))}const st=n.forwardRef(lt);a.p,a(114);function it(){const e=Object(s.d)(),t=Object(s.e)(Je);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(Ze,{name:x}),Object(d.jsx)("div",{className:"feature-page__notifications",children:t.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"notifications__clear-button",onClick:()=>{e(Me())},title:"Clear notifications",children:"Clear"}),t.map(((e,t)=>Object(d.jsx)("div",{className:"notifications__item",children:JSON.stringify(null===e||void 0===e?void 0:e.data,null,2)},t)))]}):Object(d.jsx)("div",{className:"feature-page__notifications-placeholder",children:"New notifications will appear here..."})})]})})}const ot="SET_TOP_LOADER",dt="SET_MAIN_LOADER",ut="SET_REDIRECT_PATH",jt=Object(w.a)(ot,(e=>e)),bt=Object(w.a)(dt,(e=>e)),Ot=Object(w.a)(ut,(e=>e));function Et(){const e=Object(s.d)(),t=Object(s.e)(ze);return Object(n.useEffect)((()=>()=>{e(Ot("")),e(Ve(null))}),[e]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(Ze,{name:A}),t&&Object(d.jsx)("div",{className:"response-express",children:JSON.stringify(t.payload,null,2)})]})})}var mt=a(14);const pt=Object(mt.a)();function ht(){const e=Object(s.d)(),t=Object(s.e)(b),a=Object(s.e)(at);return Object(n.useEffect)((()=>{t||e(G())}),[e,t]),Object(n.useEffect)((()=>{a&&pt.push(a)}),[e,a]),Object(d.jsxs)("div",{className:"feature-smartapp",children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)("span",{className:"header__content",children:[Object(d.jsx)(st,{className:"header__icon",height:20,width:20}),Object(d.jsx)("span",{className:"header__text",children:"Feature Smartapp"})]})}),Object(d.jsx)(nt,{}),Object(d.jsx)("section",{className:"feature-smartapp__menu",children:Object(d.jsxs)(E.c,{children:[null===t||void 0===t?void 0:t.map((e=>Object(d.jsx)(E.a,{path:"/".concat(e.method),children:Object(d.jsx)($e,{...e})},"".concat(e.method,"-route")))),R.map((e=>Object(d.jsx)(E.a,{path:"/".concat(e.method),children:Object(d.jsx)($e,{...e})},"".concat(e.method,"-route")))),Object(d.jsx)(E.a,{path:"/".concat(C),children:Object(d.jsx)(Et,{})},"".concat(C,"-route")),Object(d.jsx)(E.a,{path:"/".concat(y),children:Object(d.jsx)(it,{})},"".concat(y,"-route")),Object(d.jsxs)(E.a,{path:"/",children:[null===t||void 0===t?void 0:t.map((e=>Object(d.jsx)(m.a,{className:"menu-item",to:"/".concat(e.method),children:e.name},"".concat(e.method,"-link")))),t&&R.map((e=>Object(d.jsx)(m.a,{className:"menu-item",to:"/".concat(e.method),children:e.name},"".concat(e.method,"-link")))),t&&Object(d.jsx)(m.a,{className:"menu-item",to:"/".concat(y),children:x},"".concat(y,"-link"))]})]})})]})}a(115);function ft(e){let{result:t,status:a}=e;return Object(d.jsxs)("div",{className:"notifier",children:[Object(d.jsx)("span",{className:"notifier__text",children:t}),Object(d.jsxs)("span",{className:"notifier__text",children:["Status: ",a]})]})}function _t(){const e=Object(s.d)(),[t,a]=Object(n.useState)(!0),c=Object(s.e)(tt),[r,l]=Object(n.useState)(null);return Object(n.useEffect)((()=>{t&&(a(!1),e(ke())),null===o.a||void 0===o.a||o.a.onReceive((t=>{let{type:a,payload:n}=t;if("object"===typeof n)switch(a){case p.SMARTAPP_RPC:l(n),setTimeout((()=>l(null)),3e3);break;case p.NOTIFICATION:e(He(n))}}))}),[e,t]),Object(d.jsxs)(d.Fragment,{children:[c&&Object(d.jsx)(u,{}),Object(d.jsx)(ht,{}),r&&Object(d.jsx)(ft,{...r})]})}var vt=a(23),St=a(49),Nt=a(61),Tt=a(65),yt=a(123);const xt={[ot]:(e,t)=>{let{payload:a}=t;return{...e,topLoader:a}},[dt]:(e,t)=>{let{payload:a}=t;return{...e,mainLoader:a}},[ut]:(e,t)=>{let{payload:a}=t;return{...e,redirectPath:a}}},At=Object(yt.a)(xt,{topLoader:!1,mainLoader:!1,redirectPath:""}),Ct={[F]:(e,t)=>{let{payload:a}=t;return{...e,features:a}},[V]:(e,t)=>{let{payload:a}=t;return{...e,response:a}},[H]:e=>({...e,response:null})},gt=Object(yt.a)(Ct,{features:null,response:null,notifications:null}),It={[me]:(e,t)=>{let{payload:a}=t;return{...e,attachments:[a]}},[he]:(e,t)=>{let{payload:a}=t;return{...e,attachments:[...a]}},[fe]:(e,t)=>{let{payload:a}=t;return{...e,attachments:e.attachments.filter((e=>e.fileId!==a))}},[_e]:e=>({...e,attachments:null}),[Te]:(e,t)=>{let{payload:a}=t;return{...e,notifications:[a,...e.notifications]}},[ye]:e=>({...e,notifications:[]}),[Ne]:(e,t)=>({...e,response:t}),[xe]:e=>({...e,response:null}),[Ce]:(e,t)=>{let{payload:a}=t;return{...e,meta:a}}},Pt=Object(yt.a)(It,{attachments:null,response:null,meta:null,notifications:[]}),Rt=Object(vt.combineReducers)({ui:At,bot:gt,client:Pt,router:Object(i.b)(pt)});var Ut=a(7);function*Dt(){try{yield Object(Ut.b)(bt(!0));const e=yield o.a.sendBotEvent(I);e&&(yield Object(Ut.b)(k(e.payload.result)))}catch(e){console.error("loadFeaturesSaga error",e)}finally{yield Object(Ut.b)(bt(!1))}}function*wt(e){try{yield Object(Ut.b)(bt(!0));const t=yield null===o.a||void 0===o.a?void 0:o.a.sendBotEvent(e.payload);yield Object(Ut.b)(z(t))}catch(t){console.error("sendFeatureBotEventSaga error",t)}finally{yield Object(Ut.b)(bt(!1))}}function*Lt(e){let{payload:{type:t}}=e;try{var a;const e=yield null===o.a||void 0===o.a?void 0:o.a.sendClientEvent({method:v.UPLOAD_FILE,params:{type:t}});if(null===(a=e.payload)||void 0===a||!a.record)return;const n={...e.payload.record};yield Object(Ut.b)(Ie(n))}catch(n){console.error("uploadFileSaga error: ".concat(n))}}function*Ft(e){let{payload:{type:t}}=e;try{const e=yield null===o.a||void 0===o.a?void 0:o.a.sendClientEvent({method:v.UPLOAD_FILES,params:{type:t}});if(!e.payload.records.length)return;const a=e.payload.records;yield Object(Ut.b)(Re(a))}catch(a){console.error("uploadFilesSaga error: ".concat(a))}}function*Ht(e){try{yield Object(Ut.b)(jt(!0));const t=yield null===o.a||void 0===o.a?void 0:o.a.sendClientEvent(e.payload);yield Object(Ut.b)(Fe(t))}catch(t){console.error("sendExpressEventSaga error",t)}finally{yield Object(Ut.b)(jt(!1))}}function*Mt(e){try{yield Object(Ut.b)(jt(!0));const t=yield Object(o.c)(e.payload);yield Object(Ut.b)(Fe(t))}catch(t){console.error("sendMessageExpressEventSaga error",t)}finally{yield Object(Ut.b)(jt(!1))}}function*Vt(){try{var e;const t=yield Object(o.b)(300);null!==t&&void 0!==t&&null!==(e=t.payload)&&void 0!==e&&e[g]?(yield Object(Ut.b)(Ot("/".concat(C))),yield Object(Ut.b)(Ve(t))):Ot("/")}catch(t){console.error("sendExpressReadyEventSaga",t)}}var Gt=function*(){yield Object(Ut.a)([Object(Ut.c)(L,Dt),Object(Ut.c)(M,wt),Object(Ut.c)(ve,Ht),Object(Ut.c)(Se,Mt),Object(Ut.c)(Ae,Vt),Object(Ut.c)(Ee,Lt),Object(Ut.c)(pe,Ft)])};a(117);l.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(s.a,{store:function(){const e=Object(Tt.a)(),t=Object(St.a)(pt),a=Object(vt.createStore)(Rt,void 0,Object(Nt.composeWithDevTools)(Object(vt.applyMiddleware)(e,t)));return e.run(Gt).toPromise().catch((e=>console.error("Saga error",e))),a}(),children:Object(d.jsx)(i.a,{history:pt,children:Object(d.jsx)(_t,{})})})}),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.d9e5c087.chunk.js.map