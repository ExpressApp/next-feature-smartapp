(this["webpackJsonp@smartapp/feature-smartapp"]=this["webpackJsonp@smartapp/feature-smartapp"]||[]).push([[0],{117:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(44),s=a.n(l),r=a(7),i=a(41),o=a(5),d=(a(117),a(1));function u(){return Object(d.jsx)("div",{className:"main-loader",id:"main-loader",children:Object(d.jsxs)("div",{className:"main-loader__spinner",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})}a(119);var j=a(21);const b=Object(j.a)([e=>e.bot.features],(e=>e)),O=Object(j.a)([e=>e.bot.response],(e=>e)),m=Object(j.a)([e=>e.bot.staticFile],(e=>e));var h=a(22),p=a(11);let E=function(e){return e.SMARTAPP_RPC="smartapp_rpc",e.NOTIFICATION="notification",e}({}),_=function(e){return e.ECHO="echo",e.UPDATE_APP_COUNTER="update_app_counter",e.SEND_NOTIFICATION="send_notification",e.ECHO_FILE="echo_file",e.ECHO_FILES="echo_files",e.ECHO_STATIC_FILE="echo_static_file",e.SEARCH_USERS="search_users",e}({}),f=function(e){return e.ADD_CONTACT="add_contact",e.CREATE_PERSONAL_CHAT="create_personal_chat",e.SEND_MESSAGE="send_message",e.GET_CONTACT="get_contact",e.OPEN_SMARTAPP="open_smart_app",e.OPEN_CLIENT_SETTINGS="open_client_settings",e.GET_CHATS="get_chats",e.SEARCH_CORPORATE_PHONEBOOK="search_corporate_phonebook",e.OPEN_GROUP_CHAT="open_group_chat",e.SEND_BOT_COMMAND="send_bot_command",e.OPEN_CONTACT_CARD="open_contact_card",e}({}),v=function(e){return e.BACK_PRESSED="back_pressed",e.ROUTING_CHANGED="routing_changed",e.CLEAN_CACHE="clean_cache",e}({}),S=function(e){return e.ADD_CONTACT="Add Contact",e.CREATE_PERSONAL_CHAT="Create Personal Chat",e.SEND_MESSAGE="Send Message to Group Chat or User",e.GET_CONTACT="Get Contact",e.OPEN_SMARTAPP="Open SmartApp",e.OPEN_CLIENT_SETTINGS="Open Client Settings",e.GET_CHATS="Get Chats",e.SEARCH_CORPORATE_PHONEBOOK="Search Corporate Phonebook",e.OPEN_GROUP_CHAT="Open Group Chat",e.SEND_BOT_COMMAND="Send Bot Command",e.OPEN_CONTACT_CARD="Open Contact Card",e}({}),N=function(e){return e.UPLOAD_FILE="upload_file",e.UPLOAD_FILES="upload_files",e}({}),T=function(e){return e.TEXT="text",e.COUNT="count",e.DELAY="delay",e.FILE="file",e.FILES="files",e.HUIDS="huids",e.PHONE="phone",e.NAME="name",e.HUID="huid",e.SMARTAPP_ID="appId",e.MESSAGE="message",e.GROUP_CHAT_ID="groupChatId",e.USER_HUID="userHuid",e.FILTER="filter",e.BODY="body",e.DATA="data",e}({}),x=function(e){return e.TEXT="Text",e.COUNT="Count",e.DELAY="Delay",e.FILE="File",e.FILES="Files",e.HUIDS="Huids",e.PHONE="Phone",e.NAME="Name",e.HUID="Huid",e.SMARTAPP_ID="Smartapp ID",e.MESSAGE="Message",e.GROUP_CHAT_ID="Group chat id",e.USER_HUID="User huid",e.FILTER="Filter",e.BODY="Body",e.DATA="Data",e}({}),C=function(e){return e.INPUT_TEXT="INPUT_TEXT",e.INPUT_NUMBER="INPUT_NUMBER",e.FILE_PICKER="FILE_PICKER",e.ARRAY_UUID="ARRAY_UUID",e.UUID="UUID",e}({});a(120);const y={method:"notification",name:"Express Notification"},g={name:"Open Smart App Meta",method:"open_smart_app",field:"openSmartAppMeta"},A={name:"Open File",method:"open_file"},I={name:"Request Location",method:"request_location"},P={name:"Scan QR",method:"scan_qr"},R={name:"Open Web Page",method:"open-web-page"},U={name:"Request self profile",method:"request-self-profile"},D={name:"Close SmartApp",method:"close-smartapp"},w={name:"File proxy",method:"file-proxy"},H={method:"menu",params:{text:"menu"}},F={INPUT_TEXT:"text",INPUT_NUMBER:"number",FILE_PICKER:"file",ARRAY_UUID:"text",UUID:"text"},L=[{method:f.ADD_CONTACT,name:S.ADD_CONTACT,uiElements:[{id:T.PHONE,label:x.PHONE,type:C.INPUT_TEXT},{id:T.NAME,label:x.NAME,type:C.INPUT_TEXT}]},{method:f.CREATE_PERSONAL_CHAT,name:S.CREATE_PERSONAL_CHAT,uiElements:[{id:T.HUID,label:x.HUID,type:C.UUID}]},{method:f.GET_CONTACT,name:S.GET_CONTACT,uiElements:[{id:T.PHONE,label:x.PHONE,type:C.INPUT_TEXT}]},{method:f.OPEN_SMARTAPP,name:S.OPEN_SMARTAPP,uiElements:[{id:T.SMARTAPP_ID,label:x.SMARTAPP_ID,type:C.INPUT_TEXT}]},{method:f.SEND_MESSAGE,name:S.SEND_MESSAGE,uiElements:[{id:T.MESSAGE,label:x.MESSAGE,type:C.INPUT_TEXT},{id:T.GROUP_CHAT_ID,label:x.GROUP_CHAT_ID,type:C.UUID},{id:T.USER_HUID,label:x.USER_HUID,type:C.UUID}]},{method:f.OPEN_CLIENT_SETTINGS,name:S.OPEN_CLIENT_SETTINGS,uiElements:[]},{method:f.GET_CHATS,name:S.GET_CHATS,uiElements:[{id:T.FILTER,label:x.FILTER,type:C.INPUT_TEXT}]},{method:f.SEARCH_CORPORATE_PHONEBOOK,name:S.SEARCH_CORPORATE_PHONEBOOK,uiElements:[{id:T.FILTER,label:x.FILTER,type:C.INPUT_TEXT}]},{method:f.OPEN_GROUP_CHAT,name:S.OPEN_GROUP_CHAT,uiElements:[{id:T.GROUP_CHAT_ID,label:x.GROUP_CHAT_ID,type:C.UUID}]},{method:f.SEND_BOT_COMMAND,name:S.SEND_BOT_COMMAND,uiElements:[{id:T.USER_HUID,label:x.USER_HUID,type:C.UUID},{id:T.BODY,label:x.BODY,type:C.INPUT_TEXT},{id:T.DATA,label:x.DATA,type:C.INPUT_TEXT}]},{method:f.OPEN_CONTACT_CARD,name:S.OPEN_CONTACT_CARD,uiElements:[{id:T.USER_HUID,label:x.USER_HUID,type:C.UUID}]}],M={name:"Echo static file",method:_.ECHO_STATIC_FILE,uiElements:[{id:T.FILE,type:C.FILE_PICKER,label:x.FILE}]},k={name:"Echo with guaranteed delivery",method:_.ECHO,path:"guaranteed-delivery",uiElements:[{id:T.TEXT,type:C.INPUT_TEXT,label:x.TEXT}]};var G=a(75);a(79),a(78),a(76);const V=e=>null===e||void 0===e?void 0:e.reduce(((e,t)=>(e[t.id]=void 0,e)),{});var B=a(154);const X="LOAD_FEATURES",J="LOAD_FEATURES_SUCCESS",z="RESET_RESPONSE",q="SEND_FEATURE_BOT_EVENT",K="SEND_FEATURE_BOT_EVENT_SUCCESS",Y="SET_STATIC_FILE",W=Object(B.a)(X,(()=>{})),Q=Object(B.a)(J,(e=>e)),Z=Object(B.a)(z,(()=>{})),$=Object(B.a)(q,(e=>e)),ee=Object(B.a)(K,(e=>e)),te=Object(B.a)(Y,(e=>e)),ae=Object(B.a)("ECHO_STATIC_FILE",(e=>e));var ne;function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ce.apply(this,arguments)}function le(e,t){let{title:a,titleId:c,...l}=e;return n.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":c},l),a?n.createElement("title",{id:c},a):null,ne||(ne=n.createElement("path",{fillRule:"evenodd",d:"M13 11V4h-2v7H4v2h7v7h2v-7h7v-2h-7z"})))}const se=n.forwardRef(le);var re;a.p;function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ie.apply(this,arguments)}function oe(e,t){let{title:a,titleId:c,...l}=e;return n.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":c},l),a?n.createElement("title",{id:c},a):null,re||(re=n.createElement("path",{fill:"currentColor",d:"M13 11V3h-2v8H3v2h8v8h2v-8h8v-2h-8z",transform:"rotate(45 12 12)"})))}const de=n.forwardRef(oe);var ue;a.p;function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},je.apply(this,arguments)}function be(e,t){let{title:a,titleId:c,...l}=e;return n.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 26",ref:t,"aria-labelledby":c},l),a?n.createElement("title",{id:c},a):null,ue||(ue=n.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-1)"},n.createElement("path",{fill:"#595959",d:"M5 0C3.73 0 2.44 1.225 2.5 2.407V22.63c-.06 1.784 1.23 3.007 2.5 2.89h15c1.71.117 3-1.106 3-2.89V6.26L16 0H5zm0 24.556c-.298-.117-1.298-.59-1.5-1.445V2.41C3.702 2.148 4.702 1.2 5 .963h10.5v3.852c.01 1.467.903 2.315 2 1.926H22v15.89c-.262.864-.76 1.81-2 1.928H5z"}),n.createElement("rect",{width:18.5,height:9.148,x:1,y:12.519,fill:"#5C5C5C",rx:2}),n.createElement("text",{fill:"#FFF",fontSize:5.5,fontWeight:600},n.createElement("tspan",{x:4.302,y:19},"\n        FILE\n      ")))))}const Oe=n.forwardRef(be);a.p;var me,he=a(68),pe=a.n(he);function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ee.apply(this,arguments)}function _e(e,t){let{title:a,titleId:c,...l}=e;return n.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":c},l),a?n.createElement("title",{id:c},a):null,me||(me=n.createElement("path",{fill:"currentColor",d:"M10.667.667h-8c-.734 0-1.334.6-1.334 1.333v9.333h1.334V2h8V.667zm2 2.666H5.333C4.6 3.333 4 3.933 4 4.667V14c0 .733.6 1.333 1.333 1.333h7.334c.733 0 1.333-.6 1.333-1.333V4.667c0-.734-.6-1.334-1.333-1.334zm0 10.667H5.333V4.667h7.334V14z"})))}const fe=n.forwardRef(_e);a.p;var ve=a(69),Se=a.n(ve);a(122),a(123);function Ne(e){const t=Object(n.useRef)(null),a=null===e||void 0===e?void 0:e.botResponse;return Object(n.useEffect)((()=>{const e=new Se.a(t.current,{mode:"view",enableTransform:!0});a&&e.set(a);const n=document.createElement("button");n.className="copy-to-clipboard",n.innerHTML=pe.a.renderToStaticMarkup(Object(d.jsx)(fe,{height:"22",width:"22"})),n.addEventListener("click",(()=>(e=>{const t=document.createElement("textarea");t.innerHTML=JSON.stringify(e,null,"  "),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(a))),n.setAttribute("title","Copy To Clipboard");const c=document.querySelector(".jsoneditor-menu"),l=document.querySelector(".jsoneditor-menu .jsoneditor-search");return c.insertBefore(n,l),()=>e.destroy()}),[a]),Object(d.jsx)("div",{className:"json-viewer",ref:t})}var Te=a(20),xe=a.n(Te);const Ce="UPLOAD_FILE",ye="UPLOAD_FILE_SUCCESS",ge="UPLOAD_FILES",Ae="UPLOAD_FILES_SUCCESS",Ie="REMOVE_FILE_SUCCESS",Pe="RESET_ATTACHMENTS",Re="SEND_EXPRESS_EVENT",Ue="SEND_MESSAGE_EXPRESS_EVENT",De="SEND_EXPRESS_EVENT_SUCCESS",we="SET_NOTIFICATION_SUCCESS",He="RESET_EXPRESS_NOTIFICATION_SUCCESS",Fe="RESET_EXPRESS_RESPONSE",Le="SEND_EXPRESS_READY_EVENT",Me="SET_META",ke="ECHO_STATIC_FILE",Ge="REQUEST_LOCATION",Ve="SET_LOCATION",Be="REQUEST_SELF_PROFILE",Xe="SET_SELF_PROFILE",Je="CLOSE_SMART_APP",ze=Object(B.a)(Ce),qe=Object(B.a)(ye,(e=>e)),Ke=Object(B.a)(ge,(function(){return{type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}})),Ye=Object(B.a)(Ae,(e=>e)),We=(Object(B.a)("REMOVE_FILE",(e=>e)),Object(B.a)(Ie,(e=>e))),Qe=Object(B.a)(Pe),Ze=Object(B.a)(Re,(e=>e)),$e=Object(B.a)(Ue,(e=>e)),et=Object(B.a)(De,(e=>e)),tt=Object(B.a)(we,(e=>e)),at=Object(B.a)(He),nt=Object(B.a)(Me,(e=>e)),ct=Object(B.a)(Fe),lt=Object(B.a)(Le),st=Object(B.a)(Ve,(e=>e)),rt=Object(B.a)(Ge),it=(Object(B.a)(ke),Object(B.a)(Be)),ot=Object(B.a)(Xe,(e=>e)),dt=Object(B.a)(Je),ut=Object(j.a)([e=>e.client.attachments],(e=>e)),jt=Object(j.a)([e=>e.client.response],(e=>e)),bt=Object(j.a)([e=>e.client.meta],(e=>e)),Ot=Object(j.a)([e=>e.client.location],(e=>e)),mt=Object(j.a)([e=>e.client.notifications],(e=>e)),ht=Object(j.a)([e=>e.client.selfProfile],(e=>e));var pt,Et=a(50);function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_t.apply(this,arguments)}function ft(e,t){let{title:a,titleId:c,...l}=e;return n.createElement("svg",_t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":c},l),a?n.createElement("title",{id:c},a):null,pt||(pt=n.createElement("path",{d:"M7.828 11l5.586-5.586L12 4l-8 8 8 8 1.414-1.414L7.828 13H20v-2z"})))}const vt=n.forwardRef(ft);a.p,a(124);function St(e){let{name:t}=e;return Object(d.jsxs)("div",{className:"feature-page__header",children:[Object(d.jsx)(h.b,{className:"btn--arrow-left",to:"/",id:"back-nav-link",children:Object(d.jsx)(vt,{className:"icon--arrow-left",height:24,width:24})}),Object(d.jsx)("div",{className:"feature-page__info",children:Object(d.jsxs)("span",{className:"feature-page__title",children:[t," method"]})})]})}function Nt(e){let{name:t,method:a,uiElements:c=[]}=e;const l=Object(r.d)(),s=Object(r.e)(O),i=Object(r.e)(jt),u=Object(r.e)(ut),[j,b]=Object(n.useState)([]),[m,h]=Object(n.useState)(""),[p,E]=Object(n.useState)(!1),v=a===_.SEARCH_USERS,S=[_.ECHO_FILE,_.ECHO_FILES].includes(a),N=_.SEARCH_USERS===a,y=Object.values(f).includes(a),g=()=>{const e=j[j.length-1],{id:t}=e,a={...e,id:t.includes(T.HUIDS)?"".concat(t).concat(j.length):t};b((e=>[...e,a]))},A=()=>{if(u){l($({method:a,params:{},files:u}))}},I=async e=>{switch(a){case f.SEND_MESSAGE:(e=>{if(!P(e).length)return;const{userHuid:t,groupChatId:a,message:n}=e;l($e({userHuid:t,groupChatId:a,messageBody:n,messageMeta:{}}))})(e);break;case f.OPEN_CLIENT_SETTINGS:Object(o.d)();break;case f.GET_CHATS:await(async e=>{const t=await Object(o.c)({filter:null===e||void 0===e?void 0:e.filter});l(et(t))})(e);break;case f.OPEN_GROUP_CHAT:await(async e=>{P(e).length&&await Object(o.f)({groupChatId:null===e||void 0===e?void 0:e.groupChatId})})(e);break;case f.SEARCH_CORPORATE_PHONEBOOK:await(async e=>{const t=await Object(o.j)({filter:null===e||void 0===e?void 0:e.filter});l(et(t))})(e);break;case f.SEND_BOT_COMMAND:await(async e=>{const t=await Object(o.k)({userHuid:null===e||void 0===e?void 0:e.userHuid,data:null!==e&&void 0!==e&&e.data?{command:null===e||void 0===e?void 0:e.data}:null,body:null===e||void 0===e?void 0:e.body});l(et(t))})(e);break;case f.OPEN_CONTACT_CARD:await(async e=>{const t=await Object(o.e)({userHuid:null===e||void 0===e?void 0:e.userHuid});t&&l(et(t))})(e);break;default:(e=>{if(!P(e).length)return;l(Ze({method:a,params:e}))})(e)}},P=Object(n.useMemo)((()=>e=>Object.values(e).filter((e=>e))),[]),R=e=>{const n=P(e);if(!n.length)return;if(t===k.name)return void(e=>{if(!P(e).length)return;const t={method:_.ECHO,params:e,guaranteed_delivery_required:!0};l($(t))})(e);l($({method:a,params:N?{huids:n}:e}))},U=()=>{a===_.ECHO_FILE?l(ze()):a===_.ECHO_FILES&&l(Ke())},D=()=>E(!p),w=Object(G.a)({initialValues:V(j),onSubmit:e=>{y?I(e):R(e)}}),H=()=>a!==f.GET_CHATS&&(S?!(null!==u&&void 0!==u&&u.length):!Object.values(w.values).filter((e=>e)).length);Object(n.useEffect)((()=>{const e=c.map(((e,t)=>({...e,id:e.id.includes(T.HUIDS)?"".concat(e.id).concat(t):e.id})));return b(e),()=>{l(Z()),l(Qe()),l(ct())}}),[c,l]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:t}),S?Object(d.jsxs)("div",{className:"feature-page__form",children:[Object(d.jsx)("span",{className:"feature-page__title",children:a===_.ECHO_FILE?x.FILE:x.FILES}),Object(d.jsx)("button",{className:"btn--attach",onClick:U,children:a===_.ECHO_FILE?"Attach file":"Attach files"}),!(null===u||void 0===u||!u.length)&&Object(d.jsx)("div",{className:"attachments",children:u.map((e=>Object(d.jsxs)("span",{className:"attachments__item",children:[Object(d.jsx)("span",{children:e.fileName}),Object(d.jsx)(de,{width:20,height:20,className:"btn--remove-attachment",onClick:()=>{return t=e.fileId,l(We(t)),void(1===(null===u||void 0===u?void 0:u.length)&&l(ee(null)));var t}})]},e.fileId)))}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:xe()({"btn--submit":!0,"btn--submit-disabled":H()}),onClick:A,disabled:H(),type:"button",id:"files-submit",children:"Submit"})})]}):(()=>{const e=e=>{let{id:t,type:a}=e;const n=w.values[t];return(N||a===C.UUID)&&n?(l=w.values[t],!/[0-9a-fA-F-]{36}/.test(l)):t===T.PHONE?(c=w.values[t],!/(^8|7|\+7)((\d{10})|(\s\(\d{3}\)\s\d{3}\s\d{2}\s\d{2}))/.test(c)):void 0;var c,l};return!(null===j||void 0===j||!j.length)&&Object(d.jsxs)("form",{className:"feature-page__form",onSubmit:w.handleSubmit,children:[j.map(((t,a)=>{let{id:n,type:c,label:l}=t;const s=F[c],r=!N||0===a;return Object(d.jsxs)("div",{children:[r&&Object(d.jsx)("span",{className:"feature-page__title",children:l}),Object(d.jsx)("input",{className:xe()({input:!0,"input--error":e({id:n,type:c})}),onChange:w.handleChange,value:w.values[n]||"",type:s,multiple:n===T.FILES,id:n,min:0}),s===F.INPUT_TEXT&&w.values[n]&&Object(d.jsx)(de,{className:"btn--clear-input",onClick:()=>{w.setFieldValue(n,""),m&&h("")},height:20,width:20,id:"".concat(n,".field-clear")})]},n)})),Object(d.jsxs)("div",{className:"form-buttons",children:[Object(d.jsx)("button",{className:xe()({"btn--submit":!0,"btn--submit-disabled":H()}),disabled:H(),type:"submit",id:"submit",children:"Submit"}),v&&Object(d.jsx)(se,{title:"Add new input",className:"btn--plus",onClick:g,height:24,width:24})]})]})})()]}),s&&(()=>{var e,t,n,c;const l=null===s||void 0===s||null===(e=s.payload)||void 0===e?void 0:e.result;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"response-markdown",children:Object(d.jsx)(Et.a,{children:a===_.ECHO?"text: "+(null===l||void 0===l||null===(t=l.replaceAll)||void 0===t?void 0:t.call(l,"\n","\n\r"))||!1:null===l||void 0===l||null===(n=l.replaceAll)||void 0===n?void 0:n.call(l,"\n","\n\r")})}),a===_.ECHO_FILES&&Object(d.jsxs)("div",{className:"response-files",children:["Files:",null===s||void 0===s||null===(c=s.files)||void 0===c?void 0:c.map((()=>Object(d.jsx)(Oe,{className:"response-files__file",height:20,width:20})))]}),s&&Object(d.jsx)(Ne,{isJSONViewer:p,botResponse:s,toggleIsJSONViewer:D})]})})(),i&&Object(d.jsx)("div",{className:"response-express",id:"response",children:JSON.stringify(null===i||void 0===i?void 0:i.payload,null,2)})]})}a(130);const Tt=Object(j.a)([e=>e.ui.topLoader],(e=>e)),xt=Object(j.a)([e=>e.ui.mainLoader],(e=>e)),Ct=Object(j.a)([e=>e.ui.redirectPath],(e=>e));function yt(){const e=Object(r.e)(Tt),[t,a]=Object(n.useState)(!1),[c,l]=Object(n.useState)(!1),[s,i]=Object(n.useState)(!1),o=Object(n.useRef)(null),u=Object(n.useRef)(null);return Object(n.useEffect)((()=>{e&&!t&&a(!0),!e&&t&&(a(!1),l(!0),o.current=setTimeout((()=>{i(!0),u.current=setTimeout((()=>{l(!1),i(!1)}),100)}),200))}),[e,t]),Object(n.useEffect)((()=>()=>{o.current&&clearTimeout(o.current),u.current&&clearTimeout(u.current)}),[]),Object(d.jsx)("div",{className:xe()({"top-loader":!0,"top-loader--enabled":t&&!s}),children:Object(d.jsx)("div",{className:xe()({"top-loader__bar":!0,"top-loader__bar--start":t,"top-loader__bar--stop":c,"top-loader__bar--finish":s})})})}var gt;function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},At.apply(this,arguments)}function It(e,t){let{title:a,titleId:c,...l}=e;return n.createElement("svg",At({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",ref:t,"aria-labelledby":c},l),a?n.createElement("title",{id:c},a):null,gt||(gt=n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M1.379 7.017v2.775h-.55A.816.816 0 0 1 0 8.989V7.427c0-.443.371-.803.829-.803h.566c-.01.13-.016.261-.016.393zm9.792-.393c.458 0 .829.36.829.803V8.99a.816.816 0 0 1-.829.803h-.55V7.017c0-.132-.006-.263-.016-.393h.566zM10.047 9.873v-2.82c0-.132-.006-.263-.018-.393C9.857 4.651 8.377 3.043 6.5 2.8h-.997c-1.88.244-3.36 1.853-3.532 3.863-.01.129-.017.26-.017.392v4.754h8.094V9.873zm-5.998-.66c-.608 0-1.101-.522-1.101-1.167 0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167zm2.96-1.167c0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167s-1.101-.522-1.101-1.167z"}))))}const Pt=n.forwardRef(It);a.p,a(131);function Rt(){const e=Object(r.d)(),t=Object(r.e)(mt);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:y.name}),Object(d.jsx)("div",{className:"feature-page__notifications",children:t.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"notifications__clear-button",onClick:()=>{e(at())},title:"Clear notifications",children:"Clear"}),t.map(((e,t)=>Object(d.jsx)("div",{className:"notifications__item",children:JSON.stringify(null===e||void 0===e?void 0:e.data,null,2)},t)))]}):Object(d.jsx)("div",{className:"feature-page__notifications-placeholder",children:"New notifications will appear here..."})})]})})}const Ut="SET_TOP_LOADER",Dt="SET_MAIN_LOADER",wt="SET_REDIRECT_PATH",Ht=Object(B.a)(Ut,(e=>e)),Ft=Object(B.a)(Dt,(e=>e)),Lt=Object(B.a)(wt,(e=>e));function Mt(){const e=Object(r.d)(),t=Object(r.e)(bt);return Object(n.useEffect)((()=>()=>{e(Lt("")),e(nt(null))}),[e]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:g.name}),t&&Object(d.jsx)("div",{className:"response-express",children:JSON.stringify(t.payload,null,2)})]})})}var kt=a(18);const Gt=Object(kt.a)();var Vt=a(77);a(132);function Bt(e){let{onScanSuccess:t,onScanFailure:a}=e;const c=Object(n.useRef)({fps:10,qrbox:250,disableFlip:!0});return Object(n.useEffect)((()=>(new Vt.a("reader",c.current,!1).render(t,a),()=>{})),[]),Object(d.jsx)("div",{id:"reader"})}function Xt(){const[e,t]=Object(n.useState)(null),[a,c]=Object(n.useState)(null),[l,s]=Object(n.useState)(null);return Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:P.name}),Object(d.jsx)(Bt,{onScanSuccess:(e,a)=>{t(e),c(a),s(null),console.log("Code matched: ".concat(e),a)},onScanFailure:e=>{s(e),console.warn("Code scan error: ".concat(e))}}),e&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Decoded text:"}),Object(d.jsx)("div",{children:e})]}),a&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Decoded result:"}),Object(d.jsx)("div",{children:JSON.stringify(a)})]}),l&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Error:"}),Object(d.jsx)("div",{children:l})]})]})}function Jt(){const[e,t]=Object(n.useState)("");return Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:A.name}),Object(d.jsx)("input",{className:xe()({input:!0}),onChange:e=>t(e.target.value),value:e,type:"text"}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:xe()({"btn--submit":!0,"btn--submit-disabled":!e}),disabled:!e,type:"submit",onClick:()=>{e&&(console.error({inputValue:JSON.parse(e)}),null===o.a||void 0===o.a||o.a.sendClientEvent({method:A.method,params:JSON.parse(e)}))},id:"submit",children:"Submit"})})]})}a(133);function zt(){const[e,t]=Object(n.useState)("https://www.tutorialrepublic.com/");return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:R.name}),Object(d.jsxs)("div",{className:"open-web-page",children:[Object(d.jsx)("input",{className:"open-web-page__input",type:"url",defaultValue:e,onChange:e=>{const{value:a}=e.target;a&&t(a)}}),Object(d.jsx)("a",{className:"open-web-page__link",href:e,children:e})]})]})})}a(134);var qt=function(){const e=Object(r.d)(),t=Object(r.e)(Ot),[a,c]=Object(n.useState)(!0);return Object(n.useLayoutEffect)((()=>{e(st(null))}),[e]),Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:I.name}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:"btn--submit",onClick:()=>{e(rt())},type:"button",id:"submit",children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c"})}),Object(d.jsx)("div",{className:"request-location__json-viewer",children:t&&Object(d.jsx)(Ne,{isJSONViewer:a,botResponse:t,toggleIsJSONViewer:()=>c(!a)})})]})};a(135);function Kt(e){let{isJSONViewer:t,toggleIsJSONViewer:a,botResponse:n}=e;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"response-markdown-form",children:[Object(d.jsx)("input",{checked:t,className:"form-toggler__input",id:"form-toggler",type:"checkbox",onChange:a}),Object(d.jsx)("span",{className:"form-toggler",onClick:a,children:"Show JSON Viewer"})]}),t&&Object(d.jsx)("div",{className:"response-json",children:Object(d.jsx)(Ne,{height:24,json:n})})]})}function Yt(){var e,t,a,c,l;const s=Object(r.d)(),i=Object(r.e)(m),o=Object(r.e)(ut),u=Object(r.e)(O),[j,b]=Object(n.useState)(!1);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:M.name}),Object(d.jsx)("div",{className:"feature-page__echo-static-file",children:Object(d.jsxs)("div",{className:"feature-page__form",children:[Object(d.jsx)("button",{className:"btn--attach",onClick:()=>s(ze()),children:"Attach files"}),Object(d.jsx)("p",{children:null===o||void 0===o||null===(e=o[0])||void 0===e?void 0:e.fileName}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:xe()({"btn--submit":!0,"btn--submit-disabled":!(null!==o&&void 0!==o&&o.length)}),onClick:async()=>{null!==o&&void 0!==o&&o.length&&s(ae(o[0]))},disabled:!(null!==o&&void 0!==o&&o.length),type:"button",id:"submit",children:"Submit"})})]})})]}),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"response-markdown",children:Object(d.jsx)(Et.a,{children:null===u||void 0===u||null===(t=u.payload)||void 0===t||null===(a=t.result)||void 0===a||null===(c=a.replaceAll)||void 0===c?void 0:c.call(a,"\n","\n\r")})}),i&&Object(d.jsx)(Kt,{isJSONViewer:j,botResponse:i,toggleIsJSONViewer:()=>b(!j)})]}),Object(d.jsx)("img",{src:null===i||void 0===i||null===(l=i.payload)||void 0===l?void 0:l.result,alt:""})]})}a(136);var Wt=a(72);function Qt(){return Object(d.jsxs)("div",{className:"version",children:["SmartApp v",Wt.a]})}a(137);var Zt=function(){const e=Object(r.d)(),t=Object(r.e)(ht),[a,c]=Object(n.useState)(!0);return Object(n.useLayoutEffect)((()=>{e(ot(null))}),[e]),Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:U.name}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:"btn--submit",onClick:()=>{e(it())},type:"button",id:"submit",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(d.jsx)("div",{className:"request-self-profile__json-viewer",children:t&&Object(d.jsx)(Ne,{isJSONViewer:a,botResponse:t,toggleIsJSONViewer:()=>c(!a)})})]})};a(138);var $t=function(){const e=Object(r.d)();return Object(d.jsxs)("div",{className:"feature-page",children:[Object(d.jsx)(St,{name:D.name}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:"btn--submit",onClick:()=>{e(dt())},type:"button",id:"submit",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c SmartApp"})})]})};var ea=function(){const[e,t]=Object(n.useState)("https://cts3dev.ccsteam.ru/api/v1/smartapp_proxy/zgubb4kz4xvqgcwi/upload/iblock/523/cf32v2zoh1rxzriy9xt3iqqtbg4dl254.mp4"),[a,c]=Object(n.useState)(e);return Object(d.jsxs)("div",{className:"feature-page file-proxy",children:[Object(d.jsx)(St,{name:w.name}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"\u0424\u043e\u0440\u043c\u0430\u0442"}),Object(d.jsx)("br",{}),Object(d.jsxs)("sup",{children:["https://",Object(d.jsx)("u",{children:"cts"}),"/api/v1/smartapp_proxy/",Object(d.jsx)("u",{children:"host_id"}),"/",Object(d.jsx)("u",{children:"path_to_video"})]})]}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("input",{className:xe()({input:!0}),onChange:e=>t(e.target.value),value:e,type:"text",id:"url"})}),Object(d.jsx)("div",{className:"form-buttons",children:Object(d.jsx)("button",{className:xe()({"btn--submit":!0}),type:"submit",onClick:()=>c(e),id:"submit",children:"Play"})}),Object(d.jsx)("video",{src:a,autoPlay:!0,controls:!0,width:"100%",style:{margin:"40px 0 0 0"}})]})};function ta(){const e=Object(r.d)(),t=Object(r.e)(b),a=Object(r.e)(Ct),{platform:c}=Object(o.m)(),l=()=>{"web"!==c?Object(o.d)():alert("Feature is unavailable on web client")};return Object(n.useEffect)((()=>{a&&Gt.push(a),t||e(W())}),[e,a,t]),Object(d.jsxs)("div",{className:"feature-smartapp",children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)("span",{className:"header__content",children:[Object(d.jsx)(Pt,{className:"header__icon",height:20,width:20}),Object(d.jsx)("span",{className:"header__text",id:"toolbar-title",children:"Feature Smartapp"})]})}),Object(d.jsx)(yt,{}),Object(d.jsx)("section",{className:"feature-smartapp__menu",children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(p.c,{children:[(null===t||void 0===t?void 0:t.length)&&t.map((e=>e.name===M.name?Object(d.jsx)(p.a,{path:"/".concat(_.ECHO_STATIC_FILE),children:Object(d.jsx)(Yt,{})},"".concat(_.ECHO_STATIC_FILE,"-route")):Object(d.jsx)(p.a,{path:"/".concat(e.method),children:Object(d.jsx)(Nt,{...e})},"".concat(e.method,"-route")))),Object(d.jsx)(p.a,{path:"/".concat(k.path),children:Object(d.jsx)(Nt,{name:k.name,method:k.method,uiElements:k.uiElements})},"".concat(k.path,"-route")),L.map((e=>Object(d.jsx)(p.a,{path:"/".concat(e.method),children:Object(d.jsx)(Nt,{...e})},"".concat(e.method,"-route")))),Object(d.jsx)(p.a,{path:"/".concat(g.method),children:Object(d.jsx)(Mt,{})},"".concat(g.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(y.method),children:Object(d.jsx)(Rt,{})},"".concat(y.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(P.method),children:Object(d.jsx)(Xt,{})},"".concat(P.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(A.method),children:Object(d.jsx)(Jt,{})},"".concat(A.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(R.method),children:Object(d.jsx)(zt,{})},"".concat(R.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(I.method),children:Object(d.jsx)(qt,{})},"".concat(I.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(U.method),children:Object(d.jsx)(Zt,{})},"".concat(U.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(D.method),children:Object(d.jsx)($t,{})},"".concat(D.method,"-route")),Object(d.jsx)(p.a,{path:"/".concat(w.method),children:Object(d.jsx)(ea,{})},"".concat(w.method,"-route")),Object(d.jsxs)(p.a,{path:"/",children:[(null===t||void 0===t?void 0:t.length)&&Object(d.jsx)("span",{className:"feature-smartapp__menu-title",children:"Bot methods"}),(null===t||void 0===t?void 0:t.length)&&(null===t||void 0===t?void 0:t.map((e=>Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(e.method),children:e.name},"".concat(e.method,"-link"))))),Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(k.path),children:k.name},"".concat(k.path,"-link")),Object(d.jsx)("span",{className:"feature-smartapp__menu-title",children:"Client methods"}),L.map((e=>e.method===f.OPEN_CLIENT_SETTINGS?Object(d.jsx)("div",{className:"feature-smartapp__menu-item",onClick:l,children:e.name}):Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(e.method),children:e.name},"".concat(e.method,"-link")))),Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(y.method),children:y.name},"".concat(y.method,"-link")),Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(P.method),children:P.name},"".concat(P.method,"-link")),Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(R.method),children:R.name},"".concat(R.method,"-link")),Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(I.method),children:I.name},"".concat(I.method,"-link")),Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(U.method),children:U.name},"".concat(U.method,"-link")),Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(D.method),children:D.name},"".concat(D.method,"-link")),Object(d.jsx)(h.b,{className:"feature-smartapp__menu-item",to:"/".concat(w.method),children:w.name},"".concat(w.method,"-link"))]})]})})}),Object(d.jsx)(Qt,{})]})}a(139);function aa(e){let{result:t,status:a}=e;return Object(d.jsxs)("div",{className:"notifier",children:[Object(d.jsx)("span",{className:"notifier__text",children:t}),Object(d.jsxs)("span",{className:"notifier__text",children:["Status: ",a]})]})}function na(){const e=Object(r.d)(),t=Object(r.e)(xt),[a,c]=Object(n.useState)(!0),[l,s]=Object(n.useState)(null);return Object(n.useEffect)((()=>{a&&(c(!1),e(lt())),null===o.a||void 0===o.a||o.a.onReceive((t=>{let{type:a,payload:n}=t;if("object"===typeof n)switch(a){case E.SMARTAPP_RPC:s(n),setTimeout((()=>s(null)),3e3);break;case E.NOTIFICATION:e(tt(n));break;default:console.error({type:a,payload:n})}}))}),[e,a]),Object(d.jsxs)(d.Fragment,{children:[t&&Object(d.jsx)(u,{}),Object(d.jsx)(ta,{}),l&&Object(d.jsx)(aa,{...l})]})}var ca=a(33),la=a(61),sa=a(73),ra=a(51),ia=a(153);const oa={[Ut]:(e,t)=>{let{payload:a}=t;return{...e,topLoader:a}},[Dt]:(e,t)=>{let{payload:a}=t;return{...e,mainLoader:a}},[wt]:(e,t)=>{let{payload:a}=t;return{...e,redirectPath:a}}},da=Object(ia.a)(oa,{topLoader:!1,mainLoader:!1,redirectPath:""}),ua={[J]:(e,t)=>{let{payload:a}=t;return{...e,features:a}},[K]:(e,t)=>{let{payload:a}=t;return{...e,response:a}},[z]:e=>({...e,response:null}),[Y]:(e,t)=>{let{payload:a}=t;return{...e,staticFile:a}}},ja=Object(ia.a)(ua,{features:null,response:null,notifications:null,staticFile:null}),ba={[ye]:(e,t)=>{let{payload:a}=t;return{...e,attachments:[a]}},[Ae]:(e,t)=>{let{payload:a}=t;return{...e,attachments:[...a]}},[Ie]:(e,t)=>{let{payload:a}=t;return{...e,attachments:e.attachments.filter((e=>e.fileId!==a))}},[Pe]:e=>({...e,attachments:null}),[we]:(e,t)=>{let{payload:a}=t;return{...e,notifications:[a,...e.notifications]}},[He]:e=>({...e,notifications:[]}),[De]:(e,t)=>({...e,response:t}),[Fe]:e=>({...e,response:null}),[Me]:(e,t)=>{let{payload:a}=t;return{...e,meta:a}},[Ve]:(e,t)=>{let{payload:a}=t;return{...e,location:a}},[Xe]:(e,t)=>{let{payload:a}=t;return{...e,selfProfile:a}}},Oa=Object(ia.a)(ba,{attachments:null,response:null,meta:null,notifications:[],location:null,selfProfile:null}),ma=Object(ca.combineReducers)({ui:da,bot:ja,client:Oa,router:Object(i.b)(Gt)});var ha=a(6);function*pa(){try{yield Object(ha.d)(Ft(!0));const e=yield o.a.sendBotEvent(H);e&&(yield Object(ha.d)(Q(e.payload.result)))}catch(e){console.error("loadFeaturesSaga error",e)}finally{yield Object(ha.d)(Ft(!1))}}function*Ea(e){try{yield Object(ha.d)(Ft(!0));const t=yield null===o.a||void 0===o.a?void 0:o.a.sendBotEvent(e.payload);yield Object(ha.d)(ee(t))}catch(t){console.error("sendFeatureBotEventSaga error",t)}finally{yield Object(ha.d)(Ft(!1))}}function*_a(e){try{yield Object(ha.d)(Ft(!0));const t=yield null===o.a||void 0===o.a?void 0:o.a.sendBotEvent({method:_.ECHO_STATIC_FILE,params:{},files:[e.payload]});console.error(t),yield Object(ha.d)(te(t))}catch(t){console.error("echoStaticFileSaga error",t)}finally{yield Object(ha.d)(Ft(!1))}}function*fa(){try{var e;const t=yield null===o.a||void 0===o.a?void 0:o.a.sendClientEvent({method:N.UPLOAD_FILE,params:{type:""}});if(null===(e=t.payload)||void 0===e||!e.record)return;const a={...t.payload.record};yield Object(ha.d)(qe(a))}catch(t){console.error("uploadFileSaga error: ".concat(t))}}function va(e){let{payload:{type:t}}=e;return function*(){try{const e=yield null===o.a||void 0===o.a?void 0:o.a.sendClientEvent({method:N.UPLOAD_FILES,params:{type:t}});if(!e.payload.records.length)return;const a=e.payload.records;yield Object(ha.d)(Ye(a))}catch(e){console.error("uploadFilesSaga error: ".concat(e))}}()}function*Sa(){try{yield Object(ha.d)(Ht(!0));const e=yield Object(o.h)();e&&(yield Object(ha.d)(st(e)))}catch(e){console.error("uploadFileSaga error: ".concat(e))}finally{yield Object(ha.d)(Ht(!1))}}function*Na(){try{yield Object(ha.d)(Ht(!0));const e=yield Object(o.i)();e&&(yield Object(ha.d)(ot(e)))}catch(e){console.error("requestSelfProfileSaga error: ".concat(e))}finally{yield Object(ha.d)(Ht(!1))}}function*Ta(e){try{yield Object(ha.d)(Ht(!0));const t=yield null===o.a||void 0===o.a?void 0:o.a.sendClientEvent(e.payload);yield Object(ha.d)(et(t))}catch(t){console.error("sendExpressEventSaga error",t)}finally{yield Object(ha.d)(Ht(!1))}}function*xa(e){try{yield Object(ha.d)(Ht(!0));const t=yield Object(o.l)(e.payload);yield Object(ha.d)(et(t))}catch(t){console.error("sendMessageExpressEventSaga error",t)}finally{yield Object(ha.d)(Ht(!1))}}function*Ca(){try{var e;const a=yield Object(o.g)(300);var t;if(null===a||void 0===a||null===(e=a.payload)||void 0===e?void 0:e[g.field])null===o.a||void 0===o.a||null===(t=o.a.log)||void 0===t||t.call(o.a,{response:a}),yield Object(ha.d)(Lt("/".concat(g.method))),yield Object(ha.d)(nt(a));else Lt("/")}catch(a){console.error("sendExpressReadyEventSaga",a)}}function*ya(){try{yield Object(o.b)()}catch(e){console.error("closeSmartAppSaga error: ".concat(e))}}function ga(){return Object(ra.b)((e=>(null===o.a||void 0===o.a||o.a.onReceive((t=>e(t))),()=>{})))}function*Aa(){const e=yield Object(ha.b)(ga);for(;;){if((yield Object(ha.e)(e)).type===v.CLEAN_CACHE)yield Object(ha.b)(Ia)}}function*Ia(){const e=(yield navigator.serviceWorker.getRegistrations()).map((e=>e.unregister())),t=(yield caches.keys()).map((e=>caches.delete(e)));yield Promise.all([...e,...t]),localStorage.clear()}function*Pa(){yield Object(ha.a)([Aa()])}function*Ra(){yield Object(ha.a)([Object(ha.f)(X,pa),Object(ha.f)(q,Ea),Object(ha.f)(ke,_a),Object(ha.f)(Re,Ta),Object(ha.f)(Ue,xa),Object(ha.f)(Le,Ca),Object(ha.f)(Ce,fa),Object(ha.f)(ge,va),Object(ha.f)(Ge,Sa),Object(ha.f)(Be,Na),Object(ha.f)(Je,ya)])}var Ua=function*(){yield Object(ha.a)([Object(ha.c)(Ra),Object(ha.c)(Pa)])};a(141);s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(r.a,{store:function(){const e=Object(ra.a)(),t=Object(la.a)(Gt),a=Object(ca.createStore)(ma,void 0,Object(sa.composeWithDevTools)(Object(ca.applyMiddleware)(e,t)));return e.run(Ua).toPromise().catch((e=>console.error("Saga error",e))),a}(),children:Object(d.jsx)(i.a,{history:Gt,children:Object(d.jsx)(na,{})})})}),document.getElementById("root"))},72:function(e){e.exports=JSON.parse('{"a":"1.1.5"}')}},[[142,1,2]]]);
//# sourceMappingURL=main.2978a277.chunk.js.map