{"version":3,"sources":["components/ui/main-loader/MainLoader.tsx","redux/selectors/bot.ts","types/index.ts","constants.ts","helpers/index.ts","redux/actions/bot.ts","assets/plus.svg","assets/clear-input.svg","assets/file.svg","assets/copy.svg","components/ui/json-editor/JsonViewer.tsx","redux/actions/client.ts","redux/selectors/client.ts","assets/arrow-left.svg","assets/botx-icon.svg","components/ui/feature-page-header/FeaturePageHeader.tsx","containers/feature-page/FeaturePage.tsx","components/express-notifications/ExpressNotifications.tsx","redux/actions/ui.ts","components/meta-page/MetaPage.tsx","redux/selectors/ui.ts","redux/history.ts","components/scan-qr/ScanQR.tsx","components/scan-qr-page/ScanQRPage.tsx","components/open-file/OpenFile.tsx","components/open-web-page/OpenWebPage.tsx","components/request-location/RequestLocation.tsx","components/ui/json-viewer/JsonViewer.tsx","components/echo-static-file/EchoStaticFile.tsx","components/ui/version/Version.tsx","components/request-self-profile/RequestSelfProfile.tsx","components/close-smart-app/CloseSmartApp.tsx","components/file-proxy/FileProxy.tsx","components/connection-status/ConnectionIcon.tsx","components/connection-status/ConnectionStatus.tsx","components/create-deeplink/CreateDeeplink.tsx","components/ios-swipe-toggler/IosSwipeToggler.tsx","components/open-message/OpenMessage.tsx","components/client-storage/ClientStorage.tsx","components/handle-deeplink/HandleDeeplinkPage.tsx","components/search-phonebook/SearchPhonebookPage.tsx","components/locale/LocalePage.tsx","components/unread-counters/UnreadCounters.tsx","components/sync-request/PerfomanceChart.tsx","components/sync-request/HighLoad.tsx","components/sync-request/SyncRequestPage.tsx","components/layout-type/LayoutTypePage.tsx","containers/feature-smartapp/FeatureSmartapp.tsx","components/notifier/Notifier.tsx","components/Main.tsx","redux/reducers/ui.ts","redux/reducers/bot.ts","redux/reducers/client.ts","redux/reducers/index.ts","helpers/highload-tester.ts","redux/sagas/ui.ts","redux/sagas/bot.ts","redux/sagas/client.ts","redux/sagas/eventBus.ts","redux/sagas/index.ts","index.tsx","redux/configureStore.ts"],"names":["MainLoader","_jsxs","className","id","children","_jsx","getFeaturesMenu","createSelector","state","bot","features","getFeatureBotResponse","response","getStaticFile","staticFile","EventType","BotFeatureMethod","ExpressFeatureMethod","Methods","ExpressFeatureName","ClientEventMethod","InputId","InputLabel","InputType","EXPRESS_NOTIFICATION_FEATURE","method","name","OPEN_SMART_APP_META_FEATURE","field","OPEN_FILE_FEATURE","REQUEST_LOCATION","SCAN_QR_FEATURE","OPEN_WEB_PAGE_FEATURE","REQUEST_SELF_PROFILE_FEATURE","CLOSE_SMART_APP_FEATURE","FILE_PROXY","CONNECTION_STATUS","MENU_ITEM_MESSAGE_META","MENU_EVENT","params","text","CREATE_DEEPLINK","IOS_SWIPE","OPEN_CHAT_MESSAGE","CLIENT_STORAGE","HANDLE_DEEPLINK_FEATURE","SEARCH_PHONEBOOK","UNREAD_COUNTER_FEATURE","SYNC_REQUEST_FEATURE","LOCALE_FEATURE","LAYOUT_TYPE_FEATURE","INPUT_TYPE","INPUT_TEXT","INPUT_NUMBER","FILE_PICKER","ARRAY_UUID","UUID","EXPRESS_FEATURES","ADD_CONTACT","icon","uiElements","PHONE","label","type","NAME","GET_CONTACT","OPEN_CONTACT_CARD","USER_HUID","CREATE_PERSONAL_CHAT","HUID","OPEN_GROUP_CHAT","GROUP_CHAT_ID","OPEN_SMARTAPP","SMARTAPP_ID","SEND_MESSAGE","MESSAGE","SEND_BOT_COMMAND","BODY","DATA","OPEN_CLIENT_SETTINGS","GET_CHATS","FILTER","ECHO_STATIC_FILE_FEATURE","ECHO_STATIC_FILE","FILE","GUARANTEED_DELIVERY_FEATURE","ECHO","path","TEXT","PERF_TEST_COUNTER","HIGHLOAD_TEST_RPS_STEP","HIGHLOAD_TEST_MEASURE_INTERVAL","getFormInitialValues","reduce","acc","item","undefined","getQueryParam","param","URLSearchParams","window","location","search","get","LOAD_FEATURES","LOAD_FEATURES_SUCCESS","RESET_RESPONSE","SEND_FEATURE_BOT_EVENT","SEND_FEATURE_BOT_EVENT_SUCCESS","SET_STATIC_FILE","SEND_MENU_SYNC_EVENT","SEND_MENU_ASYNC_EVENT","SET_MENU_RESPONSE","loadFeatures","createAction","loadFeaturesSuccess","resetFeatures","sendFeatureBotEvent","botEvent","sendFeatureBotEventSuccess","setStaticFile","echoStaticFile","file","sendMenuSyncEvent","sendMenuAsyncEvent","setMenuResponse","_path","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgPlus","_ref","svgRef","title","titleId","props","xmlns","viewBox","fill","ref","fillRule","d","ForwardRef","SvgClearInput","transform","_g","SvgFile","width","height","x","y","rx","fontSize","fontWeight","SvgCopy","JsonViewer","container","useRef","botResponse","useEffect","editor","JSONEditor","current","mode","enableTransform","set","button","document","createElement","innerHTML","ReactDOMServer","renderToStaticMarkup","CopyIcon","addEventListener","obj","JSON","stringify","body","appendChild","select","execCommand","removeChild","copyToClipboardJson","setAttribute","menu","querySelector","insertBefore","destroy","UPLOAD_FILE","UPLOAD_FILE_SUCCESS","UPLOAD_FILES","UPLOAD_FILES_SUCCESS","REMOVE_FILE_SUCCESS","RESET_ATTACHMENTS","SEND_EXPRESS_EVENT","SEND_MESSAGE_EXPRESS_EVENT","SEND_EXPRESS_EVENT_SUCCESS","SET_EXPRESS_NOTIFICATION_SUCCESS","RESET_EXPRESS_NOTIFICATION_SUCCESS","RESET_EXPRESS_RESPONSE","SEND_EXPRESS_READY_EVENT","SET_META","SET_LOCATION","REQUEST_SELF_PROFILE","SET_SELF_PROFILE","CLOSE_SMART_APP","GET_CONNECTION_STATUS","SET_CONNECTION_STATUS","SUBSCRIBE_CONNECTION_STATUS","UNSUBSCRIBE_CONNECTION_STATUS","CONNECTION_STATUS_CHANGED","SET_DEEPLINK_URL","CLIENT_STORAGE_SET","CLIENT_STORAGE_GET","CLIENT_STORAGE_LOADED","CLIENT_STORAGE_REMOVE","CLIENT_STORAGE_CLEAR","HANDLE_DEEPLINK","SEARCH_CORPORATE_PHONEBOOK","SEARCH_LOCAL_PHONEBOOK","GET_UNREAD_COUNTER","SET_UNREAD_COUNTER","SUBSCRIBE_UNREAD_COUNTER","UNSUBSCRIBE_UNREAD_COUNTER","GET_LAYOUT_TYPE","SET_LAYOUT_TYPE","SUBSCRIBE_LAYOUT_TYPE","UNSUBSCRIBE_LAYOUT_TYPE","uploadFile","uploadFileSuccess","uploadFiles","uploadFilesSuccess","files","removeFileSuccess","resetAttachments","sendExpressEvent","expressEvent","sendMessageExpressEvent","payload","sendExpressEventSuccess","setExpressNotificationSuccess","notification","resetExpressNotificationSuccess","setMeta","meta","resetExpressResponse","sendReadyEvent","setLocation","requestLocation","requestSelfProfile","setSelfProfile","selfProfile","closeSmartApp","getConnectionStatus","setConnectionStatus","connectionStatus","subscribeConnectionStatus","unsubscribeConnectionStatus","subscribeUnreadCounter","unsubscribeUnreadCounter","connectionStatusChanged","createDeeplink","appId","setDeeplinkUrl","deeplinkUrl","openChatMessage","groupChatId","syncId","clientStorageSet","value","clientStorageGet","clientStorageLoaded","storageData","clientStorageRemove","clientStorageClear","handleDeeplink","deeplink","searchCorporatePhonebook","filter","searchLocalPhonebook","getUnreadCounter","setUnreadCounter","counter","getLayoutType","setLayoutType","layoutType","subscribeLayoutType","unsubscribeLayoutType","getAttachments","client","attachments","getExpressResponse","getMeta","getLocation","getExpressNotifications","notifications","getSelfProfile","SvgArrowLeft","FeaturePageHeader","Link","to","ArrowLeft","FeaturePage","dispatch","useDispatch","useSelector","expressResponse","inputs","setInputs","useState","inputError","setInputError","isJSONViewer","setIsJSONViewer","isAllowNewInputs","SEARCH_USERS","isFilesMethod","ECHO_FILE","ECHO_FILES","includes","isUsersMethod","isExpressMethod","values","handleClickPlus","last","next","HUIDS","concat","handleFilesSubmit","handleFormSubmitForExpressMethod","async","formValues","filterFormValues","userHuid","message","messageBody","messageMeta","handleSendMessage","openClientSettings","chats","getChats","handleGetChats","openGroupChat","handleOpenGroupChat","result","sendBotCommand","data","command","handleSendBotCommand","openContactCard","handleOpenContactCard","handleDefault","useMemo","handleFormSubmitForBotMethod","event","guaranteed_delivery_required","handleEchoWithGuaranteedDelivery","huids","handleUploadFilesClick","toggleIsJSONViewer","formik","useFormik","initialValues","onSubmit","getIsSubmitButtonDisabled","map","input","index","_Fragment","FILES","onClick","attachment","idx","fileName","RemoveIcon","handleRemoveFile","fileId","classnames","disabled","renderTextMethodComponent","getIsInputError","_ref2","isNotEmpty","uuid","test","phone","handleSubmit","_ref3","inputType","isShowLabel","onChange","handleChange","multiple","pattern","min","setFieldValue","PlusIcon","renderBotResponse","_botResponse$payload","_response$replaceAll","_response$replaceAll3","_botResponse$files","ReactMarkdown","replaceAll","FileIcon","SvgBotxIcon","ExpressNotifications","expressNotifications","handleClear","SET_MAIN_LOADER","SET_REDIRECT_PATH","SET_SHOW_IOS_SWIPE_TOAST","TOGGLE_PERFORMANCE_TEST","SET_PERFORMANCE_TEST_PROGRESS","TOGGLE_HIGHLOAD_TEST","SET_HIGHLOAD_TEST_PROGRESS","setMainLoader","mainLoader","setRedirectPath","redirectPath","setShowIosSwipeToast","showIosSwipeToast","togglePerformanceTest","setPerformanceTestProgress","progress","results","toggleHighloadTest","setHighloadTestProgress","requestRps","responseRps","responseTimeAvg","MetaPage","JsonViewerEditor","getMainLoader","ui","getRedirectPath","getHighloadTestRunning","highloadTest","running","history","createHashHistory","ScanQR","onScanSuccess","onScanFailure","config","fps","qrbox","disableFlip","Html5QrcodeScanner","render","ScanQRPage","decodedText","setDecodedText","decodedResult","setDecodedResult","handleOnScanSuccess","console","log","err","warn","OpenFile","inputValue","setInputValue","e","handleClick","error","parse","bridge","sendClientEvent","OpenWebPage","webUrl","setWebUrl","mailUrl","setMailUrl","defaultValue","href","RequestLocation","useLayoutEffect","checked","json","EchoStaticFile","_attachments$","_botResponse$payload$","_botResponse$payload$2","_staticFile$payload","src","alt","Version","version","RequestSelfProfile","CloseSmartApp","FileProxy","url","setUrl","videoUrl","setVideoUrl","classNames","autoPlay","controls","style","margin","ConnectionIcon","ConnectionStatus","subscribedConnectionStatus","handleGetConnectionStatus","handleSubscribeConnectionStatus","handleUnsubscribeConnectionStatus","initMeta","CreateDeeplink","setAppId","metaJson","setMetaJson","rows","IosSwipeToggler","handleToggle","htmlFor","OpenMessage","setGroupChatId","setSyncId","initData","string1","number1","boolean1","null1","array1","object1","param1","ClientStorage","dataToSave","setData","setKey","handleKeyChange","handleSet","handleGet","handleRemove","HandleDeeplinkPage","setDeeplink","SearchPhonebookPage","setFilter","handleCorpSearch","handleLocalSearch","LocalePage","locale","setLocale","TYPES","UnreadCountersPage","setId","setType","unreadCounter","t","toString","handleGetUnreadCounter","handleSubscribe","handleUnsubscribe","PerfomanceChart","chartObj","setChartObj","createSerie","chart","attr","color","series","push","am5xy","new","root","xAxis","xAxes","getIndex","yAxis","yAxes","valueYField","categoryXField","clustered","tooltip","am5","setAll","createRanges","axisRanges","removeIndex","forEach","avg","filtered","row","parseInt","calcAvg","createRange","makeDataItem","range","createAxisRange","stroke","strokeOpacity","strokeDasharray","strokeWidth","inside","centerX","dx","background","fillOpacity","adapters","add","plotContainer","onPrivate","markDirtyPosition","theme","am5themes_Animated","rule","setThemes","layout","verticalLayout","paddingRight","renderer","cellStartLocation","cellEndLocation","categoryField","dispose","HighLoad","handleToggleHighLoadTest","SyncRequestPage","performanceTest","menuResponse","handleTogglePerformanceTest","handleSendSyncEvent","handleSendAsyncEvent","LayoutTypePage","FeatureSmartapp","botFeatures","platform","useQuery","handleOpenClientSettings","alert","preventDefault","BotxIcon","ToastContainer","HashRouter","Switch","Route","Notifier","status","Main","isMainLoader","load","setLoad","notifier","setNotifier","onReceive","SMARTAPP_RPC","setTimeout","NOTIFICATION","initialState","reducers","_ref4","perf","_ref5","_ref6","highload","_ref7","handleActions","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","rootReducer","combineReducers","router","connectRouter","HighloadTester","constructor","interval","totalResponseCount","totalRequestCount","totalRequestsTime","intervalCallback","tsStart","Date","getTime","Bridge","sendBotEvent","sync_request","then","tsEnd","catch","stop","clearInterval","start","rps","delay","setInterval","getMetrics","performanceTestTask","loadFeaturesSaga","put","showToast","toastOptions","position","autoClose","toast","info","performanceIterationSaga","isSync","ts1","performanceTestSaga","iteration","sync","eventNumber","Math","ceil","togglePerformanceTestSaga","cancel","spawn","toggleHighloadTestSaga","targetRequestRps","prevMetrics","tester","currMetrics","requestCount","sendFeatureBotEventSaga","action","echoStaticFileSaga","sendMenuSyncEventSaga","sendMenuAsyncEventSaga","connectionStatusChannel","unreadCounterChannels","layoutTypeChannel","uploadFileSaga","_response$payload","record","uploadFilesSaga","timeout","records","requestLocationSaga","requestSelfProfileSaga","sendExpressEventSaga","sendMessageExpressEventSaga","sendMessage","sendExpressReadyEventSaga","_response$payload2","_response$payload3","ready","initialData","_bridge$log","initiator","closeSmartAppSaga","getConnectionStatusSaga","addConnectionEventListener","eventChannel","emitter","connectionStatusCallback","subscribeClientEvents","eventType","SubscriptionEventType","callback","unsubscribeClientEvents","subscribeConnectionStatusSaga","take","unsubscribeConnectionStatusSaga","close","createDeeplinkSaga","_response$payload$dat","openChatMessageSaga","clientStorageSetSaga","STATUS","SUCCESS","errorCode","clientStorageGetSaga","clientStorageRemoveSaga","_response$payload4","clientStorageClearSaga","handleDeeplinkSaga","link","searchCorporatePhonebookSaga","searchLocalPhonebookSaga","getUnreadCounterSaga","ERROR","addUreadCounterEventListener","unreadCounterCallback","UNREAD_COUNTER_CHANGE","unsubscribeUnreadCounterSaga","subscribeUnreadCounterSaga","channel","find","c","indexOf","splice","getLayoutTypeSaga","addLayoutTypeListener","layoutTypeCallback","LAYOUT_TYPE","subscribeLayoutTypeSaga","unsubscribeLayoutTypeSaga","emit","watchClientEvents","CLEAN_CACHE","MOVE_TO_ROOT","BACK_PRESSED","hash","subscribeHistoryEvents","listen","watchHistoryEvents","handleRoutingChanged","isRoot","pathname","routingChanged","rootEventsBusSaga","all","rootFeatureSmartAppSaga","takeEvery","rootSaga","fork","setupTheme","documentElement","ReactDOM","React","StrictMode","Provider","store","sagaMiddleware","createSagaMiddleware","routerMiddleware","createRouterMiddleware","createStore","composeWithDevTools","applyMiddleware","run","toPromise","configureStore","ConnectedRouter","getElementById"],"mappings":"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","file":"static/js/main.80a2768d.chunk.js","sourcesContent":["import React from 'react'\nimport './MainLoader.scss'\n\nexport default function MainLoader() {\n  return (\n    <div className='main-loader' id='main-loader'>\n      <div className='main-loader__spinner'>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n      <input className='main-loader__fake-input' id=\"main-loader-input\" />\n    </div>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getFeaturesMenu = createSelector(\n  [(state: AppState) => state.bot.features],\n  features => features,\n)\n\nexport const getFeatureBotResponse = createSelector(\n  [(state: AppState) => state.bot.response],\n  response => response,\n)\n\nexport const getStaticFile = createSelector(\n  [(state: AppState) => state.bot.staticFile],\n  staticFile => staticFile,\n)\n","import { RouterState } from 'connected-react-router'\n\nexport enum EventType {\n  SMARTAPP_RPC = 'smartapp_rpc',\n  NOTIFICATION = 'notification',\n}\n\nexport enum BotFeatureMethod {\n  ECHO = 'echo',\n  UPDATE_APP_COUNTER = 'update_app_counter',\n  SEND_NOTIFICATION = 'send_notification',\n  ECHO_FILE = 'echo_file',\n  ECHO_FILES = 'echo_files',\n  ECHO_STATIC_FILE = 'echo_static_file',\n  SEARCH_USERS = 'search_users',\n}\n\nexport enum ExpressFeatureMethod {\n  ADD_CONTACT = 'add_contact',\n  CREATE_PERSONAL_CHAT = 'create_personal_chat',\n  SEND_MESSAGE = 'send_message',\n  GET_CONTACT = 'get_contact',\n  OPEN_SMARTAPP = 'open_smart_app',\n  OPEN_CLIENT_SETTINGS = 'open_client_settings',\n  GET_CHATS = 'get_chats',\n  OPEN_GROUP_CHAT = 'open_group_chat',\n  SEND_BOT_COMMAND = 'send_bot_command',\n  OPEN_CONTACT_CARD = 'open_contact_card',\n}\n\nexport enum Methods {\n  BACK_PRESSED = 'back_pressed',\n  ROUTING_CHANGED = 'routing_changed',\n  CLEAN_CACHE = 'clean_cache',\n  MOVE_TO_ROOT = 'move_to_root',\n  IOS_SWIPE = 'ios_swipe',\n}\n\nexport enum Path {\n  ROOT = 'root',\n  NESTED = 'nested',\n}\n\nexport enum ExpressFeatureName {\n  ADD_CONTACT = 'Add Contact',\n  CREATE_PERSONAL_CHAT = 'Create Personal Chat',\n  SEND_MESSAGE = 'Send Message to Group Chat or User',\n  GET_CONTACT = 'Get Contact',\n  OPEN_SMARTAPP = 'Open SmartApp',\n  OPEN_CLIENT_SETTINGS = 'Open Client Settings',\n  GET_CHATS = 'Get Chats',\n  OPEN_GROUP_CHAT = 'Open Group Chat',\n  SEND_BOT_COMMAND = 'Send Bot Command',\n  OPEN_CONTACT_CARD = 'Open Contact Card',\n}\n\nexport enum ClientEventMethod {\n  UPLOAD_FILE = 'upload_file',\n  UPLOAD_FILES = 'upload_files',\n}\n\nexport type GeneratorFunction = Generator<any, any, any>\n\nexport interface AppEvent {\n  ref?: string | null,\n  type: string,\n  payload: any,\n  files: any[] | null,\n}\n\nexport interface BotEvent {\n  method: BotFeatureMethod | 'menu'\n  params: any\n  files?: File[]\n  timeout?: number\n}\n\nexport interface ExpressEvent {\n  method: ExpressFeatureMethod\n  params: any\n}\n\nexport interface SendMessageActionPayload {\n  userHuid: string | null\n  groupChatId: string | null\n  messageBody: string\n  messageMeta?: {}\n}\n\nexport enum InputId {\n  TEXT = 'text',\n  COUNT = 'count',\n  DELAY = 'delay',\n  FILE = 'file',\n  FILES = 'files',\n  HUIDS = 'huids',\n  PHONE = 'phone',\n  NAME = 'name',\n  HUID = 'huid',\n  SMARTAPP_ID = 'appId',\n  MESSAGE = 'message',\n  GROUP_CHAT_ID = 'groupChatId',\n  USER_HUID = 'userHuid',\n  FILTER = 'filter',\n  BODY = 'body',\n  DATA = 'data',\n}\n\nexport enum InputLabel {\n  TEXT = 'Text',\n  COUNT = 'Count',\n  DELAY = 'Delay',\n  FILE = 'File',\n  FILES = 'Files',\n  HUIDS = 'Huids',\n  PHONE = 'Phone',\n  NAME = 'Name',\n  HUID = 'Huid',\n  SMARTAPP_ID = 'Smartapp ID',\n  MESSAGE = 'Message',\n  GROUP_CHAT_ID = 'Group chat id',\n  USER_HUID = 'User huid',\n  FILTER = 'Filter',\n  BODY = 'Body',\n  DATA = 'Data',\n}\n\nexport enum InputType {\n  INPUT_TEXT = 'INPUT_TEXT',\n  INPUT_NUMBER = 'INPUT_NUMBER',\n  FILE_PICKER = 'FILE_PICKER',\n  ARRAY_UUID = 'ARRAY_UUID',\n  UUID = 'UUID',\n}\n\nexport interface Input {\n  id: InputId | string\n  label: InputLabel\n  type: InputType\n}\n\nexport interface BotFeature {\n  method: BotFeatureMethod\n  name: string\n  uiElements: Input[]\n  icon?: string\n}\n\nexport type ExpressFeature = BotFeature | {\n  method: ExpressFeatureMethod\n  name: ExpressFeatureName\n  uiElements: Input[]\n  icon?: string\n}\n\nexport type BotFeatures = BotFeature[] | null\n\nexport interface BotMethodResponse {\n  type: EventType.SMARTAPP_RPC | string\n  files: File[]\n  payload: {\n    result: string\n    status: 'ok' | 'error'\n  }\n}\n\nexport type BotFeaturesResponse = BotMethodResponse & {\n  payload: {\n    result: BotFeature[]\n  }\n}\n\nexport interface ExpressMethodResponse {\n  ref?: string\n  payload: any\n}\n\nexport interface ExpressNotification {\n  ref: null\n  type: 'notification'\n  data: object\n}\n\nexport interface File {\n  type?: string\n  file?: string\n  fileMimeType?: string\n  fileName?: string\n  filePreview?: string\n  filePreviewHeight?: number\n  filePreviewWidth?: number\n  fileSize: number\n  fileHash?: string\n  fileEncryptionAlgo?: string\n  chunkSize?: number\n  fileId?: any\n  key?: object\n}\n\nexport interface Location {\n  latitude: string | null\n  longitude: string | null\n  timestamp: string | null\n}\n\nexport interface SelfProfile {\n  userHuid: string,\n  name: string,\n  avatar: string | null,\n  avatarPreview: string | null,\n  company: string | null,\n  department: string | null,\n  office: string | null,\n  manager: string | null,\n  managerHuid: string | null,\n  email: string | null,\n  phone: string | null,\n  description: string | null,\n  otherPhone: string | null,\n  ip_phone: string | null,\n  otherIpPhone: string | null,\n}\n\n\nexport interface PerformanceResult {\n  sync: number\n  async: number\n  eventNumber: string\n}\n\nexport interface UIState {\n  mainLoader: boolean\n  redirectPath: string\n  theme: string\n  showIosSwipeToast: boolean\n  performanceTest: {\n    running: boolean\n    results: Array<PerformanceResult>\n    progress: number\n  },\n  highloadTest: {\n    running: boolean\n    requestRps: number\n    responseRps: number\n    responseTimeAvg: number\n    progress: number\n  }\n}\n\nexport interface BotState {\n  features: BotFeatures\n  response: BotMethodResponse | null\n  notifications: BotMethodResponse[] | null\n  staticFile: object\n  menuResponse: object | null\n}\n\nexport interface ClientState {\n  attachments: File[] | null\n  response: ExpressMethodResponse | null\n  meta: ExpressMethodResponse | null\n  notifications: ExpressNotification[] | null\n  location: Location | null\n  selfProfile: SelfProfile | null\n  connectionStatus: string | null\n  subscribedConnectionStatus: string | null\n  deeplinkUrl: string | null\n  storageData: any\n  unreadCounter: number\n  layoutType: string | null\n}\n\nexport interface AppState {\n  ui: UIState\n  bot: BotState\n  client: ClientState\n  router: RouterState\n}\n","import {\n  BotFeature,\n  BotFeatureMethod,\n  ExpressFeature,\n  ExpressFeatureMethod,\n  ExpressFeatureName,\n  InputId,\n  InputLabel,\n  InputType,\n} from './types'\n\nexport const EXPRESS_NOTIFICATION_FEATURE = {\n  method: 'notification',\n  name: 'Express Notification',\n}\n\nexport const OPEN_SMART_APP_META_FEATURE = {\n  name: 'App Meta',\n  method: 'open_smart_meta_app',\n  field: 'openSmartAppMeta',\n}\n\nexport const OPEN_FILE_FEATURE = {\n  name: 'Open File',\n  method: 'open_file',\n}\n\nexport const REQUEST_LOCATION = {\n  name: 'Request Location',\n  method: 'request_location',\n}\n\nexport const SCAN_QR_FEATURE = {\n  name: 'Scan QR',\n  method: 'scan_qr',\n}\n\nexport const OPEN_WEB_PAGE_FEATURE = {\n  name: 'Open Web Page',\n  method: 'open-web-page',\n}\n\nexport const REQUEST_SELF_PROFILE_FEATURE = {\n  name: 'Request self profile',\n  method: 'request-self-profile',\n}\n\nexport const CLOSE_SMART_APP_FEATURE = {\n  name: 'Close SmartApp',\n  method: 'close-smartapp',\n}\n\nexport const FILE_PROXY = {\n  name: 'File proxy',\n  method: 'file-proxy',\n}\n\nexport const CONNECTION_STATUS = {\n  name: 'Connection status',\n  method: 'connection-status',\n}\n\nexport const MENU_ITEM_MESSAGE_META = {\n  name: 'Message meta from menu action',\n  method: 'menu-item-message-meta',\n}\n\nexport const MENU_EVENT: any = {\n  method: 'menu',\n  params: {\n    text: 'menu',\n  },\n}\n\nexport const CREATE_DEEPLINK = {\n  name: 'Create deeplink',\n  method: 'create-deeplink',\n}\n\nexport const IOS_SWIPE = {\n  method: 'ios-swipe',\n  name: 'iOS Swipe',\n}\n\nexport const OPEN_CHAT_MESSAGE = {\n  name: 'Open chat message',\n  method: 'open-chat-message',\n}\n\nexport const CLIENT_STORAGE = {\n  name: 'Client storage',\n  method: 'client-storage',\n}\n\nexport const HANDLE_DEEPLINK_FEATURE = {\n  name: 'Handle deeplink',\n  method: 'handle-deeplink',\n}\n\nexport const SEARCH_PHONEBOOK = {\n  name: 'Search phonebook',\n  method: 'search-phonebook',\n}\n\nexport const UNREAD_COUNTER_FEATURE = {\n  name: 'Unread counters',\n  method: 'unread-counters',\n}\n\nexport const SYNC_REQUEST_FEATURE = {\n  name: 'Sync request',\n  method: 'sync-request',\n}\n\nexport const LOCALE_FEATURE = {\n  name: 'Locale',\n  method: 'locale',\n}\n\nexport const LAYOUT_TYPE_FEATURE = {\n  name: 'Layout size (Web)',\n  method: 'layout-type',\n}\n\n\nexport const INPUT_TYPE: Record<InputType, string> = {\n  INPUT_TEXT: 'text',\n  INPUT_NUMBER: 'number',\n  FILE_PICKER: 'file',\n  ARRAY_UUID: 'text',\n  UUID: 'text',\n}\n\n\nexport const EXPRESS_FEATURES: ExpressFeature[] = [\n  {\n    method: ExpressFeatureMethod.ADD_CONTACT,\n    name: ExpressFeatureName.ADD_CONTACT,\n    icon: \"perm_contact_calendar\",\n    uiElements: [\n      {\n        id: InputId.PHONE,\n        label: InputLabel.PHONE,\n        type: InputType.INPUT_TEXT,\n      },\n      {\n        id: InputId.NAME,\n        label: InputLabel.NAME,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.GET_CONTACT,\n    name: ExpressFeatureName.GET_CONTACT,\n    icon: \"perm_contact_calendar\",\n    uiElements: [\n      {\n        id: InputId.PHONE,\n        label: InputLabel.PHONE,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_CONTACT_CARD,\n    name: ExpressFeatureName.OPEN_CONTACT_CARD,\n    icon: \"perm_contact_calendar\",\n    uiElements: [\n      {\n        id: InputId.USER_HUID,\n        label: InputLabel.USER_HUID,\n        type: InputType.UUID,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.CREATE_PERSONAL_CHAT,\n    name: ExpressFeatureName.CREATE_PERSONAL_CHAT,\n    icon: \"chat_bubble_outline\",\n    uiElements: [\n      {\n        id: InputId.HUID,\n        label: InputLabel.HUID,\n        type: InputType.UUID,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_GROUP_CHAT,\n    name: ExpressFeatureName.OPEN_GROUP_CHAT,\n    icon: \"mark_chat_unread\",\n    uiElements: [\n      {\n        id: InputId.GROUP_CHAT_ID,\n        label: InputLabel.GROUP_CHAT_ID,\n        type: InputType.UUID,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_SMARTAPP,\n    name: ExpressFeatureName.OPEN_SMARTAPP,\n    icon: \"open_in_browser\",\n    uiElements: [\n      {\n        id: InputId.SMARTAPP_ID,\n        label: InputLabel.SMARTAPP_ID,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.SEND_MESSAGE,\n    name: ExpressFeatureName.SEND_MESSAGE,\n    icon: \"send\",\n    uiElements: [\n      {\n        id: InputId.MESSAGE,\n        label: InputLabel.MESSAGE,\n        type: InputType.INPUT_TEXT,\n      },\n      {\n        id: InputId.GROUP_CHAT_ID,\n        label: InputLabel.GROUP_CHAT_ID,\n        type: InputType.UUID,\n      },\n      {\n        id: InputId.USER_HUID,\n        label: InputLabel.USER_HUID,\n        type: InputType.UUID,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.SEND_BOT_COMMAND,\n    name: ExpressFeatureName.SEND_BOT_COMMAND,\n    icon: \"send\",\n    uiElements: [\n      {\n        id: InputId.USER_HUID,\n        label: InputLabel.USER_HUID,\n        type: InputType.UUID,\n      },\n      {\n        id: InputId.BODY,\n        label: InputLabel.BODY,\n        type: InputType.INPUT_TEXT,\n      },\n      {\n        id: InputId.DATA,\n        label: InputLabel.DATA,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n  {\n    method: ExpressFeatureMethod.OPEN_CLIENT_SETTINGS,\n    name: ExpressFeatureName.OPEN_CLIENT_SETTINGS,\n    icon: \"settings\",\n    uiElements: [],\n  },\n  {\n    method: ExpressFeatureMethod.GET_CHATS,\n    name: ExpressFeatureName.GET_CHATS,\n    icon: \"chat_bubble_outline\",\n    uiElements: [\n      {\n        id: InputId.FILTER,\n        label: InputLabel.FILTER,\n        type: InputType.INPUT_TEXT,\n      },\n    ],\n  },\n]\n\nexport const ECHO_STATIC_FILE_FEATURE: BotFeature = {\n  name: 'Echo static file',\n  method: BotFeatureMethod.ECHO_STATIC_FILE,\n  uiElements: [{\n    id: InputId.FILE,\n    type: InputType.FILE_PICKER,\n    label: InputLabel.FILE,\n  }]\n}\n\nexport const GUARANTEED_DELIVERY_FEATURE: BotFeature & { path: string } = {\n  name: 'Echo with guaranteed delivery',\n  method: BotFeatureMethod.ECHO,\n  path: 'guaranteed-delivery',\n  uiElements: [{\n    id: InputId.TEXT,\n    type: InputType.INPUT_TEXT,\n    label: InputLabel.TEXT,\n  }]\n}\n\nexport const PERF_TEST_COUNTER = 10\nexport const HIGHLOAD_TEST_RPS_STEP = 1\nexport const HIGHLOAD_TEST_MEASURE_INTERVAL = 5000","import { Input } from '../types'\nimport parseISO from 'date-fns/parseISO'\nimport ru from 'date-fns/locale/ru'\nimport format from 'date-fns/format'\n\nexport interface FormValues {\n  [key: string]: string | undefined\n}\n\nexport const getFormInitialValues: (uiElements: Input[]) => FormValues = uiElements => {\n  return uiElements?.reduce((acc: FormValues, item) => {\n    acc[item.id] = undefined\n    return acc\n  }, {})\n}\n\nexport const dateFormat = (timestamp: string) => {\n  if (timestamp) {\n    let toISODate = parseISO(timestamp)\n    return format(toISODate, 'EEEE d LLLL y - H:mm', {\n      locale: ru,\n    })\n  }\n}\n\nexport const getQueryParam = (param: string) => {\n  const urlParams = new URLSearchParams(window.location.search)\n  return urlParams.get(param)\n}\n\nexport const setupTheme = () => {\n  const theme = getQueryParam('theme') || 'default'\n\n  document.documentElement.setAttribute('theme', theme)\n}\n","import { createAction } from 'redux-actions'\nimport { BotEvent, BotFeatures, BotMethodResponse, ExpressMethodResponse, File } from '../../types'\n\nexport const LOAD_FEATURES = 'LOAD_FEATURES'\nexport const LOAD_FEATURES_SUCCESS = 'LOAD_FEATURES_SUCCESS'\nexport const RESET_RESPONSE = 'RESET_RESPONSE'\nexport const SEND_FEATURE_BOT_EVENT = 'SEND_FEATURE_BOT_EVENT'\nexport const SEND_FEATURE_BOT_EVENT_SUCCESS = 'SEND_FEATURE_BOT_EVENT_SUCCESS'\nexport const SET_STATIC_FILE = 'SET_STATIC_FILE'\nexport const ECHO_STATIC_FILE = 'ECHO_STATIC_FILE'\nexport const SEND_MENU_SYNC_EVENT = 'SEND_MENU_SYNC_EVENT'\nexport const SEND_MENU_ASYNC_EVENT = 'SEND_MENU_ASYNC_EVENT'\nexport const SET_MENU_RESPONSE = 'SET_MENU_RESPONSE'\n\nexport const loadFeatures = createAction(LOAD_FEATURES, () => {\n})\nexport const loadFeaturesSuccess = createAction(LOAD_FEATURES_SUCCESS, (features: BotFeatures) => features)\nexport const resetFeatures = createAction(RESET_RESPONSE, () => {\n})\nexport const sendFeatureBotEvent = createAction(SEND_FEATURE_BOT_EVENT, (botEvent: BotEvent) => botEvent)\nexport const sendFeatureBotEventSuccess = createAction(\n  SEND_FEATURE_BOT_EVENT_SUCCESS,\n  (response: BotMethodResponse | ExpressMethodResponse | null) => response,\n)\nexport const setStaticFile = createAction(SET_STATIC_FILE, (staticFile: any) => staticFile)\nexport const echoStaticFile = createAction(ECHO_STATIC_FILE, (file: File) => file)\nexport const sendMenuSyncEvent = createAction(SEND_MENU_SYNC_EVENT)\nexport const sendMenuAsyncEvent = createAction(SEND_MENU_ASYNC_EVENT)\nexport const setMenuResponse = createAction(SET_MENU_RESPONSE, (response: object) => response)\n\nexport type loadFeaturesSuccessActionType = ReturnType<typeof loadFeaturesSuccess>\nexport type sendFeatureBotEventSuccessActionType = ReturnType<typeof sendFeatureBotEventSuccess>\nexport type setStaticFileActionType = ReturnType<typeof setStaticFile>\nexport type setMenuResponseActionType = ReturnType<typeof setMenuResponse>\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgPlus(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M13 11V4h-2v7H4v2h7v7h2v-7h7v-2h-7z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.97a40cd5.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgClearInput(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 11V3h-2v8H3v2h8v8h2v-8h8v-2h-8z\",\n    transform: \"rotate(45 12 12)\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgClearInput);\nexport default __webpack_public_path__ + \"static/media/clear-input.6a69fb5e.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgFile(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 22 26\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    transform: \"translate(-1)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#595959\",\n    d: \"M5 0C3.73 0 2.44 1.225 2.5 2.407V22.63c-.06 1.784 1.23 3.007 2.5 2.89h15c1.71.117 3-1.106 3-2.89V6.26L16 0H5zm0 24.556c-.298-.117-1.298-.59-1.5-1.445V2.41C3.702 2.148 4.702 1.2 5 .963h10.5v3.852c.01 1.467.903 2.315 2 1.926H22v15.89c-.262.864-.76 1.81-2 1.928H5z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 18.5,\n    height: 9.148,\n    x: 1,\n    y: 12.519,\n    fill: \"#5C5C5C\",\n    rx: 2\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    fill: \"#FFF\",\n    fontSize: 5.5,\n    fontWeight: 600\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 4.302,\n    y: 19\n  }, \"\\n        FILE\\n      \")))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgFile);\nexport default __webpack_public_path__ + \"static/media/file.1a445bcf.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCopy(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M10.667.667h-8c-.734 0-1.334.6-1.334 1.333v9.333h1.334V2h8V.667zm2 2.666H5.333C4.6 3.333 4 3.933 4 4.667V14c0 .733.6 1.333 1.333 1.333h7.334c.733 0 1.333-.6 1.333-1.333V4.667c0-.734-.6-1.334-1.333-1.334zm0 10.667H5.333V4.667h7.334V14z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCopy);\nexport default __webpack_public_path__ + \"static/media/copy.55b37fcd.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useRef } from 'react'\nimport ReactDOMServer from 'react-dom/server'\nimport { ReactComponent as CopyIcon } from '../../../assets/copy.svg'\nimport JSONEditor from 'jsoneditor'\nimport 'jsoneditor/dist/jsoneditor.min.css'\nimport './JsonViewer.scss'\n\nexport default function JsonViewer(props) {\n  const container = useRef(null)\n  const botResponse = props?.botResponse\n\n  const copyToClipboardJson = obj => {\n    const container = document.createElement('textarea')\n\n    container.innerHTML = JSON.stringify(obj, null, '  ')\n    document.body.appendChild(container)\n\n    container.select()\n    document.execCommand('copy')\n    document.body.removeChild(container)\n  }\n\n  useEffect(() => {\n    const editor = new JSONEditor(container.current, { mode: 'view', enableTransform: true })\n\n    if (botResponse) editor.set(botResponse)\n\n    const button = document.createElement('button')\n    button.className = 'copy-to-clipboard'\n    button.innerHTML = ReactDOMServer.renderToStaticMarkup(<CopyIcon height='22' width='22' />)\n    button.addEventListener('click', () => copyToClipboardJson(botResponse))\n    button.setAttribute('title', 'Copy To Clipboard')\n\n    const menu = document.querySelector('.jsoneditor-menu')\n    const search = document.querySelector('.jsoneditor-menu .jsoneditor-search')\n\n    menu.insertBefore(button, search)\n\n    return () => editor.destroy()\n  }, [botResponse])\n\n  return <div className='json-viewer' ref={container} />\n}\n","import { createAction } from 'redux-actions'\nimport {\n  ExpressEvent,\n  ExpressMethodResponse,\n  ExpressNotification,\n  File,\n  Location,\n  SelfProfile,\n  SendMessageActionPayload,\n} from '../../types'\nimport { SubscriptionPayload } from '@expressms/smartapp-sdk/build/main/types'\nimport { StorageValueType } from '@expressms/smartapp-sdk/build/main/types'\n\nexport const UPLOAD_FILE = 'UPLOAD_FILE'\nexport const UPLOAD_FILE_SUCCESS = 'UPLOAD_FILE_SUCCESS'\nexport const UPLOAD_FILES = 'UPLOAD_FILES'\nexport const UPLOAD_FILES_SUCCESS = 'UPLOAD_FILES_SUCCESS'\nexport const REMOVE_FILE = 'REMOVE_FILE'\nexport const REMOVE_FILE_SUCCESS = 'REMOVE_FILE_SUCCESS'\nexport const RESET_ATTACHMENTS = 'RESET_ATTACHMENTS'\nexport const SEND_EXPRESS_EVENT = 'SEND_EXPRESS_EVENT'\nexport const SEND_MESSAGE_EXPRESS_EVENT = 'SEND_MESSAGE_EXPRESS_EVENT'\nexport const SEND_EXPRESS_EVENT_SUCCESS = 'SEND_EXPRESS_EVENT_SUCCESS'\nexport const SET_EXPRESS_NOTIFICATION_SUCCESS = 'SET_NOTIFICATION_SUCCESS'\nexport const RESET_EXPRESS_NOTIFICATION_SUCCESS = 'RESET_EXPRESS_NOTIFICATION_SUCCESS'\nexport const RESET_EXPRESS_RESPONSE = 'RESET_EXPRESS_RESPONSE'\nexport const SEND_EXPRESS_READY_EVENT = 'SEND_EXPRESS_READY_EVENT'\nexport const SET_META = 'SET_META'\nexport const ECHO_STATIC_FILE = 'ECHO_STATIC_FILE'\nexport const REQUEST_LOCATION = 'REQUEST_LOCATION'\nexport const SET_LOCATION = 'SET_LOCATION'\nexport const REQUEST_SELF_PROFILE = 'REQUEST_SELF_PROFILE'\nexport const SET_SELF_PROFILE = 'SET_SELF_PROFILE'\nexport const CLOSE_SMART_APP = 'CLOSE_SMART_APP'\nexport const GET_CONNECTION_STATUS = 'GET_CONNECTION_STATUS'\nexport const SET_CONNECTION_STATUS = 'SET_CONNECTION_STATUS'\nexport const SUBSCRIBE_CONNECTION_STATUS = 'SUBSCRIBE_CONNECTION_STATUS'\nexport const UNSUBSCRIBE_CONNECTION_STATUS = 'UNSUBSCRIBE_CONNECTION_STATUS'\nexport const CONNECTION_STATUS_CHANGED = 'CONNECTION_STATUS_CHANGED'\nexport const CREATE_DEEPLINK = 'CREATE_DEEPLINK'\nexport const SET_DEEPLINK_URL = 'SET_DEEPLINK_URL'\nexport const OPEN_CHAT_MESSAGE = 'OPEN_CHAT_MESSAGE'\nexport const CLIENT_STORAGE_SET = 'CLIENT_STORAGE_SET'\nexport const CLIENT_STORAGE_GET = 'CLIENT_STORAGE_GET'\nexport const CLIENT_STORAGE_LOADED = 'CLIENT_STORAGE_LOADED'\nexport const CLIENT_STORAGE_REMOVE = 'CLIENT_STORAGE_REMOVE'\nexport const CLIENT_STORAGE_CLEAR = 'CLIENT_STORAGE_CLEAR'\nexport const HANDLE_DEEPLINK = 'HANDLE_DEEPLINK'\nexport const SEARCH_CORPORATE_PHONEBOOK = 'SEARCH_CORPORATE_PHONEBOOK'\nexport const SEARCH_LOCAL_PHONEBOOK = 'SEARCH_LOCAL_PHONEBOOK'\nexport const GET_UNREAD_COUNTER = 'GET_UNREAD_COUNTER'\nexport const SET_UNREAD_COUNTER = 'SET_UNREAD_COUNTER'\nexport const SUBSCRIBE_UNREAD_COUNTER = 'SUBSCRIBE_UNREAD_COUNTER'\nexport const UNSUBSCRIBE_UNREAD_COUNTER = 'UNSUBSCRIBE_UNREAD_COUNTER'\nexport const GET_LAYOUT_TYPE = 'GET_LAYOUT_TYPE'\nexport const SET_LAYOUT_TYPE = 'SET_LAYOUT_TYPE'\nexport const SUBSCRIBE_LAYOUT_TYPE = 'SUBSCRIBE_LAYOUT_TYPE'\nexport const UNSUBSCRIBE_LAYOUT_TYPE = 'UNSUBSCRIBE_LAYOUT_TYPE'\n\nexport const uploadFile = createAction(UPLOAD_FILE)\nexport const uploadFileSuccess = createAction(UPLOAD_FILE_SUCCESS, (file: File) => file)\nexport const uploadFiles = createAction(UPLOAD_FILES, (type: string = '') => ({ type }))\nexport const uploadFilesSuccess = createAction(UPLOAD_FILES_SUCCESS, (files: File[]) => files)\nexport const removeFile = createAction(REMOVE_FILE, (id: number) => id)\nexport const removeFileSuccess = createAction(REMOVE_FILE_SUCCESS, (id: number) => id)\nexport const resetAttachments = createAction(RESET_ATTACHMENTS)\nexport const sendExpressEvent = createAction(SEND_EXPRESS_EVENT, (expressEvent: ExpressEvent) => expressEvent)\nexport const sendMessageExpressEvent = createAction(\n  SEND_MESSAGE_EXPRESS_EVENT,\n  (payload: SendMessageActionPayload) => payload\n)\nexport const sendExpressEventSuccess = createAction(\n  SEND_EXPRESS_EVENT_SUCCESS,\n  (response: ExpressMethodResponse | null) => response\n)\nexport const setExpressNotificationSuccess = createAction(\n  SET_EXPRESS_NOTIFICATION_SUCCESS,\n  (notification: ExpressNotification | null) => notification\n)\nexport const resetExpressNotificationSuccess = createAction(RESET_EXPRESS_NOTIFICATION_SUCCESS)\nexport const setMeta = createAction(SET_META, (meta: ExpressMethodResponse | null) => meta)\nexport const resetExpressResponse = createAction(RESET_EXPRESS_RESPONSE)\nexport const sendReadyEvent = createAction(SEND_EXPRESS_READY_EVENT)\nexport const setLocation = createAction(SET_LOCATION, (location: Location) => location)\nexport const requestLocation = createAction(REQUEST_LOCATION)\nexport const echoStaticFile = createAction(ECHO_STATIC_FILE)\nexport const requestSelfProfile = createAction(REQUEST_SELF_PROFILE)\nexport const setSelfProfile = createAction(SET_SELF_PROFILE, (selfProfile: SelfProfile) => selfProfile)\nexport const closeSmartApp = createAction(CLOSE_SMART_APP)\nexport const getConnectionStatus = createAction(GET_CONNECTION_STATUS)\nexport const setConnectionStatus = createAction(SET_CONNECTION_STATUS, (connectionStatus: string) => connectionStatus)\nexport const subscribeConnectionStatus = createAction(SUBSCRIBE_CONNECTION_STATUS)\nexport const unsubscribeConnectionStatus = createAction(UNSUBSCRIBE_CONNECTION_STATUS)\nexport const subscribeUnreadCounter = createAction(SUBSCRIBE_UNREAD_COUNTER, (id: string, type: SubscriptionPayload['type']) => ({\n  id,\n  type,\n}))\nexport const unsubscribeUnreadCounter = createAction(UNSUBSCRIBE_UNREAD_COUNTER, (id: string, type: SubscriptionPayload['type']) => ({\n  id,\n  type,\n}))\nexport const connectionStatusChanged = createAction(\n  CONNECTION_STATUS_CHANGED,\n  (connectionStatus: string) => connectionStatus\n)\nexport const createDeeplink = createAction(\n  CREATE_DEEPLINK,\n  (appId: string, meta: Array<{ key: string; value: null | boolean | string | number }>) => ({\n    appId,\n    meta,\n  })\n)\nexport const setDeeplinkUrl = createAction(SET_DEEPLINK_URL, (deeplinkUrl: string) => deeplinkUrl)\nexport const openChatMessage = createAction(\n  OPEN_CHAT_MESSAGE,\n  ({ groupChatId, syncId }: { groupChatId: string; syncId: string }) => ({\n    groupChatId,\n    syncId,\n  })\n)\n// TODO: fixme\nexport const clientStorageSet = createAction(CLIENT_STORAGE_SET, (key: string, value: StorageValueType) => ({\n  key,\n  value,\n}))\nexport const clientStorageGet = createAction(CLIENT_STORAGE_GET, (key: string) => key)\nexport const clientStorageLoaded = createAction(CLIENT_STORAGE_LOADED, (storageData: any) => storageData)\nexport const clientStorageRemove = createAction(CLIENT_STORAGE_REMOVE, (key: string) => key)\nexport const clientStorageClear = createAction(CLIENT_STORAGE_CLEAR)\nexport const handleDeeplink = createAction(HANDLE_DEEPLINK, (deeplink: string) => deeplink)\nexport const searchCorporatePhonebook = createAction(SEARCH_CORPORATE_PHONEBOOK, (filter: string) => filter)\nexport const searchLocalPhonebook = createAction(SEARCH_LOCAL_PHONEBOOK, (filter: string) => filter)\nexport const getUnreadCounter = createAction(GET_UNREAD_COUNTER, (id: string, type: SubscriptionPayload['type']) => ({\n  id,\n  type,\n}))\nexport const setUnreadCounter = createAction(SET_UNREAD_COUNTER, (counter: number) => counter)\nexport const getLayoutType = createAction(GET_LAYOUT_TYPE)\nexport const setLayoutType = createAction(SET_LAYOUT_TYPE, (layoutType: string) => layoutType)\nexport const subscribeLayoutType = createAction(SUBSCRIBE_LAYOUT_TYPE)\nexport const unsubscribeLayoutType = createAction(UNSUBSCRIBE_LAYOUT_TYPE)\n\n\nexport type uploadFileActionType = ReturnType<typeof uploadFile>\nexport type uploadFileSuccessActionType = ReturnType<typeof uploadFileSuccess>\nexport type uploadFilesActionType = ReturnType<typeof uploadFiles>\nexport type uploadFilesSuccessActionType = ReturnType<typeof uploadFilesSuccess>\nexport type removeFileActionType = ReturnType<typeof removeFile>\nexport type removeFileSuccessActionType = ReturnType<typeof removeFileSuccess>\nexport type sendExpressEventActionType = ReturnType<typeof sendExpressEvent>\nexport type sendMessageExpressEventActionType = ReturnType<typeof sendMessageExpressEvent>\nexport type sendExpressEventSuccessActionType = ReturnType<typeof sendExpressEventSuccess>\nexport type setExpressNotificationSuccessActionType = ReturnType<typeof setExpressNotificationSuccess>\nexport type setMetaActionType = ReturnType<typeof setMeta>\nexport type setLocationActionType = ReturnType<typeof setLocation>\nexport type setSelfProfileType = ReturnType<typeof setSelfProfile>\nexport type setConnectionStatusType = ReturnType<typeof setConnectionStatus>\nexport type connectionStatusChangedType = ReturnType<typeof connectionStatusChanged>\nexport type setDeeplinkUrlType = ReturnType<typeof setDeeplinkUrl>\nexport type createDeeplinkActionType = ReturnType<typeof createDeeplink>\nexport type openChatMessageActionType = ReturnType<typeof openChatMessage>\nexport type clientStorageLoadedActionType = ReturnType<typeof clientStorageLoaded>\nexport type clientStorageSetActionType = ReturnType<typeof clientStorageSet>\nexport type clientStorageGetActionType = ReturnType<typeof clientStorageGet>\nexport type clientStorageRemoveActionType = ReturnType<typeof clientStorageRemove>\nexport type handleDeeplinkActionType = ReturnType<typeof handleDeeplink>\nexport type searchCorporatePhonebookActionType = ReturnType<typeof searchCorporatePhonebook>\nexport type searchLocalPhonebookActionType = ReturnType<typeof searchLocalPhonebook>\nexport type getUnreadCounterActionType = ReturnType<typeof getUnreadCounter>\nexport type setUnreadCounterActionType = ReturnType<typeof setUnreadCounter>\nexport type subscribeUnreadCounterActionType = ReturnType<typeof subscribeUnreadCounter>\nexport type unsubscribeUnreadCounterActionType = ReturnType<typeof unsubscribeUnreadCounter>\nexport type getLayoutTypeActionType = ReturnType<typeof getLayoutType>\nexport type setLayoutTypeActionType = ReturnType<typeof setLayoutType>\nexport type subscribeLayoutTypeActionType = ReturnType<typeof subscribeLayoutType>\nexport type unsubscribeLayoutTypeActionType = ReturnType<typeof unsubscribeLayoutType>\n","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getAttachments = createSelector([(state: AppState) => state.client.attachments], features => features)\n\nexport const getExpressResponse = createSelector([(state: AppState) => state.client.response], response => response)\n\nexport const getMeta = createSelector([(state: AppState) => state.client.meta], meta => meta)\n\nexport const getLocation = createSelector(\n  [(state: AppState) => state.client.location],\n\tlocation => location\n)\n\nexport const getExpressNotifications = createSelector(\n  [(state: AppState) => state.client.notifications],\n\tnotifications => notifications\n)\n\nexport const getSelfProfile = createSelector(\n  [(state: AppState) => state.client.selfProfile],\n\tselfProfile => selfProfile\n)\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgArrowLeft(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.828 11l5.586-5.586L12 4l-8 8 8 8 1.414-1.414L7.828 13H20v-2z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeft);\nexport default __webpack_public_path__ + \"static/media/arrow-left.fa74ab51.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgBotxIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 12 12\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.379 7.017v2.775h-.55A.816.816 0 0 1 0 8.989V7.427c0-.443.371-.803.829-.803h.566c-.01.13-.016.261-.016.393zm9.792-.393c.458 0 .829.36.829.803V8.99a.816.816 0 0 1-.829.803h-.55V7.017c0-.132-.006-.263-.016-.393h.566zM10.047 9.873v-2.82c0-.132-.006-.263-.018-.393C9.857 4.651 8.377 3.043 6.5 2.8h-.997c-1.88.244-3.36 1.853-3.532 3.863-.01.129-.017.26-.017.392v4.754h8.094V9.873zm-5.998-.66c-.608 0-1.101-.522-1.101-1.167 0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167zm2.96-1.167c0-.644.493-1.166 1.1-1.166.609 0 1.102.522 1.102 1.166 0 .645-.493 1.167-1.101 1.167s-1.101-.522-1.101-1.167z\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBotxIcon);\nexport default __webpack_public_path__ + \"static/media/botx-icon.cf9274ad.svg\";\nexport { ForwardRef as ReactComponent };","import { Link } from 'react-router-dom'\nimport { ReactComponent as ArrowLeft } from '../../../assets/arrow-left.svg'\nimport './FeaturePageHeader.scss'\n\nexport default function FeaturePageHeader({ name }) {\n  return (\n    <div className='feature-page__header'>\n      <Link className='btn--arrow-left' to='/' id='back-nav-link'>\n        <ArrowLeft className='icon--arrow-left' height={24} width={24} />\n      </Link>\n      <div className='feature-page__info'>\n        <span className='feature-page__title'>{name} method</span>\n      </div>\n    </div>\n  )\n}\n","import {\n  BotFeature,\n  BotFeatureMethod,\n  ExpressFeature,\n  ExpressFeatureMethod,\n  Input,\n  InputId,\n  InputLabel,\n  InputType,\n} from '../../types'\nimport './FeaturePage.scss'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { GUARANTEED_DELIVERY_FEATURE, INPUT_TYPE } from '../../constants'\nimport { useFormik } from 'formik'\nimport { FormValues, getFormInitialValues } from '../../helpers'\nimport { getFeatureBotResponse } from '../../redux/selectors/bot'\nimport { resetFeatures, sendFeatureBotEvent, sendFeatureBotEventSuccess } from '../../redux/actions/bot'\nimport { useEffect, useMemo, useState } from 'react'\nimport { ReactComponent as PlusIcon } from '../../assets/plus.svg'\nimport { ReactComponent as RemoveIcon } from '../../assets/clear-input.svg'\nimport { ReactComponent as FileIcon } from '../../assets/file.svg'\nimport JsonViewer from '../../components/ui/json-editor/JsonViewer'\nimport classnames from 'classnames'\nimport {\n  removeFileSuccess,\n  resetAttachments,\n  resetExpressResponse,\n  sendExpressEvent,\n  sendExpressEventSuccess,\n  sendMessageExpressEvent,\n  uploadFile,\n  uploadFiles,\n} from '../../redux/actions/client'\nimport { getAttachments, getExpressResponse } from '../../redux/selectors/client'\nimport { ReactMarkdown } from 'react-markdown/lib/react-markdown'\nimport FeaturePageHeader from '../../components/ui/feature-page-header/FeaturePageHeader'\nimport {\n  getChats,\n  openClientSettings,\n  openContactCard,\n  openGroupChat,\n  sendBotCommand,\n} from '@expressms/smartapp-sdk'\n\nexport default function FeaturePage({ name, method, uiElements = [] }: BotFeature | ExpressFeature) {\n  const dispatch = useDispatch()\n  const botResponse = useSelector(getFeatureBotResponse)\n  const expressResponse = useSelector(getExpressResponse)\n  const attachments = useSelector(getAttachments)\n\n  const [inputs, setInputs] = useState<Input[]>([])\n  const [inputError, setInputError] = useState('')\n  const [isJSONViewer, setIsJSONViewer] = useState(false)\n\n  const isAllowNewInputs = method === BotFeatureMethod.SEARCH_USERS\n  const isFilesMethod = [BotFeatureMethod.ECHO_FILE, BotFeatureMethod.ECHO_FILES].includes(method as BotFeatureMethod)\n  const isUsersMethod = BotFeatureMethod.SEARCH_USERS === method\n  const isExpressMethod = Object.values(ExpressFeatureMethod).includes(method as ExpressFeatureMethod)\n\n  const handleClickPlus = () => {\n    const last = inputs[inputs.length - 1]\n    const { id } = last\n    const next: Input = {\n      ...last,\n      id: id.includes(InputId.HUIDS) ? `${id}${inputs.length}` : id,\n    }\n\n    setInputs(inputs => [...inputs, next])\n  }\n\n  const handleFilesSubmit = () => {\n    if (attachments) {\n      const botFeatureMethod = method as BotFeatureMethod\n\n      dispatch(\n        sendFeatureBotEvent({\n          method: botFeatureMethod,\n          params: {},\n          files: attachments,\n        }),\n      )\n    }\n  }\n\n  const handleOpenGroupChat = async (formValues: FormValues) => {\n    if (!filterFormValues(formValues).length) return\n\n    await openGroupChat({ groupChatId: formValues?.groupChatId })\n  }\n\n  const handleGetChats = async (formValues: FormValues) => {\n    const chats = await getChats({ filter: formValues?.filter })\n    dispatch(sendExpressEventSuccess(chats))\n  }\n\n  const handleSendBotCommand = async (formValues: FormValues) => {\n    const result = await sendBotCommand(\n      {\n        userHuid: formValues?.userHuid,\n        data: formValues?.data ? {\n          command: formValues?.data,\n        } : null,\n        body: formValues?.body,\n      },\n    )\n    dispatch(sendExpressEventSuccess(result))\n  }\n\n  const handleOpenContactCard = async (formValues: FormValues) => {\n    const response = await openContactCard({ userHuid: formValues?.userHuid })\n    if (response) dispatch(sendExpressEventSuccess(response))\n  }\n\n  const handleSendMessage = (formValues: FormValues) => {\n    if (!filterFormValues(formValues).length) return\n\n    const { userHuid, groupChatId, message } = formValues\n    dispatch(\n      sendMessageExpressEvent({\n        userHuid,\n        groupChatId,\n        messageBody: message,\n        messageMeta: {},\n      }),\n    )\n  }\n\n  const handleEchoWithGuaranteedDelivery = (formValues: FormValues) => {\n    if (!filterFormValues(formValues).length) return\n\n    const event = {\n      method: BotFeatureMethod.ECHO,\n      params: formValues,\n      guaranteed_delivery_required: true\n    }\n\n    dispatch(sendFeatureBotEvent(event))\n  }\n\n  const handleDefault = (formValues: FormValues) => {\n    if (!filterFormValues(formValues).length) return\n\n    const event = {\n      method: method as ExpressFeatureMethod,\n      params: formValues,\n    }\n\n    dispatch(sendExpressEvent(event))\n  }\n\n  const handleFormSubmitForExpressMethod = async (formValues: FormValues) => {\n    switch (method) {\n      case ExpressFeatureMethod.SEND_MESSAGE:\n        handleSendMessage(formValues)\n        break\n      case ExpressFeatureMethod.OPEN_CLIENT_SETTINGS:\n        openClientSettings()\n        break\n      case ExpressFeatureMethod.GET_CHATS:\n        await handleGetChats(formValues)\n        break\n      case ExpressFeatureMethod.OPEN_GROUP_CHAT: {\n        await handleOpenGroupChat(formValues)\n        break\n      }\n      case ExpressFeatureMethod.SEND_BOT_COMMAND: {\n        await handleSendBotCommand(formValues)\n        break\n      }\n      case ExpressFeatureMethod.OPEN_CONTACT_CARD: {\n        await handleOpenContactCard(formValues)\n        break\n      }\n      default:\n        handleDefault(formValues)\n    }\n  }\n\n  const filterFormValues = useMemo(() => (\n    formValues: FormValues) => Object.values(formValues).filter(value => value),\n    [],\n  )\n\n  const handleFormSubmitForBotMethod = (formValues: FormValues) => {\n    const values = filterFormValues(formValues)\n    if (!values.length) return\n\n    if (name === GUARANTEED_DELIVERY_FEATURE.name) {\n      handleEchoWithGuaranteedDelivery(formValues)\n      return\n    }\n\n    const event = {\n      method: method as BotFeatureMethod,\n      params: isUsersMethod ? { huids: values } : formValues,\n    }\n\n    dispatch(sendFeatureBotEvent(event))\n  }\n\n  const handleFormSubmit = (formValues: FormValues) => {\n    if (isExpressMethod) {\n      handleFormSubmitForExpressMethod(formValues)\n    } else {\n      handleFormSubmitForBotMethod(formValues)\n    }\n  }\n\n  const handleUploadFilesClick = () => {\n    if (method === BotFeatureMethod.ECHO_FILE) {\n      dispatch(uploadFile())\n    } else if (method === BotFeatureMethod.ECHO_FILES) {\n      dispatch(uploadFiles())\n    }\n  }\n\n  const handleRemoveFile = (fileId: number) => {\n    dispatch(removeFileSuccess(fileId))\n\n    if (attachments?.length === 1) dispatch(sendFeatureBotEventSuccess(null))\n  }\n\n  const toggleIsJSONViewer = () => setIsJSONViewer(!isJSONViewer)\n\n  const formik = useFormik({\n    initialValues: getFormInitialValues(inputs),\n    onSubmit: handleFormSubmit,\n  })\n\n  const getIsSubmitButtonDisabled = () => {\n    if (method === ExpressFeatureMethod.GET_CHATS) return false\n    return isFilesMethod ? !attachments?.length : !Object.values(formik.values).filter(value => value).length\n  }\n\n  useEffect(() => {\n    const inputs: Input[] = uiElements.map((input, index) => ({\n      ...input,\n      id: input.id.includes(InputId.HUIDS) ? `${input.id}${index}` : input.id,\n    }))\n\n    setInputs(inputs)\n    return () => {\n      dispatch(resetFeatures())\n      dispatch(resetAttachments())\n      dispatch(resetExpressResponse())\n    }\n  }, [uiElements, dispatch])\n\n  const renderFilesMethodComponent = () => (\n    <div className='feature-page__form'>\n      <span className='feature-page__title'>\n        {method === BotFeatureMethod.ECHO_FILE ? InputLabel.FILE : InputLabel.FILES}\n      </span>\n      <button className='btn--attach' onClick={handleUploadFilesClick}>\n        {method === BotFeatureMethod.ECHO_FILE ? 'Attach file' : 'Attach files'}\n      </button>\n      {!!attachments?.length && (\n        <div className='attachments'>\n          {attachments.map((attachment, idx) => (\n            <span className='attachments__item' key={attachment.fileId}>\n              <span>{attachment.fileName}</span>\n              <RemoveIcon\n                width={20}\n                height={20}\n                className='btn--remove-attachment'\n                onClick={() => handleRemoveFile(attachment.fileId)}\n                id={`remove-file-${idx + 1}`}\n              />\n            </span>\n          ))}\n        </div>\n      )}\n      <div className='form-buttons'>\n        <button\n          className={classnames({\n            'btn--submit': true,\n            'btn--submit-disabled': getIsSubmitButtonDisabled(),\n          })}\n          onClick={handleFilesSubmit}\n          disabled={getIsSubmitButtonDisabled()}\n          type='button'\n          id='files-submit'\n        >\n          Submit\n        </button>\n      </div>\n    </div>\n  )\n\n  const renderTextMethodComponent = () => {\n    const getIsInputError = ({ id, type }) => {\n      const isUuid = (uuid: string) => /[0-9a-fA-F-]{36}/.test(uuid)\n\n      const isPhone = (phone: string) =>\n        /(^8|7|\\+7)((\\d{10})|(\\s\\(\\d{3}\\)\\s\\d{3}\\s\\d{2}\\s\\d{2}))/.test(phone)\n\n      const isNotEmpty = formik.values[id]\n\n      if ((isUsersMethod || type === InputType.UUID) && isNotEmpty) {\n        return !isUuid(formik.values[id])\n      } else if (id === InputId.PHONE) {\n        return !isPhone(formik.values[id])\n      }\n    }\n\n    return (\n      !!inputs?.length && (\n        <form className='feature-page__form' onSubmit={formik.handleSubmit}>\n          {inputs.map(({ id, type, label }, index) => {\n            const inputType = INPUT_TYPE[type]\n\n            const isShowLabel = isUsersMethod ? index === 0 : true\n\n            return (\n              <div key={id}>\n                {isShowLabel && <span className='feature-page__title'>{label}</span>}\n                <input\n                  className={classnames({\n                    input: true,\n                    'input--error': getIsInputError({ id, type }),\n                  })}\n                  onChange={formik.handleChange}\n                  value={formik.values[id] || ''}\n                  type={inputType}\n                  multiple={id === InputId.FILES}\n                  pattern={inputType === 'number' ? '[0-9]*' : null}\n                  id={id}\n                  min={0}\n                />\n                {inputType === INPUT_TYPE.INPUT_TEXT && formik.values[id] && (\n                  <RemoveIcon\n                    className='btn--clear-input'\n                    onClick={() => {\n                      formik.setFieldValue(id, '')\n                      inputError && setInputError('')\n                    }}\n                    height={20}\n                    width={20}\n                    id={`${id}.field-clear`}\n                  />\n                )}\n              </div>\n            )\n          })}\n          <div className='form-buttons'>\n            <button\n              className={classnames({\n                'btn--submit': true,\n                'btn--submit-disabled': getIsSubmitButtonDisabled(),\n              })}\n              disabled={getIsSubmitButtonDisabled()}\n              type='submit'\n              id='submit'\n            >\n              Submit\n            </button>\n            {isAllowNewInputs && (\n              <PlusIcon\n                title='Add new input'\n                className='btn--plus'\n                onClick={handleClickPlus}\n                height={24}\n                width={24}\n              />\n            )}\n          </div>\n        </form>\n      )\n    )\n  }\n\n  const renderBotResponse = () => {\n    const response = botResponse?.payload?.result as any\n\n    return (\n      <>\n        <div className='response-markdown'>\n          <ReactMarkdown>\n            {method === BotFeatureMethod.ECHO ?\n              ('text: ' + response?.replaceAll?.('\\n', '\\n\\r')) ||\n              (response?.replaceAll?.('\\n', '\\n\\r')) + '\\n\\r' +\n              (response?.textLength &&\n                'text length: ' + response?.textLength) :\n              (response?.replaceAll?.('\\n', '\\n\\r'))\n            }\n          </ReactMarkdown>\n        </div>\n        {method === BotFeatureMethod.ECHO_FILES && (\n          <div className='response-files'>\n            Files:\n            {botResponse?.files?.map(() => (\n              <FileIcon className='response-files__file' height={20} width={20} />\n            ))}\n          </div>\n        )}\n        {botResponse && (\n          <JsonViewer\n            isJSONViewer={isJSONViewer}\n            botResponse={botResponse}\n            toggleIsJSONViewer={toggleIsJSONViewer}\n          />\n        )}\n      </>\n    )\n  }\n\n  const renderExpressResponse = () => {\n    return expressResponse && (\n      <JsonViewer\n        botResponse={expressResponse?.payload}\n        id='response'\n      />\n    )\n  }\n\n  return (\n    <>\n      <div className=\"feature-page\">\n        <FeaturePageHeader name={name} />\n        {isFilesMethod ? renderFilesMethodComponent() : renderTextMethodComponent()}\n      </div>\n      {botResponse && renderBotResponse()}\n      {renderExpressResponse()}\n    </>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { EXPRESS_NOTIFICATION_FEATURE } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getExpressNotifications } from '../../redux/selectors/client'\nimport './ExpressNotifications.scss'\nimport { resetExpressNotificationSuccess } from '../../redux/actions/client'\n\nexport default function ExpressNotifications() {\n  const dispatch = useDispatch()\n  const expressNotifications = useSelector(getExpressNotifications)\n  const handleClear = () => {\n    dispatch(resetExpressNotificationSuccess())\n  }\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={EXPRESS_NOTIFICATION_FEATURE.name} />\n        <div className='feature-page__notifications'>\n          {!!expressNotifications.length ? (\n            <>\n              <div\n                className='notifications__clear-button'\n                onClick={handleClear}\n                title='Clear notifications'\n              >\n                Clear\n              </div>\n              {expressNotifications.map((item, i) => (\n                <div className='notifications__item' key={i}>\n                  {JSON.stringify(item?.data, null, 2)}\n                </div>\n              ))}\n            </>\n          ) : (\n            <div className='feature-page__notifications-placeholder'>\n              New notifications will appear here...\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n","import { createAction } from 'redux-actions'\nimport { PerformanceResult } from '../../types'\n\nexport const SET_MAIN_LOADER = 'SET_MAIN_LOADER'\nexport const SET_REDIRECT_PATH = 'SET_REDIRECT_PATH'\nexport const SET_SHOW_IOS_SWIPE_TOAST = 'SET_SHOW_IOS_SWIPE_TOAST'\nexport const TOGGLE_PERFORMANCE_TEST = 'TOGGLE_PERFORMANCE_TEST'\nexport const SET_PERFORMANCE_TEST_PROGRESS = 'SET_PERFORMANCE_TEST_PROGRESS'\nexport const TOGGLE_HIGHLOAD_TEST = 'TOGGLE_HIGHLOAD_TEST'\nexport const SET_HIGHLOAD_TEST_PROGRESS = 'SET_HIGHLOAD_TEST_PROGRESS'\n\nexport const setMainLoader = createAction(SET_MAIN_LOADER, (mainLoader: boolean) => mainLoader)\nexport const setRedirectPath = createAction(SET_REDIRECT_PATH, (redirectPath: string) => redirectPath)\nexport const setShowIosSwipeToast = createAction(\n  SET_SHOW_IOS_SWIPE_TOAST,\n  (showIosSwipeToast: boolean) => showIosSwipeToast\n)\nexport const togglePerformanceTest = createAction(TOGGLE_PERFORMANCE_TEST)\nexport const setPerformanceTestProgress = createAction(\n  SET_PERFORMANCE_TEST_PROGRESS,\n  ({ progress, results }: { progress: number; results: Array<PerformanceResult> }) => ({ progress, results })\n)\nexport const toggleHighloadTest = createAction(TOGGLE_HIGHLOAD_TEST)\nexport const setHighloadTestProgress = createAction(\n  SET_HIGHLOAD_TEST_PROGRESS,\n  ({\n    requestRps,\n    responseRps,\n    responseTimeAvg,\n  }: {\n    requestRps: number\n    responseRps: number\n    responseTimeAvg: number\n  }) => ({ requestRps, responseRps, responseTimeAvg })\n)\n\nexport type setMainLoaderActionType = ReturnType<typeof setMainLoader>\nexport type setRedirectPathActionType = ReturnType<typeof setRedirectPath>\nexport type setShowIosSwipeToastActionType = ReturnType<typeof setShowIosSwipeToast>\nexport type setPerformanceTestProgressActionType = ReturnType<typeof setPerformanceTestProgress>\nexport type toggleHighloadTestActionType = ReturnType<typeof toggleHighloadTest>\nexport type setHighloadTestProgressActionType = ReturnType<typeof setHighloadTestProgress>\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nimport { setRedirectPath } from '../../redux/actions/ui'\nimport { getMeta } from '../../redux/selectors/client'\nimport { setMeta } from '../../redux/actions/client'\nimport JsonViewerEditor from '../ui/json-editor/JsonViewer'\n\nexport default function MetaPage({ name }) {\n  const dispatch = useDispatch()\n  const meta = useSelector(getMeta)\n\n  useEffect(() => {\n    return () => {\n      dispatch(setRedirectPath(''))\n      dispatch(setMeta(null))\n    }\n  }, [dispatch])\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={name} />\n        {meta && (\n          <div className='response-json'>\n            Metadata\n            <JsonViewerEditor height={24} botResponse={meta.payload} />\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { AppState } from '../../types'\n\nexport const getMainLoader = createSelector([(state: AppState) => state.ui.mainLoader], mainLoader => mainLoader)\n\nexport const getRedirectPath = createSelector(\n  [(state: AppState) => state.ui.redirectPath],\n  redirectPath => redirectPath\n)\n\nexport const getHighloadTestRunning = (state: AppState) => state.ui.highloadTest.running\n","import { createHashHistory } from 'history'\n\n// Create history singleton\nexport const history = createHashHistory()\n","import { useEffect, useRef } from 'react'\nimport { Html5QrcodeScanner } from 'html5-qrcode'\nimport './ScanQR.scss'\n\nexport default function ScanQR({\n  onScanSuccess,\n  onScanFailure,\n}: {\n  onScanSuccess: (text: string, result: any) => void\n  onScanFailure: (error: string) => void\n}) {\n  const config = useRef<any>({\n    fps: 10,\n    qrbox: 250,\n    disableFlip: true,\n  })\n\n  useEffect(() => {\n    const html5QrcodeScanner = new Html5QrcodeScanner('reader', config.current, false)\n    html5QrcodeScanner.render(onScanSuccess, onScanFailure)\n\n    return () => {}\n    // eslint-disable-next-line\n  }, [])\n\n  return <div id=\"reader\" />\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { SCAN_QR_FEATURE } from '../../constants'\nimport ScanQR from '../scan-qr/ScanQR'\nimport { useState } from 'react'\n\nexport function ScanQRPage() {\n  const [decodedText, setDecodedText] = useState(null)\n  const [decodedResult, setDecodedResult] = useState(null)\n\n  const handleOnScanSuccess = (text: string, result: any) => {\n    setDecodedText(text)\n    setDecodedResult(result)\n    console.log(`Code matched: ${text}`, result)\n  }\n\n  const handleOnScanFailure = err => {\n    console.warn(`Code scan error: ${err}`)\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={SCAN_QR_FEATURE.name} />\n      <ScanQR onScanSuccess={handleOnScanSuccess} onScanFailure={handleOnScanFailure} />\n      {decodedText && (\n        <>\n          <p>Decoded text:</p>\n          <div>{decodedText}</div>\n        </>\n      )}\n      {decodedResult && (\n        <>\n          <p>Decoded result:</p>\n          <div>{JSON.stringify(decodedResult)}</div>\n        </>\n      )}\n    </div>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { OPEN_FILE_FEATURE } from '../../constants'\nimport classnames from \"classnames\"\nimport { useState } from \"react\"\nimport { Bridge as bridge } from \"@expressms/smartapp-sdk\"\n\nexport default function OpenFile() {\n  const [inputValue, setInputValue] = useState('')\n  const handleClick = () => {\n    if (!inputValue) return\n    console.error({inputValue: JSON.parse(inputValue)})\n\n    bridge?.sendClientEvent({\n      method: OPEN_FILE_FEATURE.method,\n      params: JSON.parse(inputValue),\n    })\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={OPEN_FILE_FEATURE.name} />\n      <input\n        className={classnames({\n          input: true,\n        })}\n        onChange={e => setInputValue(e.target.value)}\n        value={inputValue}\n        type={'text'}\n      />\n      <div className='form-buttons'>\n        <button\n          className={classnames({\n            'btn--submit': true,\n            'btn--submit-disabled': !inputValue,\n          })}\n          disabled={!inputValue}\n          type=\"submit\"\n          onClick={handleClick}\n          id='submit'\n        >\n          Submit\n        </button>\n      </div>\n    </div>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { OPEN_WEB_PAGE_FEATURE } from '../../constants'\nimport { useState } from 'react'\nimport './OpenWebPage.scss'\n\nexport default function OpenWebPage() {\n  const [webUrl, setWebUrl] = useState('https://www.tutorialrepublic.com/')\n  const [mailUrl, setMailUrl] = useState(\n    'mailto:?subject=%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%B5%D1%81%D0%BD%D0%B0%D1%8F%20%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F&body=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5!%0A%0A%D0%AF%20%D0%BD%D0%B0%D1%88%D0%B5%D0%BB(%D0%B0)%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B5%D1%81%D0%BD%D1%83%D1%8E%20%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8E%20%D0%B8%20%D1%85%D0%BE%D1%87%D1%83%20%D0%BF%D0%BE%D0%B4%D0%B5%D0%BB%D0%B8%D1%82%D1%8C%D1%81%D1%8F%20%D0%B5%D0%B9%20%D1%81%20%D0%B2%D0%B0%D0%BC%D0%B8.%0A%D0%92%D0%BE%D1%82%20%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B0%20%3A%20https%3A%2F%2Fexpress.itc.itcloud.io%2Fgroups%2Ftsentr-informatsionnyih%2Fpost%2Fentry%2F161.%0A'\n  )\n\n  const handleWebUrlChange = (event: any) => {\n    setWebUrl(event.target.value)\n  }\n\n  const handleMailUrlChange = (event: any) => {\n    setMailUrl(event.target.value)\n  }\n\n  return (\n    <>\n      <div className=\"feature-page\">\n        <FeaturePageHeader name={OPEN_WEB_PAGE_FEATURE.name} />\n        <span className=\"feature-page__title\">Web URL</span>\n        <div className=\"open-web-page\">\n          <input className=\"input\" type=\"url\" defaultValue={webUrl} onChange={handleWebUrlChange} />\n          <a className=\"open-web-page__link\" href={webUrl}>\n            {webUrl}\n          </a>\n        </div>\n        <span className=\"feature-page__title\">Mailto URL</span>\n        <div className=\"open-web-page\">\n          <input className=\"input\" type=\"url\" defaultValue={mailUrl} onChange={handleMailUrlChange} />\n          <a className=\"open-web-page__link\" href={mailUrl}>\n            {mailUrl}\n          </a>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React, { useLayoutEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getLocation } from '../../redux/selectors/client'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { REQUEST_LOCATION } from '../../constants'\nimport { requestLocation, setLocation } from '../../redux/actions/client'\nimport './RequestLocation.scss'\nimport JsonViewer from '../ui/json-editor/JsonViewer'\n\nfunction RequestLocation() {\n  const dispatch = useDispatch()\n  const location = useSelector(getLocation)\n  const [isJSONViewer, setIsJSONViewer] = useState(true)\n\n  const toggleIsJSONViewer = () => setIsJSONViewer(!isJSONViewer)\n\n  const handleSubmit = () => {\n    dispatch(requestLocation())\n  }\n\n  useLayoutEffect(() => {\n    dispatch(setLocation(null))\n  }, [dispatch])\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={REQUEST_LOCATION.name} />\n      <div className='form-buttons'>\n        <button\n          className='btn--submit'\n          onClick={handleSubmit}\n          type='button'\n          id='submit'\n        >\n          \n        </button>\n      </div>\n      <div className='request-location__json-viewer'>\n        {location && (\n          <JsonViewer\n            isJSONViewer={isJSONViewer}\n            botResponse={location}\n            toggleIsJSONViewer={toggleIsJSONViewer}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default RequestLocation\n","import JsonViewerEditor from '../json-editor/JsonViewer'\nimport { BotMethodResponse } from '../../../types'\n\nexport default function JsonViewer(\n  {\n    isJSONViewer,\n    toggleIsJSONViewer,\n    botResponse,\n  }: {\n    isJSONViewer: boolean,\n    toggleIsJSONViewer: () => void,\n    botResponse: BotMethodResponse,\n  },\n) {\n  return (\n    <div>\n      <div className='response-markdown-form'>\n        <input\n          checked={isJSONViewer}\n          className='form-toggler__input'\n          id='form-toggler'\n          type='checkbox'\n          onChange={toggleIsJSONViewer}\n        />\n        <span\n          className='form-toggler'\n          onClick={toggleIsJSONViewer}\n        >\n          Show JSON Viewer\n        </span>\n      </div>\n      {isJSONViewer && (\n        <div className='response-json'>\n          <JsonViewerEditor height={24} json={botResponse} />\n        </div>\n      )}\n    </div>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { ECHO_STATIC_FILE_FEATURE } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getFeatureBotResponse, getStaticFile } from '../../redux/selectors/bot'\nimport './EchoStaticFile.scss'\nimport classnames from 'classnames'\nimport { getAttachments } from '../../redux/selectors/client'\nimport { uploadFile } from '../../redux/actions/client'\nimport { ReactMarkdown } from 'react-markdown/lib/react-markdown'\nimport JsonViewer from '../ui/json-viewer/JsonViewer'\nimport { useState } from 'react'\nimport { echoStaticFile } from '../../redux/actions/bot'\n\nexport default function EchoStaticFile() {\n  const dispatch = useDispatch()\n  const staticFile = useSelector(getStaticFile) as any\n  const attachments = useSelector(getAttachments)\n  const botResponse = useSelector(getFeatureBotResponse)\n  const [isJSONViewer, setIsJSONViewer] = useState(false)\n\n  const handleFilesSubmit = async () => {\n    if (attachments?.length) {\n      dispatch(echoStaticFile(attachments[0]))\n    }\n  }\n\n  return (\n    <>\n      <div className='feature-page'>\n        <FeaturePageHeader name={ECHO_STATIC_FILE_FEATURE.name} />\n        <div className='feature-page__echo-static-file'>\n          <div className='feature-page__form'>\n            <button\n              className='btn--attach'\n              onClick={() => dispatch(uploadFile())}\n            >\n              Attach files\n            </button>\n            <p>{attachments?.[0]?.fileName}</p>\n            <div className='form-buttons'>\n              <button\n                className={classnames({\n                  'btn--submit': true,\n                  'btn--submit-disabled': !attachments?.length,\n                })}\n                onClick={handleFilesSubmit}\n                disabled={!attachments?.length}\n                type='button'\n                id='submit'\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <>\n        <div className='response-markdown'>\n          <ReactMarkdown>\n            {botResponse?.payload?.result?.replaceAll?.('\\n', '\\n\\r')}\n          </ReactMarkdown>\n        </div>\n        {staticFile && (\n          <JsonViewer\n            isJSONViewer={isJSONViewer}\n            botResponse={staticFile}\n            toggleIsJSONViewer={() => setIsJSONViewer(!isJSONViewer)}\n          />\n        )}\n      </>\n      <img src={staticFile?.payload?.result} alt='' />\n    </>\n  )\n}\n","import './Version.scss'\nimport { version } from '../../../../package.json'\n\nexport default function Version() {\n  return (\n    <div className=\"version\">\n        SmartApp v{version}\n    </div>\n  )\n}\n\n","import React, { useLayoutEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getSelfProfile } from '../../redux/selectors/client'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { REQUEST_SELF_PROFILE_FEATURE } from '../../constants'\nimport { requestSelfProfile, setSelfProfile } from '../../redux/actions/client'\nimport './RequestSelfProfile.scss'\nimport JsonViewer from '../ui/json-editor/JsonViewer'\n\nfunction RequestSelfProfile() {\n  const dispatch = useDispatch()\n  const selfProfile = useSelector(getSelfProfile)\n  const [isJSONViewer, setIsJSONViewer] = useState(true)\n\n  const toggleIsJSONViewer = () => setIsJSONViewer(!isJSONViewer)\n\n  const handleSubmit = () => {\n    dispatch(requestSelfProfile())\n  }\n\n  useLayoutEffect(() => {\n    dispatch(setSelfProfile(null))\n  }, [dispatch])\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={REQUEST_SELF_PROFILE_FEATURE.name} />\n      <div className='form-buttons'>\n        <button\n          className='btn--submit'\n          onClick={handleSubmit}\n          type='button'\n          id='submit'\n        >\n            \n        </button>\n      </div>\n      <div className='request-self-profile__json-viewer'>\n        {selfProfile && (\n          <JsonViewer\n            isJSONViewer={isJSONViewer}\n            botResponse={selfProfile}\n            toggleIsJSONViewer={toggleIsJSONViewer}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default RequestSelfProfile\n","import { useDispatch } from 'react-redux'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { CLOSE_SMART_APP_FEATURE } from '../../constants'\nimport { closeSmartApp } from '../../redux/actions/client'\nimport './CloseSmartApp.scss'\n\nfunction CloseSmartApp() {\n  const dispatch = useDispatch()\n\n  const handleSubmit = () => {\n    dispatch(closeSmartApp())\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={CLOSE_SMART_APP_FEATURE.name} />\n      <div className='form-buttons'>\n        <button\n          className='btn--submit'\n          onClick={handleSubmit}\n          type='button'\n          id='submit'\n        >\n           SmartApp\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default CloseSmartApp\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { FILE_PROXY } from '../../constants'\nimport classNames from 'classnames'\nimport { useState } from 'react'\n\nfunction FileProxy() {\n  const [url, setUrl] = useState('https://cts3dev.ccsteam.ru/api/v1/smartapp_proxy/zgubb4kz4xvqgcwi/upload/iblock/523/cf32v2zoh1rxzriy9xt3iqqtbg4dl254.mp4')\n  const [videoUrl, setVideoUrl] = useState(url)\n\n  const handleInputChange = e => setUrl(e.target.value)\n\n  const handleSubmit = () => setVideoUrl(url)\n\n  return (\n    <div className=\"feature-page file-proxy\">\n      <FeaturePageHeader name={FILE_PROXY.name} />\n      <div>\n        <b></b><br/>\n        <sup>\n            https://<u>cts</u>/api/v1/smartapp_proxy/<u>host_id</u>/<u>path_to_video</u>\n        </sup>\n      </div>\n      <div className='form-buttons'>\n        <input\n          className={classNames({\n            input: true,\n          })}\n          onChange={handleInputChange}\n          value={url}\n          type={'text'}\n          id=\"url\"\n        />\n        </div>\n      <div className='form-buttons'>\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleSubmit}\n          id=\"submit\"\n        >\n          Play\n        </button>\n      </div>\n      <video src={videoUrl} autoPlay controls width=\"100%\" style={{ margin: \"40px 0 0 0\" }} />\n    </div>\n  )\n}\n\nexport default FileProxy\n","import 'material-icons/iconfont/material-icons.css'\nimport './ConnectionIcon.scss'\n\nexport function ConnectionIcon({ connectionStatus }) {\n  switch (connectionStatus) {\n    case null:\n      return (\n        <div className='connection-status'>\n          <span className=\"material-icons\">question_mark</span>\n             \n        </div>\n      )\n    case 'connected':\n      return (\n        <div className='connection-status connection-status--connected'>\n          <span className=\"material-icons\">wifi</span>\n             \n        </div>\n      )\n    case 'disconnected':\n      return (\n        <div className='connection-status connection-status--disconnected'>\n          <span className=\"material-icons\">wifi_off</span>\n             \n        </div>\n      )\n    default:\n      return (\n        <div className='connection-status'>\n          <span className=\"material-icons\">question_mark</span>\n              \n        </div>\n      )\n  }\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { CONNECTION_STATUS } from '../../constants'\nimport classNames from 'classnames'\nimport { AppState } from '../../types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ConnectionIcon } from './ConnectionIcon'\nimport { getConnectionStatus, subscribeConnectionStatus, unsubscribeConnectionStatus } from '../../redux/actions/client'\n\nfunction ConnectionStatus() {\n  const dispatch = useDispatch()\n\n  const connectionStatus = useSelector<AppState>(state => state.client.connectionStatus)\n  const subscribedConnectionStatus = useSelector<AppState>(state => state.client.subscribedConnectionStatus)\n\n  const handleGetConnectionStatus = () => dispatch(getConnectionStatus())\n\n  const handleSubscribeConnectionStatus = () => dispatch(subscribeConnectionStatus())\n\n  const handleUnsubscribeConnectionStatus = () => dispatch(unsubscribeConnectionStatus())\n\n  return (\n    <div className=\"feature-page file-proxy\">\n      <FeaturePageHeader name={CONNECTION_STATUS.name} />\n      <h4> </h4>\n      <div className=\"form-buttons\" id=\"get-status-txt\">\n        <ConnectionIcon connectionStatus={connectionStatus} />\n      </div>\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleGetConnectionStatus}\n          id=\"get-status-btn\"\n        >\n           \n        </button>\n      </div>\n      <br />\n      <h4>   </h4>\n      <div className=\"form-buttons\" id=\"subscription-status-txt\">\n        <ConnectionIcon connectionStatus={subscribedConnectionStatus} />\n      </div>\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleSubscribeConnectionStatus}\n          id=\"subscribe-btn\"\n        >\n          \n        </button>\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleUnsubscribeConnectionStatus}\n          id=\"unsubscribe-btn\"\n        >\n          \n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default ConnectionStatus\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { CREATE_DEEPLINK } from '../../constants'\nimport classNames from 'classnames'\nimport { AppState } from '../../types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { createDeeplink } from '../../redux/actions/client'\nimport { useState } from 'react'\n\nconst initMeta = [\n  { key: 'route', value: '/send-email' },\n  { key: 'email', value: 'test@mail.ru' },\n]\n\nfunction CreateDeeplink() {\n  const dispatch = useDispatch()\n  const [appId, setAppId] = useState('email-smartapp')\n  const [metaJson, setMetaJson] = useState(JSON.stringify(initMeta, null, 2))\n\n  const deeplinkUrl = useSelector<AppState, string>(state => state.client.deeplinkUrl)\n\n  const handleSubmit = () => dispatch(createDeeplink(appId, JSON.parse(metaJson)))\n\n  const handleAppIdChange = e => setAppId(e.target.value)\n\n  const handleMetaChange = e => setMetaJson(e.target.value)\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={CREATE_DEEPLINK.name} />\n      <span className=\"feature-page__title\">App ID</span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" onChange={handleAppIdChange} value={appId} type=\"text\" id=\"app-id-text\" />\n      </div>\n      <span className=\"feature-page__title\">Meta</span>\n      <div className=\"form-buttons\">\n        <textarea className=\"input\" onChange={handleMetaChange} id=\"meta-text\" rows={10} value={metaJson} />\n      </div>\n      <span className=\"feature-page__title\">Deeplink</span>\n      <input className=\"input\" disabled value={deeplinkUrl} id=\"deeplink-text\" />\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleSubmit}\n          id=\"submit\"\n        >\n           \n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default CreateDeeplink\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { IOS_SWIPE } from '../../constants'\nimport { AppState } from '../../types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setShowIosSwipeToast } from '../../redux/actions/ui'\n\nfunction IosSwipeToggler() {\n  const dispatch = useDispatch()\n\n  const showIosSwipeToast = useSelector<AppState, boolean>((state) => state.ui.showIosSwipeToast)\n\n  const handleToggle = () => dispatch(setShowIosSwipeToast(!showIosSwipeToast))\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={IOS_SWIPE.name} />\n      <div className=\"form-buttons\">\n        <input className=\"checkbox\" checked={showIosSwipeToast} type=\"checkbox\" id=\"show-ios-toast\" name=\"show-ios-toast\" onClick={handleToggle} />\n        <label className=\"checkbox__label\" htmlFor=\"show-ios-toast\">Show iOS swipe events</label>\n      </div>\n    </div>\n  )\n}\n\nexport default IosSwipeToggler\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { OPEN_CHAT_MESSAGE } from '../../constants'\nimport classNames from 'classnames'\nimport { useDispatch } from 'react-redux'\nimport { openChatMessage } from '../../redux/actions/client'\nimport { useState } from 'react'\n\nfunction OpenMessage() {\n  const dispatch = useDispatch()\n  const [groupChatId, setGroupChatId] = useState('')\n  const [syncId, setSyncId] = useState('')\n\n  const handleSubmit = () => dispatch(openChatMessage({ groupChatId, syncId }))\n\n  const handleGroupChatIdChange = e => setGroupChatId(e.target.value)\n\n  const handleSyncIdChange = e => setSyncId(e.target.value)\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={OPEN_CHAT_MESSAGE.name} />\n      <span className=\"feature-page__title\">Group chat ID</span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" onChange={handleGroupChatIdChange} value={groupChatId} type=\"text\" id=\"group-chat-id-text\" />\n      </div>\n      <span className=\"feature-page__title\">Sync ID</span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" onChange={handleSyncIdChange} value={syncId} type=\"text\" id=\"sync-id-text\" />\n      </div>\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleSubmit}\n          id=\"submit\"\n        >\n           \n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default OpenMessage\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { CLIENT_STORAGE } from '../../constants'\nimport './ClientStorage.scss'\nimport { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  clientStorageClear,\n  clientStorageGet,\n  clientStorageLoaded,\n  clientStorageRemove,\n  clientStorageSet,\n} from '../../redux/actions/client'\nimport { AppState } from '../../types'\n\nconst initData = {\n  string1: 'test string',\n  number1: 123.456,\n  boolean1: false,\n  null1: null,\n  array1: [1, true, 'text'],\n  object1: { param1: 'val1' },\n}\n\nfunction ClientStorage() {\n  const dispatch = useDispatch()\n  const storageData = useSelector<AppState, string>(state => JSON.stringify(state.client.storageData, null, 2))\n  const [dataToSave, setData] = useState(JSON.stringify(initData, null, 2))\n  const [key, setKey] = useState('key1')\n\n  useEffect(() => {\n    dispatch(clientStorageLoaded(''))\n  }, [dispatch])\n\n  const handleDataChange = e => setData(e.target.value)\n\n  const handleKeyChange = e => setKey(e.target.value)\n\n  const handleSet = () => dispatch(clientStorageSet(key, JSON.parse(dataToSave)))\n\n  const handleGet = () => dispatch(clientStorageGet(key))\n\n  const handleRemove = () => dispatch(clientStorageRemove(key))\n\n  const handleClear = () => dispatch(clientStorageClear())\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={CLIENT_STORAGE.name} />\n      <span className=\"feature-page__title\"> </span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" onChange={handleKeyChange} value={key} type=\"text\" id=\"key1-text\" />\n      </div>\n      <div className=\"form-buttons\">\n        <textarea className=\"input\" id=\"json-text-save\" rows={10} value={dataToSave} onChange={handleDataChange} />\n      </div>\n      <div className=\"form-buttons\">\n        <button className=\"btn--submit\" onClick={handleSet} type=\"button\" id=\"data-save\">\n          \n        </button>\n      </div>\n      <div className=\"from-block\">\n        <span className=\"feature-page__title\"> </span>\n        <div className=\"form-buttons\">\n          <input className=\"input\" onChange={handleKeyChange} value={key} type=\"text\" id=\"key2-text\" />\n        </div>\n        <div className=\"form-buttons\">\n          <textarea className=\"input\" id=\"json-text-load\" rows={10} value={storageData} />\n        </div>\n        <div className=\"form-buttons\">\n          <button className=\"btn--submit\" onClick={handleGet} type=\"button\" id=\"data-load\">\n            \n          </button>\n        </div>\n      </div>\n      <div className=\"from-block\">\n        <span className=\"feature-page__title\"> </span>\n        <div className=\"form-buttons\">\n          <input className=\"input\" onChange={handleKeyChange} value={key} type=\"text\" id=\"key2-text\" />\n        </div>\n        <div className=\"form-buttons\">\n          <button className=\"btn--submit\" onClick={handleRemove} type=\"button\" id=\"data-remove\">\n            \n          </button>\n        </div>\n      </div>\n      <div className=\"from-block\">\n        <span className=\"feature-page__title\"> </span>\n        <div className=\"form-buttons\">\n          <button className=\"btn--submit\" onClick={handleClear} type=\"button\" id=\"data-clear\">\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ClientStorage\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { HANDLE_DEEPLINK_FEATURE } from '../../constants'\nimport { useState } from 'react'\nimport './HandleDeeplinkPage.scss'\nimport { handleDeeplink } from '../../redux/actions/client'\nimport { useDispatch } from 'react-redux'\n\nexport default function HandleDeeplinkPage() {\n  const dispatch = useDispatch()\n  const [deeplink, setDeeplink] = useState('')\n\n  const handleDeeplinkChange = (event: any) => setDeeplink(event.target.value)\n\n  const handleSubmit = () => dispatch(handleDeeplink(deeplink))\n\n  return (\n    <>\n      <div className=\"feature-page\">\n        <FeaturePageHeader name={HANDLE_DEEPLINK_FEATURE.name} />\n        <span className=\"feature-page__title\">Deeplink</span>\n        <div className=\"handle-deeplink-page\">\n          <input className=\"input\" type=\"url\" defaultValue={deeplink} onChange={handleDeeplinkChange} />\n        </div>\n        <div className=\"form-buttons\">\n          <button className=\"btn--submit\" onClick={handleSubmit} type=\"button\" id=\"open-btn\">\n            \n          </button>\n          </div>\n      </div>\n    </>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { SEARCH_PHONEBOOK } from '../../constants'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport JsonViewer from '../ui/json-editor/JsonViewer'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { resetExpressResponse, searchCorporatePhonebook, searchLocalPhonebook } from '../../redux/actions/client'\nimport { getExpressResponse } from '../../redux/selectors/client'\n\nexport default function SearchPhonebookPage() {\n  const dispatch = useDispatch()\n  const response = useSelector(getExpressResponse)\n  const [filter, setFilter] = useState('')\n\n  useEffect(() => {\n    dispatch(resetExpressResponse())\n  }, [dispatch])\n\n  const handleChange = e => setFilter(e.target.value || null)\n\n  const handleCorpSearch = () => {\n    dispatch(resetExpressResponse())\n    dispatch(searchCorporatePhonebook(filter))\n  }\n\n  const handleLocalSearch = () => {\n    dispatch(resetExpressResponse())\n    dispatch(searchLocalPhonebook(filter))\n  }\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={SEARCH_PHONEBOOK.name} />\n      <div className=\"feature-page__form\">\n        <span className=\"feature-page__title\">Filter</span>\n        <input className=\"input\" onChange={handleChange} value={filter} id=\"filter-text\" />\n        <div className=\"form-buttons\">\n          <button className=\"btn--submit\" onClick={handleCorpSearch} type=\"button\" id=\"corp-submit\">\n            <span className=\"material-icons\">cases</span>\n              \n          </button>\n        </div>\n        <div className=\"form-buttons\">\n          <button className=\"btn--submit\" onClick={handleLocalSearch} type=\"button\" id=\"local-submit\">\n            <span className=\"material-icons\">phone_iphone</span>\n              \n          </button>\n        </div>\n      </div>\n      <br />\n      <br />\n      {response?.payload && <JsonViewer botResponse={response.payload} id=\"response\" />}\n    </div>\n  )\n}\n","import { LOCALE_FEATURE } from '../../constants'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { useEffect, useState } from 'react'\n\nexport default function LocalePage() {\n  const [locale, setLocale] = useState('')\n\n  useEffect(() => {\n    const searchParams = new URLSearchParams(window.location.search)\n    const locale = searchParams.get('locale') || 'unknown'\n\n    setLocale(locale)\n\n    return () => {}\n  }, [setLocale])\n\n  return (\n    <div className=\"feature-page\">\n      <FeaturePageHeader name={LOCALE_FEATURE.name} />\n       \n      <input id=\"locale-txt\" value={locale} className=\"input\" disabled />\n    </div>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { UNREAD_COUNTER_FEATURE } from '../../constants'\nimport classNames from 'classnames'\nimport { AppState } from '../../types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getUnreadCounter, setUnreadCounter, subscribeUnreadCounter, unsubscribeUnreadCounter } from '../../redux/actions/client'\nimport { useState } from 'react'\nimport { SubscriptionPayload } from '@expressms/smartapp-sdk/build/main/types'\n\nconst TYPES = ['user', 'chat', 'smartapp']\n\nfunction UnreadCountersPage() {\n  const dispatch = useDispatch()\n  const [id, setId] = useState('')\n  const [type, setType] = useState(TYPES[0] as SubscriptionPayload['type'])\n\n  const unreadCounter = useSelector<AppState>(state => state.client.unreadCounter)\n\n  const handleIdChange = (event) => setId(event.target.value)\n\n  const handleTypeChange = (event) => setType(event.target.value)\n\n  const handleSubscribe = () => dispatch(subscribeUnreadCounter(id, type))\n  \n  const handleUnsubscribe = () => dispatch(unsubscribeUnreadCounter(id, type))\n\n  const handleGetUnreadCounter = () => {\n    dispatch(setUnreadCounter(-1))\n    dispatch(getUnreadCounter(id, type))\n  }\n\n  return (\n    <div className=\"feature-page file-proxy\">\n      <FeaturePageHeader name={UNREAD_COUNTER_FEATURE.name} />\n      <span className=\"feature-page__title\"></span>\n      <div className=\"form-buttons\">\n        <select className=\"input\" onChange={handleTypeChange} defaultValue={type} id=\"type-select\">\n          {TYPES.map(t => (\n            <option key={t} value={t}>{t}</option>\n          ))}\n        </select>\n      </div>\n      <span className=\"feature-page__title\">ID</span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" onChange={handleIdChange} value={id} type=\"text\" id=\"id-text\" />\n      </div>\n      {unreadCounter !== -1 && (\n        <>\n          <span className=\"feature-page__title\"></span>\n          <input className=\"input\" value={unreadCounter.toString()} type=\"text\" id=\"counter-text\" disabled />\n        </>\n      )}\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleGetUnreadCounter}\n          id=\"get-status-btn\"\n        >\n           \n        </button>\n      </div>\n      <br/><br/>\n      <div className=\"form-buttons\">\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleSubscribe}\n          id=\"subscribe-btn\"\n        >\n          \n        </button>\n        <button\n          className={classNames({ 'btn--submit': true })}\n          type=\"submit\"\n          onClick={handleUnsubscribe}\n          id=\"unsubscribe-btn\"\n        >\n          \n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default UnreadCountersPage\n","import { useLayoutEffect, useState } from 'react'\nimport * as am5 from '@amcharts/amcharts5'\nimport * as am5xy from '@amcharts/amcharts5/xy'\nimport am5themes_Animated from '@amcharts/amcharts5/themes/Animated'\n\nfunction PerfomanceChart({ width, height, data }) {\n  const [chartObj, setChartObj] = useState(null)\n\n  const calcAvg = attr => {\n    const filtered = data.filter(row => row[attr] !== undefined)\n    const avg = filtered.reduce((avg, row) => avg + ~~row[attr] / filtered.length, 0)\n    return parseInt(avg, 10)\n  }\n\n  const createRange = (chart, value, label, color) => {\n    const data = chart.xAxes.getIndex(0).makeDataItem({ value })\n    const range = chart.yAxes.getIndex(0).createAxisRange(data)\n\n    range.get('grid').setAll({\n      stroke: am5.color(color),\n      strokeOpacity: 1,\n      strokeDasharray: 2,\n      strokeWidth: 3,\n      location: 1,\n    })\n    range.get('label').setAll({\n      text: label,\n      fill: am5.color('#fff'),\n      inside: true,\n      centerX: 0,\n      location: 1,\n      dx: 0,\n      background: am5.RoundedRectangle.new(chart.root, {\n        fill: am5.color(color),\n        fillOpacity: 0.8,\n      }),\n    })\n    range.get('label').adapters.add('x', () => chart.plotContainer.width())\n    chart.plotContainer.onPrivate('width', () => range.get('label').markDirtyPosition())\n  }\n\n  const createSerie = (chart, attr, color) => {\n    const series = chart.series.push(\n      am5xy.ColumnSeries.new(chart.root, {\n        name: attr,\n        xAxis: chart.xAxes.getIndex(0),\n        yAxis: chart.yAxes.getIndex(0),\n        valueYField: attr,\n        categoryXField: 'eventNumber',\n        clustered: true,\n        tooltip: am5.Tooltip.new(chart.root, {}),\n        fill: am5.color(color),\n      })\n    )\n    series.data.setAll(data)\n    series.get('tooltip').label.set('text', '{valueY}')\n  }\n\n  const createRanges = chart => {\n    while (chart.yAxes.getIndex(0).axisRanges.length) {\n      chartObj.yAxes.getIndex(0).axisRanges.removeIndex(0)\n    }\n\n    ;[\n      { attr: 'sync', color: '#070' },\n      { attr: 'async', color: '#49b' },\n    ].forEach(({ attr, color }) => {\n      const avg = calcAvg(attr)\n      createRange(chart, avg, `${avg} ms`, color)\n    })\n  }\n\n  useLayoutEffect(() => {\n    const root = am5.Root.new('chartdiv')\n\n    const theme = am5themes_Animated.new(root)\n    theme.rule('Label').setAll({ fontSize: '0.6em' })\n    root.setThemes([theme])\n\n    const chart = root.container.children.push(\n      am5xy.XYChart.new(root, {\n        layout: root.verticalLayout,\n        paddingRight: 80,\n      })\n    )\n\n    chart.yAxes.push(\n      am5xy.ValueAxis.new(root, {\n        renderer: am5xy.AxisRendererY.new(root, {}),\n        min: 0,\n      })\n    )\n\n    chart.xAxes.push(\n      am5xy.CategoryAxis.new(root, {\n        renderer: am5xy.AxisRendererX.new(root, {\n          cellStartLocation: 0.2,\n          cellEndLocation: 0.8,\n        }),\n        categoryField: 'eventNumber',\n      })\n    )\n\n    chart.xAxes.getIndex(0).data.setAll(data)\n\n    createSerie(chart, 'sync', '#070')\n    createSerie(chart, 'async', '#49b')\n    createRanges(chart)\n    setChartObj(chart)\n\n    let legend = chart.children.push(am5.Legend.new(root, {}))\n    legend.data.setAll(chart.series.values)\n\n    chart.set('cursor', am5xy.XYCursor.new(root, {}))\n\n    return () => root.dispose()\n  }, [])\n\n  useLayoutEffect(() => {\n    if (!chartObj) return\n\n    chartObj.xAxes.getIndex(0).data.setAll(data)\n    chartObj.series.getIndex(0).data.setAll(data)\n    chartObj.series.getIndex(1).data.setAll(data)\n\n    createRanges(chartObj)\n  }, [data, chartObj])\n\n  return <div id=\"chartdiv\" style={{ width, height }}></div>\n}\n\nexport default PerfomanceChart\n","import { useDispatch, useSelector } from \"react-redux\"\nimport { toggleHighloadTest } from \"../../redux/actions/ui\"\nimport { AppState } from \"../../types\"\n\nfunction HighLoad() {\n  const dispatch = useDispatch()\n  const { running, requestRps, responseRps, responseTimeAvg } = useSelector((state: AppState) => state.ui.highloadTest)\n\n  const handleToggleHighLoadTest = () => dispatch(toggleHighloadTest())\n\n  return (\n    <div className=\"from-block\">\n      <span className=\"feature-page__title\"><b> </b></span>\n      <br/>\n      <br/>\n      <span className=\"feature-page__title\">RPS  </span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" value={requestRps} type=\"text\" id=\"req-rps-text\" disabled />\n      </div>\n      <span className=\"feature-page__title\">RPS  </span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" value={responseRps} type=\"text\" id=\"resp-rps-text\" disabled />\n      </div>\n      <span className=\"feature-page__title\">  </span>\n      <div className=\"form-buttons\">\n        <input className=\"input\" value={responseTimeAvg} type=\"text\" id=\"resp-avg-text\" disabled/>\n      </div>\n      <div className=\"form-buttons\">\n        <button className=\"btn--submit\" onClick={handleToggleHighLoadTest} type=\"button\" id=\"data-load\">\n          {running ? \" \" : \" \"}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default HighLoad\n","import { useDispatch, useSelector } from 'react-redux'\nimport FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { SYNC_REQUEST_FEATURE } from '../../constants'\nimport PerfomanceChart from './PerfomanceChart'\nimport { togglePerformanceTest } from '../../redux/actions/ui'\nimport { AppState } from '../../types'\nimport { sendMenuAsyncEvent, sendMenuSyncEvent } from '../../redux/actions/bot'\nimport JsonViewerEditor from '../ui/json-editor/JsonViewer'\nimport HighLoad from './HighLoad'\n\nexport default function SyncRequestPage() {\n  const dispatch = useDispatch()\n  const { results, progress, running } = useSelector((state: AppState) => state.ui.performanceTest)\n  const { menuResponse } = useSelector((state: AppState) => state.bot)\n\n  const handleTogglePerformanceTest = () => dispatch(togglePerformanceTest())\n\n  const handleSendSyncEvent = () => dispatch(sendMenuSyncEvent())\n\n  const handleSendAsyncEvent = () => dispatch(sendMenuAsyncEvent())\n\n  return (\n    <>\n      <div className=\"feature-page\">\n        <FeaturePageHeader name={SYNC_REQUEST_FEATURE.name} />\n        <span className=\"feature-page__title\">\n          <b> </b>\n        </span>\n        <PerfomanceChart width=\"100%\" height=\"300px\" data={results} />\n        <div className=\"form-buttons\">\n          <button className=\"btn--submit\" onClick={handleTogglePerformanceTest} type=\"button\" id=\"run-test\">\n            {running ? `[${progress}%]  ` : ' '}\n          </button>\n        </div>\n        <br />\n        <br />\n        <span className=\"feature-page__title\">\n          <b> </b>\n        </span>\n        <div className=\"form-buttons\">\n          <button className=\"btn--submit\" type=\"submit\" onClick={handleSendSyncEvent} id=\"subscribe-btn\">\n            \n          </button>\n          <button className=\"btn--submit\" type=\"submit\" onClick={handleSendAsyncEvent} id=\"unsubscribe-btn\">\n            \n          </button>\n        </div>\n        <br />\n        {menuResponse && <JsonViewerEditor height={24} botResponse={menuResponse} />}\n        <HighLoad/>\n      </div>\n    </>\n  )\n}\n","import FeaturePageHeader from '../ui/feature-page-header/FeaturePageHeader'\nimport { LAYOUT_TYPE_FEATURE } from '../../constants'\nimport { AppState } from '../../types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getLayoutType, subscribeLayoutType, unsubscribeLayoutType } from '../../redux/actions/client'\nimport { useLayoutEffect } from 'react'\n\nfunction LayoutTypePage() {\n  const dispatch = useDispatch()\n\n  const layoutType = useSelector<AppState>(state => state.client.layoutType)\n\n  useLayoutEffect(() => {\n    dispatch(getLayoutType())\n    dispatch(subscribeLayoutType())\n\n    return () => {\n      dispatch(unsubscribeLayoutType())\n    }\n  }, [dispatch])\n\n  return (\n    <div className=\"feature-page file-proxy\">\n      <FeaturePageHeader name={LAYOUT_TYPE_FEATURE.name} />\n      <span className=\"feature-page__title\">  </span>\n      <input className=\"input\" value={`${layoutType}`} type=\"text\" id=\"layout-type-text\" disabled />\n    </div>\n  )\n}\n\nexport default LayoutTypePage\n","import './FeatureSmartapp.scss'\nimport 'material-icons/iconfont/material-icons.css'\nimport { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ToastContainer } from 'react-toastify'\nimport { getFeaturesMenu } from '../../redux/selectors/bot'\nimport { Link, Route, Switch, HashRouter } from 'react-router-dom'\nimport FeaturePage from '../feature-page/FeaturePage'\nimport { loadFeatures } from '../../redux/actions/bot'\nimport { ReactComponent as BotxIcon } from '../../assets/botx-icon.svg'\nimport 'react-toastify/dist/ReactToastify.css'\nimport {\n  CLIENT_STORAGE,\n  CLOSE_SMART_APP_FEATURE,\n  CONNECTION_STATUS,\n  CREATE_DEEPLINK,\n  ECHO_STATIC_FILE_FEATURE,\n  EXPRESS_FEATURES,\n  EXPRESS_NOTIFICATION_FEATURE,\n  FILE_PROXY,\n  GUARANTEED_DELIVERY_FEATURE,\n  HANDLE_DEEPLINK_FEATURE,\n  IOS_SWIPE,\n  LAYOUT_TYPE_FEATURE,\n  LOCALE_FEATURE,\n  MENU_ITEM_MESSAGE_META,\n  OPEN_CHAT_MESSAGE,\n  OPEN_FILE_FEATURE,\n  OPEN_SMART_APP_META_FEATURE,\n  OPEN_WEB_PAGE_FEATURE,\n  REQUEST_LOCATION,\n  REQUEST_SELF_PROFILE_FEATURE,\n  SCAN_QR_FEATURE,\n  SEARCH_PHONEBOOK,\n  SYNC_REQUEST_FEATURE,\n  UNREAD_COUNTER_FEATURE,\n} from '../../constants'\nimport ExpressNotifications from '../../components/express-notifications/ExpressNotifications'\nimport MetaPage from '../../components/meta-page/MetaPage'\nimport { getRedirectPath } from '../../redux/selectors/ui'\nimport { history } from '../../redux/history'\nimport { ScanQRPage } from '../../components/scan-qr-page/ScanQRPage'\nimport OpenFile from '../../components/open-file/OpenFile'\nimport { BotFeatureMethod, ExpressFeatureMethod } from '../../types'\nimport { openClientSettings, useQuery } from '@expressms/smartapp-sdk'\nimport OpenWebPage from '../../components/open-web-page/OpenWebPage'\nimport RequestLocation from '../../components/request-location/RequestLocation'\nimport EchoStaticFile from '../../components/echo-static-file/EchoStaticFile'\nimport Version from '../../components/ui/version/Version'\nimport RequestSelfProfile from '../../components/request-self-profile/RequestSelfProfile'\nimport CloseSmartApp from '../../components/close-smart-app/CloseSmartApp'\nimport FileProxy from '../../components/file-proxy/FileProxy'\nimport ConnectionStatus from '../../components/connection-status/ConnectionStatus'\nimport CreateDeeplink from '../../components/create-deeplink/CreateDeeplink'\nimport IosSwipeToggler from '../../components/ios-swipe-toggler/IosSwipeToggler'\nimport OpenMessage from '../../components/open-message/OpenMessage'\nimport ClientStorage from '../../components/client-storage/ClientStorage'\nimport HandleDeeplinkPage from '../../components/handle-deeplink/HandleDeeplinkPage'\nimport SearchPhonebookPage from '../../components/search-phonebook/SearchPhonebookPage'\nimport LocalePage from '../../components/locale/LocalePage'\nimport UnreadCountersPage from '../../components/unread-counters/UnreadCounters'\nimport SyncRequestPage from '../../components/sync-request/SyncRequestPage'\nimport LayoutTypePage from '../../components/layout-type/LayoutTypePage'\n\nexport default function FeatureSmartapp() {\n  const dispatch = useDispatch()\n  const botFeatures = useSelector(getFeaturesMenu)\n  const redirectPath = useSelector(getRedirectPath)\n  const { platform } = useQuery()\n\n  const handleOpenClientSettings = (e) => {\n    if (platform !== 'web') {\n      openClientSettings()\n    } else {\n      alert('Feature is unavailable on web client')\n    }\n    e.preventDefault()\n  }\n\n  useEffect(() => {\n    if (redirectPath) history.push(redirectPath)\n\n    if (!botFeatures) dispatch(loadFeatures())\n  }, [dispatch, redirectPath, botFeatures])\n\n  return (\n    <div className='feature-smartapp'>\n      <div className='header'>\n        <span className='header__content'>\n          <BotxIcon className='header__icon' height={20} width={20} />\n          <span className='header__text' id='toolbar-title'>Feature Smartapp</span>\n        </span>\n      </div>\n      <ToastContainer />\n      <section className='feature-smartapp__menu'>\n        <HashRouter>\n          <Switch>\n            {botFeatures?.length && botFeatures.map(item => {\n              return item.name === ECHO_STATIC_FILE_FEATURE.name ? (\n                <Route\n                  key={`${BotFeatureMethod.ECHO_STATIC_FILE}-route`}\n                  path={`/${BotFeatureMethod.ECHO_STATIC_FILE}`}\n                >\n                  <EchoStaticFile />\n                </Route>\n              ) : (\n                <Route\n                  key={`${item.method}-route`}\n                  path={`/${item.method}`}\n                >\n                  <FeaturePage {...item} />\n                </Route>\n              )\n            })}\n            <Route\n              key={`${SEARCH_PHONEBOOK.method}-route`}\n              path={`/${SEARCH_PHONEBOOK.method}`}\n            >\n              <SearchPhonebookPage />\n            </Route>\n            <Route\n              key={`${GUARANTEED_DELIVERY_FEATURE.path}-route`}\n              path={`/${GUARANTEED_DELIVERY_FEATURE.path}`}\n            >\n              <FeaturePage\n                name={GUARANTEED_DELIVERY_FEATURE.name}\n                method={GUARANTEED_DELIVERY_FEATURE.method}\n                uiElements={GUARANTEED_DELIVERY_FEATURE.uiElements}\n              />\n            </Route>\n            {EXPRESS_FEATURES.map(item => (\n              <Route\n                key={`${item.method}-route`}\n                path={`/${item.method}`}\n              >\n                <FeaturePage {...item} />\n              </Route>\n            ))}\n            <Route\n              key={`${OPEN_SMART_APP_META_FEATURE.method}-route`}\n              path={`/${OPEN_SMART_APP_META_FEATURE.method}`}\n            >\n              <MetaPage name={OPEN_SMART_APP_META_FEATURE.name} />\n            </Route>\n            <Route\n              key={`${EXPRESS_NOTIFICATION_FEATURE.method}-route`}\n              path={`/${EXPRESS_NOTIFICATION_FEATURE.method}`}\n            >\n              <ExpressNotifications />\n            </Route>\n            <Route\n              key={`${SCAN_QR_FEATURE.method}-route`}\n              path={`/${SCAN_QR_FEATURE.method}`}\n            >\n              <ScanQRPage />\n            </Route>\n            <Route\n              key={`${OPEN_FILE_FEATURE.method}-route`}\n              path={`/${OPEN_FILE_FEATURE.method}`}\n            >\n              <OpenFile />\n            </Route>\n            <Route\n              key={`${OPEN_WEB_PAGE_FEATURE.method}-route`}\n              path={`/${OPEN_WEB_PAGE_FEATURE.method}`}\n            >\n              <OpenWebPage />\n            </Route>\n            <Route\n              key={`${REQUEST_LOCATION.method}-route`}\n              path={`/${REQUEST_LOCATION.method}`}\n            >\n              <RequestLocation />\n            </Route>\n            <Route\n              key={`${REQUEST_SELF_PROFILE_FEATURE.method}-route`}\n              path={`/${REQUEST_SELF_PROFILE_FEATURE.method}`}\n            >\n              <RequestSelfProfile />\n            </Route>\n            <Route\n              key={`${CLOSE_SMART_APP_FEATURE.method}-route`}\n              path={`/${CLOSE_SMART_APP_FEATURE.method}`}\n            >\n              <CloseSmartApp />\n            </Route>\n            <Route\n              key={`${FILE_PROXY.method}-route`}\n              path={`/${FILE_PROXY.method}`}\n            >\n              <FileProxy />\n            </Route>\n            <Route\n              key={`${CONNECTION_STATUS.method}-route`}\n              path={`/${CONNECTION_STATUS.method}`}\n            >\n              <ConnectionStatus />\n            </Route>\n            <Route\n              key={`${MENU_ITEM_MESSAGE_META.method}-route`}\n              path={`/${MENU_ITEM_MESSAGE_META.method}`}\n            >\n              <MetaPage name={MENU_ITEM_MESSAGE_META.name} />\n            </Route>\n            <Route\n              key={`${CREATE_DEEPLINK.method}-route`}\n              path={`/${CREATE_DEEPLINK.method}`}\n            >\n              <CreateDeeplink />\n            </Route>\n            <Route\n              key={`${IOS_SWIPE.method}-route`}\n              path={`/${IOS_SWIPE.method}`}\n            >\n              <IosSwipeToggler />\n            </Route>\n            <Route\n              key={`${OPEN_CHAT_MESSAGE.method}-route`}\n              path={`/${OPEN_CHAT_MESSAGE.method}`}\n            >\n              <OpenMessage />\n            </Route>\n            <Route\n              key={`${CLIENT_STORAGE.method}-route`}\n              path={`/${CLIENT_STORAGE.method}`}\n            >\n              <ClientStorage />\n            </Route>\n            <Route\n              key={`${HANDLE_DEEPLINK_FEATURE.method}-route`}\n              path={`/${HANDLE_DEEPLINK_FEATURE.method}`}\n            >\n              <HandleDeeplinkPage />\n            </Route>\n            <Route\n              key={`${UNREAD_COUNTER_FEATURE.method}-route`}\n              path={`/${UNREAD_COUNTER_FEATURE.method}`}\n            >\n              <UnreadCountersPage />\n            </Route>\n            <Route\n              key={`${LOCALE_FEATURE.method}-route`}\n              path={`/${LOCALE_FEATURE.method}`}\n            >\n              <LocalePage />\n            </Route>\n            <Route\n              key={`${SYNC_REQUEST_FEATURE.method}-route`}\n              path={`/${SYNC_REQUEST_FEATURE.method}`}\n            >\n              <SyncRequestPage />\n            </Route>\n            <Route\n              key={`${LAYOUT_TYPE_FEATURE.method}-route`}\n              path={`/${LAYOUT_TYPE_FEATURE.method}`}\n            >\n              <LayoutTypePage />\n            </Route>\n            <Route path={'/'}>\n              {botFeatures?.length && (\n                <span className={'feature-smartapp__menu-title'}>Bot methods</span>\n              )}\n              {botFeatures?.length && botFeatures?.map(item => (\n                <Link\n                  className='feature-smartapp__menu-item'\n                  key={`${item.method}-link`}\n                  to={`/${item.method}`}\n                >\n                  <span className=\"material-icons\">send</span>\n                  {item.name}\n                </Link>\n              ))}\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${GUARANTEED_DELIVERY_FEATURE.path}-link`}\n                to={`/${GUARANTEED_DELIVERY_FEATURE.path}`}\n              >\n                <span className=\"material-icons\">delivery_dining</span>\n                {GUARANTEED_DELIVERY_FEATURE.name}\n              </Link>\n              <span className={'feature-smartapp__menu-title'}>\n                Client methods\n              </span>\n              {EXPRESS_FEATURES.map(item => (\n                  item.method === ExpressFeatureMethod.OPEN_CLIENT_SETTINGS ? (\n                    <a\n                      href=\"#/\"\n                      key={`${item.method}-route`}\n                      className='feature-smartapp__menu-item'\n                      onClick={handleOpenClientSettings}\n                    >\n                      <span className=\"material-icons\">{item.icon}</span>\n                      {item.name}\n                    </a>\n                  ) : (\n                    <Link\n                      className='feature-smartapp__menu-item'\n                      key={`${item.method}-link`}\n                      to={`/${item.method}`}\n                    >\n                      <span className=\"material-icons\">{item.icon}</span>\n                      {item.name}\n                    </Link>\n                  )\n                ),\n              )}\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${SEARCH_PHONEBOOK.method}-link`}\n                to={`/${SEARCH_PHONEBOOK.method}`}\n              >\n                <span className=\"material-icons\">contacts</span>\n                {SEARCH_PHONEBOOK.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${EXPRESS_NOTIFICATION_FEATURE.method}-link`}\n                to={`/${EXPRESS_NOTIFICATION_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">notifications_none</span>\n                {EXPRESS_NOTIFICATION_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${SCAN_QR_FEATURE.method}-link`}\n                to={`/${SCAN_QR_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">qr_code</span>\n                {SCAN_QR_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${OPEN_WEB_PAGE_FEATURE.method}-link`}\n                to={`/${OPEN_WEB_PAGE_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">open_in_new</span>\n                {OPEN_WEB_PAGE_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${REQUEST_LOCATION.method}-link`}\n                to={`/${REQUEST_LOCATION.method}`}\n              >\n                <span className=\"material-icons\">my_location</span>\n                {REQUEST_LOCATION.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${REQUEST_SELF_PROFILE_FEATURE.method}-link`}\n                to={`/${REQUEST_SELF_PROFILE_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">face</span>\n                {REQUEST_SELF_PROFILE_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${CLOSE_SMART_APP_FEATURE.method}-link`}\n                to={`/${CLOSE_SMART_APP_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">close</span>\n                {CLOSE_SMART_APP_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${FILE_PROXY.method}-link`}\n                to={`/${FILE_PROXY.method}`}\n              >\n                <span className=\"material-icons\">drive_file_move</span>\n                {FILE_PROXY.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${CONNECTION_STATUS.method}-link`}\n                to={`/${CONNECTION_STATUS.method}`}\n              >\n                <span className=\"material-icons\">wifi_off</span>\n                {CONNECTION_STATUS.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${CREATE_DEEPLINK.method}-link`}\n                to={`/${CREATE_DEEPLINK.method}`}\n              >\n                <span className=\"material-icons\">link</span>\n                {CREATE_DEEPLINK.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${IOS_SWIPE.method}-link`}\n                to={`/${IOS_SWIPE.method}`}\n              >\n                <span className=\"material-icons\">swipe</span>\n                {IOS_SWIPE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${OPEN_CHAT_MESSAGE.method}-link`}\n                to={`/${OPEN_CHAT_MESSAGE.method}`}\n              >\n                <span className=\"material-icons\">message</span>\n                {OPEN_CHAT_MESSAGE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${CLIENT_STORAGE.method}-link`}\n                to={`/${CLIENT_STORAGE.method}`}\n              >\n                <span className=\"material-icons\">storage</span>\n                {CLIENT_STORAGE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${HANDLE_DEEPLINK_FEATURE.method}-link`}\n                to={`/${HANDLE_DEEPLINK_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">add_link</span>\n                {HANDLE_DEEPLINK_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${LOCALE_FEATURE.method}-link`}\n                to={`/${LOCALE_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">language</span>\n                {LOCALE_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${UNREAD_COUNTER_FEATURE.method}-link`}\n                to={`/${UNREAD_COUNTER_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">1k_plus</span>\n                {UNREAD_COUNTER_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${SYNC_REQUEST_FEATURE.method}-link`}\n                to={`/${SYNC_REQUEST_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">timer</span>\n                {SYNC_REQUEST_FEATURE.name}\n              </Link>\n              <Link\n                className='feature-smartapp__menu-item'\n                key={`${LAYOUT_TYPE_FEATURE.method}-link`}\n                to={`/${LAYOUT_TYPE_FEATURE.method}`}\n              >\n                <span className=\"material-icons\">settings_overscan</span>\n                {LAYOUT_TYPE_FEATURE.name}\n              </Link>\n            </Route>\n          </Switch>\n        </HashRouter>\n      </section>\n      <Version/>\n    </div>\n  )\n}\n","import { BotMethodResponse } from '../../types'\nimport './Notifier.scss'\n\nexport default function Notifier({ result, status }: BotMethodResponse['payload']) {\n  return (\n    <div className={'notifier'}>\n      <span className={'notifier__text'}>{result}</span>\n      <span className={'notifier__text'}>Status: {status}</span>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Bridge as bridge } from '@expressms/smartapp-sdk'\nimport MainLoader from './ui/main-loader/MainLoader'\nimport FeatureSmartapp from '../containers/feature-smartapp/FeatureSmartapp'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { BotMethodResponse, EventType, ExpressNotification } from '../types'\nimport { sendReadyEvent, setExpressNotificationSuccess } from '../redux/actions/client'\nimport Notifier from './notifier/Notifier'\nimport { getMainLoader } from '../redux/selectors/ui'\n\nexport default function Main() {\n  const dispatch = useDispatch()\n  const isMainLoader = useSelector(getMainLoader)\n  const [load, setLoad] = useState(true)\n  const [notifier, setNotifier] = useState<BotMethodResponse['payload'] | null>(null)\n\n  useEffect(() => {\n    if (load) {\n      setLoad(false)\n      dispatch(sendReadyEvent())\n    }\n\n    bridge?.onReceive(({ type, payload }) => {\n      if (typeof payload !== 'object') return\n\n      switch (type) {\n        case EventType.SMARTAPP_RPC: {\n          setNotifier(payload as BotMethodResponse['payload'])\n          setTimeout(() => setNotifier(null), 3000)\n          break\n        }\n        case EventType.NOTIFICATION: {\n          dispatch(setExpressNotificationSuccess(payload as ExpressNotification))\n          break\n        }\n        default: \n          break\n      }\n    })\n  }, [dispatch, load])\n\n  return (\n    <>\n      {isMainLoader && <MainLoader />}\n      <FeatureSmartapp />\n      {notifier && <Notifier {...notifier} />}\n    </>\n  )\n}\n","import { handleActions } from 'redux-actions'\nimport { UIState } from '../../types'\nimport {\n  SET_HIGHLOAD_TEST_PROGRESS,\n  SET_MAIN_LOADER,\n  SET_PERFORMANCE_TEST_PROGRESS,\n  SET_REDIRECT_PATH,\n  SET_SHOW_IOS_SWIPE_TOAST,\n  TOGGLE_HIGHLOAD_TEST,\n  TOGGLE_PERFORMANCE_TEST,\n  setHighloadTestProgressActionType,\n  setMainLoaderActionType,\n  setPerformanceTestProgressActionType,\n  setRedirectPathActionType,\n  setShowIosSwipeToastActionType,\n} from '../actions/ui'\nimport { getQueryParam } from '../../helpers'\n\nconst initialState: UIState = {\n  mainLoader: false,\n  redirectPath: '',\n  theme: getQueryParam('theme') || 'default',\n  showIosSwipeToast: false,\n  performanceTest: {\n    progress: 0,\n    running: false,\n    results: [],\n  },\n  highloadTest: {\n    running: false,\n    requestRps: 0,\n    responseRps: 0,\n    responseTimeAvg: -1,\n    progress: 0,\n  },\n}\n\nconst reducers = {\n  [SET_MAIN_LOADER]: (state: UIState, { payload: mainLoader }: setMainLoaderActionType): UIState => ({\n    ...state,\n    mainLoader,\n  }),\n  [SET_REDIRECT_PATH]: (state: UIState, { payload: redirectPath }: setRedirectPathActionType): UIState => ({\n    ...state,\n    redirectPath,\n  }),\n  [SET_SHOW_IOS_SWIPE_TOAST]: (\n    state: UIState,\n    { payload: showIosSwipeToast }: setShowIosSwipeToastActionType\n  ): UIState => ({\n    ...state,\n    showIosSwipeToast,\n  }),\n  [TOGGLE_PERFORMANCE_TEST]: ({ performanceTest: { running, ...perf }, ...state }: UIState): UIState => ({\n    ...state,\n    performanceTest: {\n      ...perf,\n      progress: 0,\n      running: !running,\n      results: running ? perf.results : [],\n    },\n  }),\n  [SET_PERFORMANCE_TEST_PROGRESS]: (\n    state: UIState,\n    { payload: { progress, results } }: setPerformanceTestProgressActionType\n  ): UIState => ({\n    ...state,\n    performanceTest: {\n      ...state.performanceTest,\n      progress,\n      results,\n    },\n  }),\n  [TOGGLE_HIGHLOAD_TEST]: ({ highloadTest: { running, ...highload }, ...state }: UIState): UIState => ({\n    ...state,\n    highloadTest: {\n      ...(running ? highload : initialState.highloadTest),\n      running: !running\n    },\n  }),\n  [SET_HIGHLOAD_TEST_PROGRESS]: (\n    state: UIState,\n    { payload: { requestRps, responseRps, responseTimeAvg } }: setHighloadTestProgressActionType\n  ): UIState => ({\n    ...state,\n    highloadTest: {\n      ...state.highloadTest,\n      requestRps,\n      responseRps,\n      responseTimeAvg,\n    },\n  })\n}\n\nexport const ui = handleActions<UIState, any>(reducers, initialState)\n","import { handleActions } from 'redux-actions'\nimport { BotState } from '../../types'\nimport {\n  LOAD_FEATURES_SUCCESS,\n  loadFeaturesSuccessActionType,\n  RESET_RESPONSE,\n  SEND_FEATURE_BOT_EVENT_SUCCESS,\n  SET_MENU_RESPONSE,\n  SET_STATIC_FILE,\n  setMenuResponseActionType,\n  setStaticFileActionType,\n} from '../actions/bot'\n\nconst initialState: BotState = {\n  features: null,\n  response: null,\n  notifications: null,\n  staticFile: null,\n  menuResponse: null,\n}\n\nconst reducers = {\n  [LOAD_FEATURES_SUCCESS]: (\n    state: BotState, { payload: features }: loadFeaturesSuccessActionType,\n  ): BotState => ({\n    ...state,\n    features,\n  }),\n  [SEND_FEATURE_BOT_EVENT_SUCCESS]: (state: BotState, { payload: response }: any): BotState => ({\n    ...state,\n    response,\n  }),\n  [RESET_RESPONSE]: (state: BotState): BotState => ({\n    ...state,\n    response: null,\n  }),\n  [SET_STATIC_FILE]: (\n    state: BotState, { payload: staticFile }: setStaticFileActionType\n  ): BotState => ({\n    ...state,\n    staticFile,\n  }),\n  [SET_MENU_RESPONSE]: (\n    state: BotState, { payload: menuResponse }: setMenuResponseActionType\n  ): BotState => ({\n    ...state,\n    menuResponse,\n  }),\n}\n\nexport const bot = handleActions(reducers, initialState)\n","import { handleActions } from 'redux-actions'\nimport { ClientState } from '../../types'\n\nimport {\n  REMOVE_FILE_SUCCESS,\n  removeFileSuccessActionType,\n  RESET_ATTACHMENTS,\n  RESET_EXPRESS_NOTIFICATION_SUCCESS,\n  RESET_EXPRESS_RESPONSE,\n  SEND_EXPRESS_EVENT_SUCCESS,\n  sendExpressEventSuccessActionType,\n  SET_EXPRESS_NOTIFICATION_SUCCESS,\n  SET_LOCATION,\n  SET_META,\n  SET_SELF_PROFILE,\n  setExpressNotificationSuccessActionType,\n  setLocationActionType,\n  setMetaActionType,\n  setSelfProfileType,\n  UPLOAD_FILE_SUCCESS,\n  UPLOAD_FILES_SUCCESS,\n  uploadFilesSuccessActionType,\n  uploadFileSuccessActionType,\n  SET_CONNECTION_STATUS,\n  setConnectionStatusType,\n  CONNECTION_STATUS_CHANGED,\n  connectionStatusChangedType,\n  SET_DEEPLINK_URL,\n  setDeeplinkUrlType,\n  CLIENT_STORAGE_LOADED,\n  clientStorageLoadedActionType,\n  SET_UNREAD_COUNTER,\n  setUnreadCounterActionType,\n  SET_LAYOUT_TYPE,\n  setLayoutTypeActionType,\n} from '../actions/client'\n\nconst initialState: ClientState = {\n  attachments: null,\n  response: null,\n  meta: null,\n  notifications: [],\n  location: null,\n  selfProfile: null,\n  connectionStatus: null,\n  subscribedConnectionStatus: null,\n  deeplinkUrl: null,\n  storageData: '',\n  unreadCounter: -1,\n  layoutType: null\n}\n\nconst reducers = {\n  [UPLOAD_FILE_SUCCESS]: (state: ClientState, { payload: file }: uploadFileSuccessActionType): ClientState => ({\n    ...state,\n    attachments: [file],\n  }),\n  [UPLOAD_FILES_SUCCESS]: (state: ClientState, { payload: files }: uploadFilesSuccessActionType): ClientState => ({\n    ...state,\n    attachments: [...files],\n  }),\n  [REMOVE_FILE_SUCCESS]: (state: ClientState, { payload: id }: removeFileSuccessActionType): ClientState => ({\n    ...state,\n    attachments: state.attachments.filter(attachment => attachment.fileId !== id),\n  }),\n  [RESET_ATTACHMENTS]: (state: ClientState): ClientState => ({\n    ...state,\n    attachments: null,\n  }),\n  [SET_EXPRESS_NOTIFICATION_SUCCESS]: (\n    state: ClientState,\n    { payload }: setExpressNotificationSuccessActionType\n  ): ClientState => ({\n    ...state,\n    notifications: [payload, ...state.notifications],\n  }),\n  [RESET_EXPRESS_NOTIFICATION_SUCCESS]: (state: ClientState): ClientState => ({\n    ...state,\n    notifications: [],\n  }),\n  [SEND_EXPRESS_EVENT_SUCCESS]: (state: ClientState, response: sendExpressEventSuccessActionType): ClientState => ({\n    ...state,\n    response,\n  }),\n  [RESET_EXPRESS_RESPONSE]: (state: ClientState): ClientState => ({\n    ...state,\n    response: null,\n  }),\n  [SET_META]: (state: ClientState, { payload }: setMetaActionType): ClientState => ({\n    ...state,\n    meta: payload,\n  }),\n  [SET_LOCATION]: (state: ClientState, { payload }: setLocationActionType): ClientState => ({\n    ...state,\n    location: payload,\n  }),\n  [SET_SELF_PROFILE]: (state: ClientState, { payload }: setSelfProfileType): ClientState => ({\n    ...state,\n    selfProfile: payload,\n  }),\n  [SET_CONNECTION_STATUS]: (state: ClientState, { payload }: setConnectionStatusType): ClientState => ({\n    ...state,\n    connectionStatus: payload,\n  }),\n  [CONNECTION_STATUS_CHANGED]: (state: ClientState, { payload }: connectionStatusChangedType): ClientState => ({\n    ...state,\n    subscribedConnectionStatus: payload,\n  }),\n  [SET_DEEPLINK_URL]: (state: ClientState, { payload }: setDeeplinkUrlType): ClientState => ({\n    ...state,\n    deeplinkUrl: payload,\n  }),\n  [CLIENT_STORAGE_LOADED]: (state: ClientState, { payload }: clientStorageLoadedActionType): ClientState => ({\n    ...state,\n    storageData: payload,\n  }),\n  [SET_UNREAD_COUNTER]: (state: ClientState, { payload }: setUnreadCounterActionType): ClientState => ({\n    ...state,\n    unreadCounter: payload,\n  }),\n  [SET_LAYOUT_TYPE]: (state: ClientState, { payload }: setLayoutTypeActionType): ClientState => ({\n    ...state,\n    layoutType: payload,\n  }),\n}\n\nexport const client = handleActions<ClientState, any>(reducers, initialState)\n","import { connectRouter } from 'connected-react-router'\nimport { combineReducers } from 'redux'\nimport { history } from '../history'\nimport { ui } from './ui'\nimport { AppState } from '../../types'\nimport { bot } from './bot'\nimport { client } from './client'\n\nexport const rootReducer = combineReducers<AppState>({\n  ui,\n  bot,\n  client,\n  router: connectRouter(history),\n})\n","import { MENU_EVENT } from '../constants'\nimport { Bridge } from '@expressms/smartapp-sdk'\n\nexport class HighloadTester {\n  interval = null\n  totalResponseCount = 0\n  totalRequestCount = 0\n  totalRequestsTime = 0\n\n  intervalCallback() {\n    const tsStart = new Date().getTime()\n    this.totalRequestCount++\n\n    Bridge.sendBotEvent({\n      ...MENU_EVENT,\n      sync_request: true,\n    })\n      .then(() => {\n        const tsEnd = new Date().getTime()\n        this.totalRequestsTime += tsEnd - tsStart\n        this.totalResponseCount++\n      })\n      .catch(() => {})\n  }\n\n  stop() {\n    if (!this.interval) return\n\n    clearInterval(this.interval)\n    this.interval = null\n  }\n\n  start(rps) {\n    this.stop()\n\n    const delay = 1000 / rps\n\n    this.interval = setInterval(this.intervalCallback.bind(this), delay)\n  }\n\n  getMetrics() {\n    return {\n      totalResponseCount: this.totalResponseCount,\n      totalRequestCount: this.totalRequestCount,\n      totalRequestsTime: this.totalRequestsTime,\n    }\n  }\n}\n","import { call, delay, put, select, spawn } from 'redux-saga/effects'\nimport {\n  setHighloadTestProgress,\n  setMainLoader,\n  setPerformanceTestProgress,\n  togglePerformanceTest,\n} from '../actions/ui'\nimport { Bridge as bridge } from '@expressms/smartapp-sdk'\nimport { AppState, BotFeaturesResponse, PerformanceResult } from '../../types'\nimport { HIGHLOAD_TEST_MEASURE_INTERVAL, HIGHLOAD_TEST_RPS_STEP, MENU_EVENT, PERF_TEST_COUNTER } from '../../constants'\nimport { loadFeaturesSuccess } from '../actions/bot'\nimport { toast, Theme, ToastPosition } from 'react-toastify'\nimport { getHighloadTestRunning } from '../selectors/ui'\nimport { HighloadTester } from '../../helpers/highload-tester'\n\nlet performanceTestTask = null\n\nexport function* loadFeaturesSaga() {\n  try {\n    yield put(setMainLoader(true))\n\n    const response: BotFeaturesResponse = yield bridge.sendBotEvent(MENU_EVENT)\n\n    if (response) yield put(loadFeaturesSuccess(response.payload.result))\n  } catch (e: any) {\n    console.error('loadFeaturesSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n\nexport function* showToast(text: string) {\n  try {\n    const theme = yield select((state: AppState) => state.ui.theme)\n\n    const toastOptions = {\n      theme: (theme === 'dark' ? 'dark' : 'light') as Theme,\n      position: 'bottom-left' as ToastPosition,\n      autoClose: 3000,\n    }\n\n    yield call(toast.info, text, toastOptions)\n  } catch (e: any) {\n    console.error('showToast error', e)\n  }\n}\n\nfunction* performanceIterationSaga(isSync) {\n  const ts1 = new Date().getTime()\n\n  try {\n    yield bridge.sendBotEvent({\n      ...MENU_EVENT,\n      sync_request: isSync,\n    })\n  } catch (e: any) {\n    console.error('performanceIterationSaga error', e)\n    return 0\n  }\n\n  const ts2 = new Date().getTime()\n\n  return ts2 - ts1\n}\n\nfunction* performanceTestSaga() {\n  let iteration = 0\n  let results: Array<PerformanceResult> = []\n  let progress = 0\n\n  while (iteration < PERF_TEST_COUNTER) {\n    const sync = yield call(performanceIterationSaga, true)\n    const async = yield call(performanceIterationSaga, false)\n\n    iteration++\n\n    results = [\n      ...results,\n      {\n        sync,\n        async,\n        eventNumber: `#${iteration}`,\n      },\n    ]\n    progress = Math.ceil((iteration * 100) / PERF_TEST_COUNTER)\n\n    yield put(setPerformanceTestProgress({ progress, results }))\n  }\n  yield put(togglePerformanceTest())\n}\n\nexport function* togglePerformanceTestSaga() {\n  try {\n    const performanceTest = yield select((state: AppState) => state.ui.performanceTest)\n\n    if (!performanceTest.running) {\n      if (performanceTestTask) {\n        performanceTestTask.cancel()\n        performanceTestTask = null\n      }\n      return\n    } else {\n      performanceTestTask = yield spawn(performanceTestSaga)\n    }\n  } catch (e: any) {\n    console.error('togglePerformanceTestSaga error', e)\n  }\n}\n\nexport function* toggleHighloadTestSaga() {\n  let targetRequestRps = 1\n  let prevMetrics = {\n    totalResponseCount: 0,\n    totalRequestCount: 0,\n    totalRequestsTime: -1,\n  }\n\n  const running = yield select(getHighloadTestRunning)\n  if (!running) return\n\n  const tester = new HighloadTester()\n\n  while (true) {\n    const running = yield select(getHighloadTestRunning)\n    if (!running) {\n      tester.stop()\n      return\n    }\n\n    tester.start(targetRequestRps)\n\n    yield delay(HIGHLOAD_TEST_MEASURE_INTERVAL)\n\n    const currMetrics = tester.getMetrics()\n    const requestCount = currMetrics.totalRequestCount - prevMetrics.totalRequestCount\n    const requestRps = requestCount / (HIGHLOAD_TEST_MEASURE_INTERVAL / 1000)\n    const responseRps =\n      (currMetrics.totalResponseCount - prevMetrics.totalResponseCount) / (HIGHLOAD_TEST_MEASURE_INTERVAL / 1000)\n    const responseTimeAvg = (currMetrics.totalRequestsTime - prevMetrics.totalRequestsTime) / (requestCount || 1)\n\n    console.log(\"Metrics\", currMetrics)\n\n    yield put(setHighloadTestProgress({ requestRps, responseRps, responseTimeAvg }))\n\n    prevMetrics = currMetrics\n    targetRequestRps += HIGHLOAD_TEST_RPS_STEP\n  }\n}\n","import { put, spawn } from 'redux-saga/effects'\nimport { setMainLoader } from '../actions/ui'\nimport { BotFeatureMethod, BotMethodResponse } from '../../types'\nimport { Bridge as bridge } from '@expressms/smartapp-sdk'\nimport { sendFeatureBotEventSuccess, setMenuResponse, setStaticFile } from '../actions/bot'\nimport { MENU_EVENT } from '../../constants'\nimport { showToast } from './ui'\n\nexport function* sendFeatureBotEventSaga(action) {\n  try {\n    yield put(setMainLoader(true))\n\n    const response: BotMethodResponse = yield bridge?.sendBotEvent(action.payload)\n\n    yield put(sendFeatureBotEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendFeatureBotEventSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n\nexport function* echoStaticFileSaga(action) {\n  try {\n    yield put(setMainLoader(true))\n    const staticFile = yield bridge?.sendBotEvent({\n      method: BotFeatureMethod.ECHO_STATIC_FILE,\n      params: {},\n      files: [action.payload],\n    })\n    console.error(staticFile)\n\n    yield put(setStaticFile(staticFile))\n\n  } catch (e: any) {\n    console.error('echoStaticFileSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n\nexport function* sendMenuSyncEventSaga() {\n  try {\n    yield put(setMenuResponse(null))\n    const response = yield bridge.sendBotEvent({\n      ...MENU_EVENT,\n      sync_request: true,\n    })\n    yield put(setMenuResponse(response))\n  } catch (e: any) {\n    yield spawn(showToast, `sendMenuSyncEventSaga error ${e?.message}`)\n    console.error('sendMenuSyncEvent error', e)\n  }\n}\n\nexport function* sendMenuAsyncEventSaga() {\n  try {\n    yield put(setMenuResponse(null))\n    const response = yield bridge.sendBotEvent(MENU_EVENT)\n    yield put(setMenuResponse(response))\n  } catch (e: any) {\n    yield spawn(showToast, `sendMenuAsyncEventSaga error ${e?.message}`)\n    console.error('sendMenuAsyncEventSaga error', e)\n  }\n}\n","import {\n  Bridge as bridge,\n  ready,\n  requestLocation,\n  sendMessage,\n  requestSelfProfile,\n  closeSmartApp,\n  getConnectionStatus,\n  subscribeClientEvents,\n  unsubscribeClientEvents,\n  createDeeplink,\n  openChatMessage,\n  clientStorageSet,\n  clientStorageGet,\n  clientStorageRemove,\n  clientStorageClear,\n  handleDeeplink,\n  searchCorporatePhonebook,\n  searchLocalPhonebook,\n  getUnreadCounter,\n} from '@expressms/smartapp-sdk'\nimport { ClientEventMethod, ExpressMethodResponse, File } from '../../types'\nimport { call, put, take, spawn } from 'redux-saga/effects'\nimport {\n  clientStorageGetActionType,\n  clientStorageLoaded,\n  clientStorageRemoveActionType,\n  clientStorageSetActionType,\n  connectionStatusChanged,\n  createDeeplinkActionType,\n  getUnreadCounterActionType,\n  handleDeeplinkActionType,\n  openChatMessageActionType,\n  searchCorporatePhonebookActionType,\n  searchLocalPhonebookActionType,\n  sendExpressEventActionType,\n  sendExpressEventSuccess,\n  sendMessageExpressEventActionType,\n  setConnectionStatus,\n  setDeeplinkUrl,\n  setLayoutType,\n  setLocation,\n  setMeta,\n  setSelfProfile,\n  setUnreadCounter,\n  subscribeUnreadCounterActionType,\n  unsubscribeUnreadCounterActionType,\n  uploadFilesActionType,\n  uploadFilesSuccess,\n  uploadFileSuccess,\n} from '../actions/client'\nimport { setMainLoader, setRedirectPath } from '../actions/ui'\nimport { OPEN_SMART_APP_META_FEATURE } from '../../constants'\nimport {\n  ClientStorageGetResponse,\n  CreateDeeplinkResponse,\n  GetConnectionStatusResponse,\n  GetLayoutTypeResponse,\n  GetUnreadCounterResponse,\n  STATUS,\n  SearchLocalPhonebookResponse,\n  StatusResponse,\n  SubscriptionEventType,\n} from '@expressms/smartapp-sdk/build/main/types'\nimport { eventChannel } from 'redux-saga'\nimport { showToast } from './ui'\nimport { getLayoutType } from '@expressms/smartapp-sdk/build/main/lib/client'\n\nlet connectionStatusChannel = null\nlet unreadCounterChannels = []\nlet layoutTypeChannel = null\n\nexport function* uploadFileSaga() {\n  try {\n    const response = yield bridge?.sendClientEvent({\n      method: ClientEventMethod.UPLOAD_FILE,\n      params: { type: '' },\n    })\n\n    if (!response.payload?.record) return\n\n    const file: File = {\n      ...response.payload.record,\n    }\n\n    yield put(uploadFileSuccess(file))\n  } catch (e) {\n    console.error(`uploadFileSaga error: ${e}`)\n  }\n}\n\nexport function* uploadFilesSaga({ payload: { type } }: uploadFilesActionType) {\n  try {\n    const response = yield bridge?.sendClientEvent({\n      method: ClientEventMethod.UPLOAD_FILES,\n      params: { type },\n      timeout: 60 * 60 * 1000, // Waiting 1h for files upload\n    })\n\n    if (!response.payload.records.length) return\n\n    const files: File[] = response.payload.records\n\n    yield put(uploadFilesSuccess(files))\n  } catch (e) {\n    console.error(`uploadFilesSaga error: ${e}`)\n  }\n}\n\nexport function* requestLocationSaga() {\n  try {\n    yield put(setMainLoader(true))\n    const response = yield requestLocation()\n\n    if (response) {\n      yield put(setLocation(response))\n    }\n  } catch (e) {\n    console.error(`uploadFileSaga error: ${e}`)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n\nexport function* requestSelfProfileSaga() {\n  try {\n    yield put(setMainLoader(true))\n    const response = yield requestSelfProfile()\n\n    if (response) {\n      yield put(setSelfProfile(response))\n    }\n  } catch (e) {\n    console.error(`requestSelfProfileSaga error: ${e}`)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n\nexport function* sendExpressEventSaga(action: sendExpressEventActionType) {\n  try {\n    yield put(setMainLoader(true))\n\n    const response: ExpressMethodResponse = yield bridge?.sendClientEvent(action.payload)\n\n    yield put(sendExpressEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendExpressEventSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n\nexport function* sendMessageExpressEventSaga(action: sendMessageExpressEventActionType) {\n  try {\n    yield put(setMainLoader(true))\n\n    const response: ExpressMethodResponse = yield sendMessage(action.payload)\n\n    yield put(sendExpressEventSuccess(response))\n  } catch (e: any) {\n    console.error('sendMessageExpressEventSaga error', e)\n  } finally {\n    yield put(setMainLoader(false))\n  }\n}\n\nexport function* sendExpressReadyEventSaga() {\n  try {\n    const response = yield ready(3000)\n    const meta = response?.payload?.[OPEN_SMART_APP_META_FEATURE.field]\n    const initialData = response?.payload?.initialData\n\n    if (meta || initialData?.initiator) {\n      bridge?.log?.({ response })\n      yield put(setRedirectPath(`/${OPEN_SMART_APP_META_FEATURE.method}`))\n      yield put(setMeta(response))\n      return\n    }\n\n    setRedirectPath('/')\n  } catch (e) {\n    console.error('sendExpressReadyEventSaga', e)\n  }\n}\n\nexport function* closeSmartAppSaga() {\n  try {\n    yield closeSmartApp()\n  } catch (e) {\n    console.error(`closeSmartAppSaga error: ${e}`)\n  }\n}\n\nexport function* getConnectionStatusSaga() {\n  try {\n    const response: GetConnectionStatusResponse = yield getConnectionStatus()\n\n    console.log(response)\n\n    yield put(setConnectionStatus(response.payload.connectionStatus))\n  } catch (e) {\n    console.error(`getConnectionStatusSaga error: ${e}`)\n  }\n}\n\nfunction addConnectionEventListener() {\n  return eventChannel(emitter => {\n    const connectionStatusCallback = (event: any) => {\n      console.log('Subscription event', JSON.stringify(event))\n      emitter(event.payload.connectionStatus)\n    }\n\n    subscribeClientEvents({\n      eventType: SubscriptionEventType.CONNECTION_STATUS,\n      callback: connectionStatusCallback,\n    }).then(() => {\n      console.log('Subscribed ' + SubscriptionEventType.CONNECTION_STATUS)\n    })\n\n    return () =>\n      unsubscribeClientEvents({\n        eventType: SubscriptionEventType.CONNECTION_STATUS,\n        callback: connectionStatusCallback,\n      })\n  })\n}\n\nexport function* subscribeConnectionStatusSaga() {\n  try {\n    connectionStatusChannel = yield call(addConnectionEventListener)\n\n    while (true) {\n      const connectionStatus = yield take(connectionStatusChannel)\n      yield put(connectionStatusChanged(connectionStatus))\n    }\n  } catch (e) {\n    console.error(`subscribeConnectionStatusSaga error: ${e}`)\n  }\n}\n\nexport function unsubscribeConnectionStatusSaga() {\n  if (connectionStatusChannel) {\n    connectionStatusChannel.close()\n    connectionStatusChannel = null\n  }\n}\n\nexport function* createDeeplinkSaga({ payload: { appId, meta } }: createDeeplinkActionType) {\n  try {\n    const response: CreateDeeplinkResponse = yield createDeeplink(appId, meta)\n\n    yield put(setDeeplinkUrl(response.payload.data?.deeplink))\n  } catch (e) {\n    console.error(`createDeeplinkSaga error: ${e}`)\n  }\n}\n\nexport function* openChatMessageSaga({ payload: { groupChatId, syncId } }: openChatMessageActionType) {\n  try {\n    yield openChatMessage({ groupChatId, syncId })\n  } catch (e) {\n    console.error(`openChatMessageSaga error: ${e}`)\n  }\n}\n\nexport function* clientStorageSetSaga({ payload: { key, value } }: clientStorageSetActionType) {\n  try {\n    const response: StatusResponse = yield clientStorageSet({ key, value })\n\n    const text =\n      response.payload.status === STATUS.SUCCESS\n        ? 'Saved successfully'\n        : `Error saving data to storage ${response.payload.errorCode}`\n\n    yield spawn(showToast, text)\n  } catch (e) {\n    console.error(`clientStorageSetSaga error: ${e}`)\n    yield spawn(showToast, `Error saving data to storage ${e.message}`)\n  }\n}\n\nexport function* clientStorageGetSaga({ payload: key }: clientStorageGetActionType) {\n  try {\n    const response: ClientStorageGetResponse = yield clientStorageGet({ key })\n\n    if (response.payload.status !== STATUS.SUCCESS) {\n      yield spawn(showToast, `Error getting data to storage ${response.payload.errorCode}`)\n      return\n    }\n\n    yield put(clientStorageLoaded(response.payload.value))\n  } catch (e) {\n    yield spawn(showToast, `Error getting data to storage ${e.message}`)\n    console.error(`clientStorageGetSaga error: ${e}`)\n  }\n}\n\nexport function* clientStorageRemoveSaga({ payload: key }: clientStorageRemoveActionType) {\n  try {\n    const response: StatusResponse = yield clientStorageRemove({ key })\n\n    const text =\n      response.payload.status === STATUS.SUCCESS\n        ? 'Removed successfully'\n        : `Error removing data to storage ${response.payload?.errorCode}`\n\n    yield spawn(showToast, text)\n  } catch (e) {\n    yield spawn(showToast, `Error removing data from storage ${e.message}`)\n    console.error(`clientStorageRemoveSaga error: ${e}`)\n  }\n}\n\nexport function* clientStorageClearSaga() {\n  try {\n    const response: StatusResponse = yield clientStorageClear()\n\n    const text =\n      response.payload.status === STATUS.SUCCESS\n        ? 'Cleared successfully'\n        : `Error clearing data in storage ${response.payload.errorCode}`\n\n    yield spawn(showToast, text)\n  } catch (e) {\n    yield spawn(showToast, `Error clearing data in storage ${e.message}`)\n    console.error(`clientStorageClearSaga error: ${e}`)\n  }\n}\n\nexport function* handleDeeplinkSaga({ payload: deeplink }: handleDeeplinkActionType) {\n  try {\n    const response: StatusResponse = yield handleDeeplink({ link: deeplink })\n\n    const text =\n      response.payload.status === STATUS.SUCCESS\n        ? 'Deeplink handled successfully'\n        : `Error handling deeplink ${response.payload.errorCode}`\n\n    yield spawn(showToast, text)\n  } catch (e) {\n    yield spawn(showToast, `Error handling deeplink ${e?.message || e}`)\n    console.error(`handleDeeplinkSaga error: ${e}`)\n  }\n}\n\nexport function* searchCorporatePhonebookSaga({ payload: filter }: searchCorporatePhonebookActionType) {\n  try {\n    const response = yield searchCorporatePhonebook({ filter })\n\n    if (response.payload.status !== STATUS.SUCCESS) {\n      yield spawn(showToast, `Error search corp phonebook ${response.payload.errorCode}`)\n      return\n    }\n\n    yield put(sendExpressEventSuccess(response))\n  } catch (e) {\n    yield spawn(showToast, `Error search corp phonebook ${e?.message || e}`)\n    console.error(`searchCorporatePhonebookSaga error: ${e}`)\n  }\n}\n\nexport function* searchLocalPhonebookSaga({ payload: filter }: searchLocalPhonebookActionType) {\n  try {\n    const response: SearchLocalPhonebookResponse = yield searchLocalPhonebook({ filter })\n\n    if (response.payload.status !== STATUS.SUCCESS) {\n      yield spawn(showToast, `Error search local phonebook ${response.payload.errorCode}`)\n      return\n    }\n\n    yield put(sendExpressEventSuccess(response))\n  } catch (e) {\n    yield spawn(showToast, `Error search local phonebook ${e?.message || e}`)\n    console.error(`searchLocalPhonebookSaga error: ${e}`)\n  }\n}\n\nexport function* getUnreadCounterSaga({ payload: { id, type } }: getUnreadCounterActionType) {\n  try {\n    const response: GetUnreadCounterResponse = yield getUnreadCounter({ id, type })\n\n    if (response.payload.status === STATUS.ERROR) {\n      yield spawn(showToast, `Error getting unread counter ${response.payload.errorCode}`)\n      return\n    }\n\n    yield put(setUnreadCounter(response.payload.unreadCounter))\n  } catch (e) {\n    yield spawn(showToast, `Error getting unread counter ${e?.message || e}`)\n    console.error(`getUnreadCounterSaga error: ${e}`)\n  }\n}\n\nfunction addUreadCounterEventListener(id, type) {\n  return eventChannel(emitter => {\n    const unreadCounterCallback = (event: any) => {\n      console.log('Subscription event', event)\n      emitter({\n        id: event.payload.source.id,\n        type: event.payload.source.type,\n        unreadCounter: event.payload.unreadCounter,\n      })\n    }\n\n    subscribeClientEvents({\n      eventType: SubscriptionEventType.UNREAD_COUNTER_CHANGE,\n      callback: unreadCounterCallback,\n      payload: { id, type },\n    }).then((response) => {\n      if (response.payload.status === STATUS.ERROR) {\n        unsubscribeUnreadCounterSaga({ payload: { id, type } } as subscribeUnreadCounterActionType)\n        showToast(`Error subscribing unread counter ${response.payload.errorCode}`)\n        return\n      }\n\n      console.log('Subscribed ' + SubscriptionEventType.UNREAD_COUNTER_CHANGE)\n    }).catch((e) => {\n      unsubscribeUnreadCounterSaga({ payload: { id, type } } as subscribeUnreadCounterActionType)\n      showToast(`Error subscribing unread counter ${e?.message || e}`)\n      console.error(`Error subscribing unread counter ${e?.message || e}`)\n    })\n\n    return () => {\n      unsubscribeUnreadCounterSaga({ payload: { id, type } } as subscribeUnreadCounterActionType)\n      unsubscribeClientEvents({\n        eventType: SubscriptionEventType.UNREAD_COUNTER_CHANGE,\n        callback: unreadCounterCallback,\n        payload: { id, type },\n      })\n    }\n  })\n}\n\nexport function* subscribeUnreadCounterSaga({ payload: { id, type } }: subscribeUnreadCounterActionType) {\n  try {\n    const channel = yield call(addUreadCounterEventListener, id, type)\n\n    unreadCounterChannels.push({ id: `${type}-${id}`, channel })\n\n    while (true) {\n      const { id, type, unreadCounter } = yield take(channel)\n\n      yield spawn(showToast, `Counter = ${unreadCounter} for ${type} = ${id}`)\n    }\n  } catch (e) {\n    console.error(`subscribeUnreadCounterSaga error: ${e}`)\n  }\n}\n\nexport function unsubscribeUnreadCounterSaga({ payload: { id, type } }: unsubscribeUnreadCounterActionType) {\n  const item = unreadCounterChannels.find(c => c.id === `${type}-${id}`)\n\n  if (!item) return\n\n  item.channel.close()\n  \n  const index = unreadCounterChannels.indexOf(item)\n  unreadCounterChannels.splice(index, 1)\n}\n\nexport function* getLayoutTypeSaga() {\n  try {\n    const response: GetLayoutTypeResponse = yield getLayoutType()\n\n    if (response.payload.status === STATUS.ERROR) {\n      yield spawn(showToast, `Error getting layout type ${response.payload.errorCode}`)\n      return\n    }\n\n    yield put(setLayoutType(response.payload.layoutType))\n  } catch (e) {\n    yield spawn(showToast, `Error getting layout type ${e?.message || e}`)\n    console.error(`getLayoutTypeSaga error: ${e}`)\n  }\n}\n\nfunction addLayoutTypeListener() {\n  return eventChannel(emitter => {\n    const layoutTypeCallback = (event: any) => {\n      console.log('Subscription event', JSON.stringify(event))\n      emitter(event.payload.layoutType)\n    }\n\n    subscribeClientEvents({\n      eventType: SubscriptionEventType.LAYOUT_TYPE,\n      callback: layoutTypeCallback,\n    }).then(() => {\n      console.log('Subscribed ' + SubscriptionEventType.LAYOUT_TYPE)\n    })\n\n    return () =>\n      unsubscribeClientEvents({\n        eventType: SubscriptionEventType.LAYOUT_TYPE,\n        callback: layoutTypeCallback,\n      })\n  })\n}\n\nexport function* subscribeLayoutTypeSaga() {\n  try {\n    layoutTypeChannel = yield call(addLayoutTypeListener)\n\n    while (true) {\n      const layoutType = yield take(layoutTypeChannel)\n      yield put(setLayoutType(layoutType))\n    }\n  } catch (e) {\n    console.error(`subscribeLayoutTypeSaga error: ${e}`)\n  }\n}\n\nexport function unsubscribeLayoutTypeSaga() {\n  if (layoutTypeChannel) {\n    layoutTypeChannel.close()\n    layoutTypeChannel = null\n  }\n}\n","import { all, call, select, spawn, take } from 'redux-saga/effects'\nimport { eventChannel, EventChannel } from 'redux-saga'\nimport { Bridge as bridge, routingChanged } from '@expressms/smartapp-sdk'\nimport { AppEvent, AppState, Methods } from '../../types'\nimport { history } from '../history'\nimport { showToast } from './ui'\n\nexport function subscribeClientEvents(): EventChannel<AppEvent> {\n  return eventChannel(emit => {\n    bridge?.onReceive(event => emit(event as any))\n    return () => {}\n  })\n}\n\nexport function* watchClientEvents() {\n  const channel: EventChannel<AppEvent> = yield call(subscribeClientEvents)\n\n  while (true) {\n    const event: AppEvent = yield take(channel)\n\n    switch (event.type) {\n      case Methods.CLEAN_CACHE:\n      case Methods.MOVE_TO_ROOT:\n        yield spawn(showToast, `Event ${event.type} received`)\n        break\n      case Methods.BACK_PRESSED:\n        if (window.location.hash !== '#/') {\n          window.location.hash = '#/'\n        }\n        break\n      case Methods.IOS_SWIPE:\n        const showIosSwipeToast = yield select((state: AppState) => state.ui.showIosSwipeToast)\n        if (showIosSwipeToast) yield spawn(showToast, 'Event ios_swipe received')\n        break\n      default:\n        break\n    }\n  }\n}\n\nexport function subscribeHistoryEvents(): EventChannel<Location> {\n  return eventChannel(emit => {\n    history.listen(event => emit(event as any))\n    return () => {}\n  })\n}\n\nfunction* watchHistoryEvents() {\n  const channel: EventChannel<Location> = yield call(subscribeHistoryEvents)\n\n  while (true) {\n    const event: Location = yield take(channel)\n\n    yield spawn(handleRoutingChanged, event)\n  }\n}\n\nexport function* handleRoutingChanged(event) {\n  try {\n    const isRoot = event.pathname === '/'\n\n    yield routingChanged(isRoot)\n  } catch (e) {\n    // Not all platforms return response for routing_changed event\n  }\n}\n\nexport function* rootEventsBusSaga() {\n  yield all([watchClientEvents(), watchHistoryEvents()])\n}\n","import { all, fork, takeEvery } from 'redux-saga/effects'\nimport { loadFeaturesSaga, toggleHighloadTestSaga, togglePerformanceTestSaga } from './ui'\nimport { echoStaticFileSaga, sendFeatureBotEventSaga, sendMenuAsyncEventSaga, sendMenuSyncEventSaga } from './bot'\nimport {\n  closeSmartAppSaga,\n  requestLocationSaga,\n  requestSelfProfileSaga,\n  sendExpressEventSaga,\n  sendExpressReadyEventSaga,\n  sendMessageExpressEventSaga,\n  uploadFileSaga,\n  uploadFilesSaga,\n  getConnectionStatusSaga,\n  subscribeConnectionStatusSaga,\n  unsubscribeConnectionStatusSaga,\n  createDeeplinkSaga,\n  openChatMessageSaga,\n  clientStorageGetSaga,\n  clientStorageSetSaga,\n  clientStorageRemoveSaga,\n  clientStorageClearSaga,\n  handleDeeplinkSaga,\n  searchCorporatePhonebookSaga,\n  searchLocalPhonebookSaga,\n  getUnreadCounterSaga,\n  subscribeUnreadCounterSaga,\n  unsubscribeUnreadCounterSaga,\n  getLayoutTypeSaga,\n  subscribeLayoutTypeSaga,\n  unsubscribeLayoutTypeSaga,\n} from './client'\nimport {\n  CLIENT_STORAGE_CLEAR,\n  CLIENT_STORAGE_GET,\n  CLIENT_STORAGE_REMOVE,\n  CLIENT_STORAGE_SET,\n  CLOSE_SMART_APP,\n  CREATE_DEEPLINK,\n  ECHO_STATIC_FILE,\n  GET_CONNECTION_STATUS,\n  GET_LAYOUT_TYPE,\n  GET_UNREAD_COUNTER,\n  HANDLE_DEEPLINK,\n  OPEN_CHAT_MESSAGE,\n  REQUEST_LOCATION,\n  REQUEST_SELF_PROFILE,\n  SEARCH_CORPORATE_PHONEBOOK,\n  SEARCH_LOCAL_PHONEBOOK,\n  SEND_EXPRESS_EVENT,\n  SEND_EXPRESS_READY_EVENT,\n  SEND_MESSAGE_EXPRESS_EVENT,\n  SUBSCRIBE_CONNECTION_STATUS,\n  SUBSCRIBE_LAYOUT_TYPE,\n  SUBSCRIBE_UNREAD_COUNTER,\n  UNSUBSCRIBE_CONNECTION_STATUS,\n  UNSUBSCRIBE_LAYOUT_TYPE,\n  UNSUBSCRIBE_UNREAD_COUNTER,\n  UPLOAD_FILE,\n  UPLOAD_FILES,\n} from '../actions/client'\nimport { LOAD_FEATURES, SEND_FEATURE_BOT_EVENT, SEND_MENU_ASYNC_EVENT, SEND_MENU_SYNC_EVENT } from '../actions/bot'\nimport { rootEventsBusSaga } from './eventBus'\nimport { TOGGLE_HIGHLOAD_TEST, TOGGLE_PERFORMANCE_TEST } from '../actions/ui'\n\nfunction* rootFeatureSmartAppSaga() {\n  yield all([\n    takeEvery(LOAD_FEATURES, loadFeaturesSaga),\n    takeEvery(SEND_FEATURE_BOT_EVENT, sendFeatureBotEventSaga),\n    takeEvery(ECHO_STATIC_FILE, echoStaticFileSaga),\n    takeEvery(SEND_EXPRESS_EVENT, sendExpressEventSaga),\n    takeEvery(SEND_MESSAGE_EXPRESS_EVENT, sendMessageExpressEventSaga),\n    takeEvery(SEND_EXPRESS_READY_EVENT, sendExpressReadyEventSaga),\n    takeEvery(UPLOAD_FILE, uploadFileSaga),\n    takeEvery(UPLOAD_FILES, uploadFilesSaga),\n    takeEvery(REQUEST_LOCATION, requestLocationSaga),\n    takeEvery(REQUEST_SELF_PROFILE, requestSelfProfileSaga),\n    takeEvery(CLOSE_SMART_APP, closeSmartAppSaga),\n    takeEvery(GET_CONNECTION_STATUS, getConnectionStatusSaga),\n    takeEvery(SUBSCRIBE_CONNECTION_STATUS, subscribeConnectionStatusSaga),\n    takeEvery(UNSUBSCRIBE_CONNECTION_STATUS, unsubscribeConnectionStatusSaga),\n    takeEvery(CREATE_DEEPLINK, createDeeplinkSaga),\n    takeEvery(OPEN_CHAT_MESSAGE, openChatMessageSaga),\n    takeEvery(CLIENT_STORAGE_GET, clientStorageGetSaga),\n    takeEvery(CLIENT_STORAGE_SET, clientStorageSetSaga),\n    takeEvery(CLIENT_STORAGE_REMOVE, clientStorageRemoveSaga),\n    takeEvery(CLIENT_STORAGE_CLEAR, clientStorageClearSaga),\n    takeEvery(HANDLE_DEEPLINK, handleDeeplinkSaga),\n    takeEvery(SEARCH_CORPORATE_PHONEBOOK, searchCorporatePhonebookSaga),\n    takeEvery(SEARCH_LOCAL_PHONEBOOK, searchLocalPhonebookSaga),\n    takeEvery(GET_UNREAD_COUNTER, getUnreadCounterSaga),\n    takeEvery(SUBSCRIBE_UNREAD_COUNTER, subscribeUnreadCounterSaga),\n    takeEvery(UNSUBSCRIBE_UNREAD_COUNTER, unsubscribeUnreadCounterSaga),\n    takeEvery(TOGGLE_PERFORMANCE_TEST, togglePerformanceTestSaga),\n    takeEvery(SEND_MENU_ASYNC_EVENT, sendMenuAsyncEventSaga),\n    takeEvery(SEND_MENU_SYNC_EVENT, sendMenuSyncEventSaga),\n    takeEvery(GET_LAYOUT_TYPE, getLayoutTypeSaga),\n    takeEvery(SUBSCRIBE_LAYOUT_TYPE, subscribeLayoutTypeSaga),\n    takeEvery(UNSUBSCRIBE_LAYOUT_TYPE, unsubscribeLayoutTypeSaga),\n    takeEvery(TOGGLE_HIGHLOAD_TEST, toggleHighloadTestSaga),\n  ])\n}\n\nfunction* rootSaga() {\n  yield all([\n    fork(rootFeatureSmartAppSaga),\n    fork(rootEventsBusSaga),\n  ])\n}\n\nexport default rootSaga\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Main from './components/Main'\nimport { configureStore } from './redux/configureStore'\nimport { history } from './redux/history'\nimport './index.scss'\nimport { setupTheme } from './helpers'\n\nif ((module as any).hot) (module as any).hot.accept()\n\nsetupTheme()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={configureStore()}>\n      {/* @ts-ignore */}\n      <ConnectedRouter history={history}>\n        <Main />\n      </ConnectedRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)","import { applyMiddleware, createStore, Store } from 'redux'\nimport { routerMiddleware as createRouterMiddleware } from 'connected-react-router'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport createSagaMiddleware from 'redux-saga'\nimport { rootReducer } from './reducers'\nimport rootSaga from './sagas'\nimport { history } from './history'\nimport { AppState } from '../types'\n\ntype ApplicationStore = Store<AppState>\n\nexport function configureStore(): ApplicationStore {\n  const sagaMiddleware = createSagaMiddleware()\n  const routerMiddleware = createRouterMiddleware(history)\n\n  const store: ApplicationStore = createStore(\n    rootReducer,\n    undefined,\n    composeWithDevTools(applyMiddleware(sagaMiddleware, routerMiddleware))\n  )\n\n  sagaMiddleware\n    .run(rootSaga)\n    .toPromise()\n    .catch((e: Error) => console.error('Saga error', e))\n\n  return store\n}\n"],"sourceRoot":""}